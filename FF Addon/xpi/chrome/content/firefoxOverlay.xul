<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet href="chrome://acunetixwebscanner/skin/overlay.css" type="text/css"?>

<!--
/*
Autor: 		Attila Gerendi
Purpose:	The main xul
*/
-->

<!DOCTYPE overlay SYSTEM "chrome://acunetixwebscanner/locale/acunetixwebscanner.dtd">
<overlay id="acunetixwebscanner-overlay" xmlns="http://www.mozilla.org/keymaster/gatekeeper/there.is.only.xul">

<script><![CDATA[ eval(atob('LyoNCkF1dGhvcjoJCUF0dGlsYSBHZXJlbmRpDQpQdXJwb3NlOglWYXJpb3VzIHByb3RvdHlwZSBmdW5jdGlvbnMNCiovDQoNCmZ1bmN0aW9uIHR5cGVPZih2YWx1ZSkNCnsNCiAgICB2YXIgcyA9IHR5cGVvZiB2YWx1ZTsNCiAgICBpZiAocyA9PT0gJ29iamVjdCcpDQoJew0KICAgICAgICBpZiAodmFsdWUpDQoJCXsNCiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsdWUubGVuZ3RoID09PSAnbnVtYmVyJyAmJiAhKHZhbHVlLnByb3BlcnR5SXNFbnVtZXJhYmxlKCdsZW5ndGgnKSkgJiYgdHlwZW9mIHZhbHVlLnNwbGljZSA9PT0gJ2Z1bmN0aW9uJykNCiAgICAgICAgICAgICAgICBzID0gJ2FycmF5JzsNCiAgICAgICAgfQ0KCQllbHNlDQogICAgICAgICAgICBzID0gJ251bGwnOw0KICAgIH0NCiAgICByZXR1cm4gczsNCn0NCg0KU3RyaW5nLnByb3RvdHlwZS5lbnRpdHlpZnkgPSBmdW5jdGlvbiAoKQ0Kew0KICAgIHJldHVybiB0aGlzLnJlcGxhY2UoLyYvZywgIiZhbXA7IikucmVwbGFjZSgvPC9nLCImbHQ7IikucmVwbGFjZSgvPi9nLCAiJmd0OyIpLnJlcGxhY2UoL1wiL2csICImcXVvdDsiKS5yZXBsYWNlKC9cJy9nLCAiJiMzOTsiKTsNCn07DQoNClN0cmluZy5wcm90b3R5cGUuc3VwcGxhbnQgPSBmdW5jdGlvbiAobykNCnsNCiAgICByZXR1cm4gdGhpcy5yZXBsYWNlKC97KFtee31dKil9L2csDQogICAgICAgIGZ1bmN0aW9uIChhLCBiKQ0KCQl7DQogICAgICAgICAgICB2YXIgciA9IG9bYl07DQogICAgICAgICAgICByZXR1cm4gdHlwZW9mIHIgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiByID09PSAnbnVtYmVyJyA/IHIgOiBhOw0KICAgICAgICB9DQogICAgKTsNCn07DQoNClN0cmluZy5wcm90b3R5cGUudHJpbSA9IGZ1bmN0aW9uICgpIHsNCiAgICByZXR1cm4gdGhpcy5yZXBsYWNlKC9eXHMqKFxTKihccytcUyspKilccyokLywgIiQxIik7DQp9Ow0KDQoNClN0cmluZy5wcm90b3R5cGUucmVnZXhFc2NhcGUgPSBmdW5jdGlvbigpIHsNCiAgICB2YXIgc3BlY2lhbHMgPSBbDQogICAgICAnLycsICcuJywgJyonLCAnKycsICc/JywgJ3wnLA0KICAgICAgJygnLCAnKScsICdbJywgJ10nLCAneycsICd9JywgJ1xcJw0KICAgIF07DQogICAgcmVnZXhwID0gbmV3IFJlZ0V4cCgnKFxcJyArIHNwZWNpYWxzLmpvaW4oJ3xcXCcpICsgJyknLCAnZycgKTsNCglyZXR1cm4gdGhpcy5yZXBsYWNlKHJlZ2V4cCwgJ1xcJDEnKTsNCn0=')); ]]></script>
<script><![CDATA[ eval(atob('LyoNCkF1dGhvcjoJCUF0dGlsYSBHZXJlbmRpDQpQdXJwb3NlOglDaXBoZXJzDQoqLw0KDQpmdW5jdGlvbiBlbmNvZGVyQ2xhc3MoKQ0Kew0KCXRoaXMuZW5jb2RlNjQJPSBlbmNvZGU2NDsNCgl0aGlzLmRlY29kZTY0CT0gZGVjb2RlNjQ7DQoJdGhpcy5lbmNvZGUJCT0gZW5jb2RlOw0KCQ0KCWZ1bmN0aW9uIGVuY29kZShzdHJJbnB1dCkNCgl7DQoJCXJldHVybihzdHJJbnB1dCkNCgl9DQoJDQoJZnVuY3Rpb24gZW5jb2RlNjQoc3RySW5wdXQpDQoJew0KCQl2YXIgdG1wU3RyID0gIiI7DQoJCS8vd2UgbXVzdCBlbnN1cmUgdGhlIGJ0b2EgZG9lcyBub3QgZ2V0IG11bHRpYnl0ZSBjaGFyYWN0ZXJzIHNpbmNlIGl0IHdpbGwgY3Jhc2gNCgkJZm9yKHZhciBpID0gMDsgaSA8IHN0cklucHV0Lmxlbmd0aDsgaSsrKQ0KCQkJdG1wU3RyICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoc3RySW5wdXQuY2hhckNvZGVBdChpKSAmIDB4ZmYpOw0KCQlyZXR1cm4oYnRvYSh0bXBTdHIpKQ0KCX0NCgkNCglmdW5jdGlvbiBkZWNvZGU2NChzdHJJbnB1dCkNCgl7DQoJCXJldHVybihhdG9iKHN0cklucHV0KSk7DQoJfQ0KfQ==')); ]]></script>
<script><![CDATA[ eval(atob('LyoNCkF1dGhvcjogICAgIEF0dGlsYSBHZXJlbmRpDQpQdXJwb3NlOiAgICBUaGUgRWxlbWV0IGhpZ2hsaWdodGVyIGNsYXNzDQoqLw0KDQpmdW5jdGlvbiBjbGFzc0hUTUxFbGVtZW50SGlnaGxpZ2h0ZXIoKQ0Kew0KCXRoaXMuYXJyYXlIaWdoTGlnaHRlZEl0ZW1zID0gbmV3IEFycmF5KCk7DQoJDQoJdGhpcy5oaWdobGlnaHRJdGVtID0gaGlnaGxpZ2h0SXRlbTsNCgl0aGlzLnNlYXJjaEl0ZW1JbmRleCA9IHNlYXJjaEl0ZW1JbmRleDsNCgkNCgl0aGlzLmhpZ2hsaWdodEl0ZW1JbnRlcm5hbCA9IGhpZ2hsaWdodEl0ZW1JbnRlcm5hbDsNCgkNCglmdW5jdGlvbiBzZWFyY2hJdGVtSW5kZXgoc3RySWQpDQoJew0KCQlmb3IodmFyIGkgPTAgOyBpIDwgdGhpcy5hcnJheUhpZ2hMaWdodGVkSXRlbXMubGVuZ3RoIDsgaSsrKQ0KCQkJaWYodGhpcy5hcnJheUhpZ2hMaWdodGVkSXRlbXNbaV1bMF09PXN0cklkKQ0KCQkJCXJldHVybihpKTsNCgkJcmV0dXJuKC0xKTsNCgl9DQoJDQoJZnVuY3Rpb24gaGlnaGxpZ2h0SXRlbUludGVybmFsKG9iakRvYywgc3RySWQsIGJvb2xNb2RlKQ0KCXsNCgkJdmFyIGl0ZW0gPSBvYmpEb2MuZ2V0RWxlbWVudEJ5SWQoc3RySWQpOw0KCQlpZiAoIWl0ZW0pDQoJCQlyZXR1cm4oZmFsc2UpOw0KCQkNCgkJdmFyIGN1cnJlbnRTdHlsZSA9ICIiOw0KCQlpZihpdGVtLmhhc0F0dHJpYnV0ZSgic3R5bGUiKSkNCgkJCWN1cnJlbnRTdHlsZSA9IGl0ZW0uZ2V0QXR0cmlidXRlKCJzdHlsZSIpOw0KCQkJDQoJCXZhciBvcmlnaW5hbFN0eWxlID0gIiI7DQoJCXZhciBpdGVtSW5kZXggPSB0aGlzLnNlYXJjaEl0ZW1JbmRleChzdHJJZCk7DQoJCWlmIChpdGVtSW5kZXggPCAwKQ0KCQl7DQoJCQl2YXIgaXRtID0gbmV3IEFycmF5KDIpOw0KCQkJaXRtWzBdID0gc3RySWQ7DQoJCQlpdG1bMV0gPSBjdXJyZW50U3R5bGU7DQoJCQlpZihib29sTW9kZSkNCgkJCQl0aGlzLmFycmF5SGlnaExpZ2h0ZWRJdGVtcy5wdXNoKGl0bSk7DQoJCX0NCgkJZWxzZQ0KCQl7DQoJCQlvcmlnaW5hbFN0eWxlID0gdGhpcy5hcnJheUhpZ2hMaWdodGVkSXRlbXNbaXRlbUluZGV4XVsxXTsNCgkJfQ0KCQlpZihib29sTW9kZSkNCgkJCWl0ZW0uc2V0QXR0cmlidXRlKCJzdHlsZSIsImJvcmRlcjogMnB4IHNvbGlkICNmZjAwMDA7Iik7DQoJCWVsc2UNCgkJCWl0ZW0uc2V0QXR0cmlidXRlKCJzdHlsZSIsb3JpZ2luYWxTdHlsZSk7DQoJCXJldHVybih0cnVlKTsNCgl9DQoJDQoJZnVuY3Rpb24gaGlnaGxpZ2h0SXRlbShzdHJJZCwgYm9vbE1vZGUpIA0KCXsNCgkJdmFyIGJvb2xSZXR2YWwgPSBmYWxzZTsJCQ0KCQl2YXIgb2JqUGFnZURvY3VtZW50ID0gd2luZG93LnRvcC5nZXRCcm93c2VyKCkuYnJvd3NlcnNbd2luZG93LnRvcC5nZXRCcm93c2VyKCkubVRhYkJveC5zZWxlY3RlZEluZGV4XS5jb250ZW50V2luZG93LmRvY3VtZW50Ow0KCQkNCgkJYm9vbFJldHZhbCA9IHRoaXMuaGlnaGxpZ2h0SXRlbUludGVybmFsKG9ialBhZ2VEb2N1bWVudCxzdHJJZCxib29sTW9kZSk7DQoJCWlmIChib29sUmV0dmFsKQ0KCQkJcmV0dXJuOw0KCQkNCgkJdmFyIGZyYW1lcyA9IG9ialBhZ2VEb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiZnJhbWUiKTsNCgkJZm9yICh2YXIgaSA9IDA7IGkgPCBmcmFtZXMubGVuZ3RoOyBpKyspDQoJCXsNCgkJCWJvb2xSZXR2YWwgPSB0aGlzLmhpZ2hsaWdodEl0ZW1JbnRlcm5hbChmcmFtZXNbaV0uY29udGVudERvY3VtZW50LHN0cklkLGJvb2xNb2RlKTsNCgkJCWlmIChib29sUmV0dmFsKQ0KCQkJCXJldHVybjsNCgkJfQ0KCQkNCgkJdmFyIGZyYW1lcyA9IG9ialBhZ2VEb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaXJhbWUiKTsNCgkJZm9yICh2YXIgaSA9IDA7IGkgPCBmcmFtZXMubGVuZ3RoOyBpKyspDQoJCXsNCgkJCWJvb2xSZXR2YWwgPSB0aGlzLmhpZ2hsaWdodEl0ZW1JbnRlcm5hbChmcmFtZXNbaV0uY29udGVudERvY3VtZW50LHN0cklkLGJvb2xNb2RlKTsNCgkJCWlmIChib29sUmV0dmFsKQ0KCQkJCXJldHVybjsNCgkJfQ0KCQkNCgl9DQp9')); ]]></script>
<script><![CDATA[ eval(atob('LyoNCkF1dGhvcjoJCUF0dGlsYSBHZXJlbmRpDQpQdXJwb3NlOglUaGUgQ2xhc3NGaWxlSGFuZGxlcg0KKi8NCg0KLyoNCj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PSBzcGVjaWFsX3BhdGggPT09PT09PT09PT09PT09PT09PT09PT09PQ0KUHJvZkQgCQkgPSBwcm9maWxlIGRpcmVjdG9yeQ0KRGVmUHJvZlJ0IAkgPSB1c2VyIChlLmcuLCAvcm9vdC8ubW96aWxsYSkNClVDaHJtCQkgPSAlcHJvZmlsZSUvY2hyb21lDQpEZWZSdCAJCSA9ICVpbnN0YWxsYXRpb24lL2RlZmF1bHRzDQpQcmZEZWYgCQkgPSAlaW5zdGFsbGF0aW9uJS9kZWZhdWx0cy9wcmVmDQpQcm9mRGVmTm9Mb2MgPSAlaW5zdGFsbGF0aW9uJS9kZWZhdWx0cy9wcm9maWxlDQpBUGx1Z25zIAkgPSAlaW5zdGFsbGF0aW9uJS9wbHVnaW5zDQpBQ2hyb20gCQkgPSAlaW5zdGFsbGF0aW9uJS9jaHJvbWUNCkNvbXNEIAkJID0gJWluc3RhbGxhdGlvbiUvY29tcG9uZW50cw0KQ3VyUHJvY0QgCSA9IGluc3RhbGxhdGlvbiAodXN1YWxseSkNCkhvbWUgCQkgPSBPUyByb290IChlLmcuLCAvcm9vdCkNClRtcEQgCQkgPSBPUyB0bXAgKGUuZy4sIC90bXApDQpyZXNvdXJjZTphcHAgPSBhcHBsaWNhdGlvbiBkaXJlY3RvcnkgaW4gYSBYVUxSdW5uZXIgYXBwDQoqLw0KDQpmdW5jdGlvbiBDbGFzc0ZpbGVIYW5kbGVyKCkNCnsNCgl0aGlzLnN0clBhdGhTZXBhcmF0b3IJPSAiXFwiOw0KCQ0KCXRoaXMuZGV0ZWN0T3NGaWxlU2VwYXJhdG9yQnlIYW5kbGluZ0ZpbGVzIAk9IGRldGVjdE9zRmlsZVNlcGFyYXRvckJ5SGFuZGxpbmdGaWxlczsNCgl0aGlzLmNyZWF0ZURpcmVjdG9yeQkJCQkJCT0gY3JlYXRlRGlyZWN0b3J5Ow0KCXRoaXMuc2F2ZVRleHRGaWxlCQkJCQkJCT0gc2F2ZVRleHRGaWxlOw0KCXRoaXMubG9hZFRleHRGcm9tTG9jYWxVUkkJCQkJCT0gbG9hZFRleHRGcm9tTG9jYWxVUkk7DQoJdGhpcy5sb2FkVGV4dEZpbGUJCQkJCQkJPSBsb2FkVGV4dEZpbGU7DQoJdGhpcy5nZXRGaWxlCQkJCQkJCQk9IGdldEZpbGU7DQoJDQoJdGhpcy5kZXRlY3RPc0ZpbGVTZXBhcmF0b3JCeUhhbmRsaW5nRmlsZXMoKTsNCglpZiAodGhpcy5zdHJQYXRoU2VwYXJhdG9yID09ICIiKSB0aGlzLnN0clBhdGhTZXBhcmF0b3IgPSAiXFwiOw0KCQ0KCWZ1bmN0aW9uIGdldEZpbGUoc3RyTmFtZSwgc3RyU3BlY2lhbFBhdGgpDQoJew0KCQl0cnkNCgkJew0KCQkJaWYoKHN0clNwZWNpYWxQYXRoID09IG51bGwpIHx8IChzdHJTcGVjaWFsUGF0aCA9PSAiIikpDQoJCQl7DQoJCQkJZmlsZSA9IENvbXBvbmVudHMuY2xhc3Nlc1siQG1vemlsbGEub3JnL2ZpbGUvbG9jYWw7MSJdDQoJCQkJCS5jcmVhdGVJbnN0YW5jZShDb21wb25lbnRzLmludGVyZmFjZXMubnNJTG9jYWxGaWxlKTsNCgkJCQlmaWxlLmluaXRXaXRoUGF0aChzdHJOYW1lKTsNCgkJCX0NCgkJCWVsc2UNCgkJCXsNCgkJCQl2YXIgZmlsZSA9IENvbXBvbmVudHMuY2xhc3Nlc1snQG1vemlsbGEub3JnL2ZpbGUvZGlyZWN0b3J5X3NlcnZpY2U7MSddDQoJCQkJCQkuZ2V0U2VydmljZShDb21wb25lbnRzLmludGVyZmFjZXMubnNJUHJvcGVydGllcykNCgkJCQkJCS5nZXQoc3RyU3BlY2lhbFBhdGgsIENvbXBvbmVudHMuaW50ZXJmYWNlcy5uc0lGaWxlKTsNCg0KCQkJCXZhciBzdHJTZXBhcmF0b3IgPSAiXFwiOwkJDQoJCQkJdmFyIGFycmF5UGFydHMgPSBzdHJOYW1lLnNwbGl0KHN0clNlcGFyYXRvcik7DQoJCQkJZm9yKHZhciBpID0gMDsgaSA8IGFycmF5UGFydHMubGVuZ3RoOyBpKyspDQoJCQkJCWZpbGUuYXBwZW5kKGFycmF5UGFydHNbaV0pOw0KCQkJfQ0KCQkJcmV0dXJuKHtib29sU3VjY2VzcyA6IHRydWUsIHN0ckVycm9yTWVzc2FnZSA6ICIiLCBvYmpGaWxlIDogZmlsZX0pOw0KCQl9DQoJCWNhdGNoKHZFcnJvcikNCgkJew0KCQkJcmV0dXJuKHtib29sU3VjY2VzcyA6IGZhbHNlLCBzdHJFcnJvck1lc3NhZ2UgOiB2RXJyb3IubWVzc2FnZX0pOw0KCQl9DQoJfQ0KCQ0KCWZ1bmN0aW9uIGRldGVjdE9zRmlsZVNlcGFyYXRvckJ5SGFuZGxpbmdGaWxlcygpDQoJew0KCQl0cnkNCgkJew0KCQkJDQoJCQl2YXIgZmlsZSA9IENvbXBvbmVudHMuY2xhc3Nlc1snQG1vemlsbGEub3JnL2ZpbGUvZGlyZWN0b3J5X3NlcnZpY2U7MSddDQoJCQkJCS5nZXRTZXJ2aWNlKENvbXBvbmVudHMuaW50ZXJmYWNlcy5uc0lQcm9wZXJ0aWVzKQ0KCQkJCQkuZ2V0KCJQcmZEZWYiLCBDb21wb25lbnRzLmludGVyZmFjZXMubnNJRmlsZSk7DQoJCQlpZiggZmlsZS5wYXRoLnNlYXJjaCgiXFxcXCIpID49IDApDQoJCQl7DQoJCQkJdGhpcy5zdHJQYXRoU2VwYXJhdG9yCT0gIlxcIjsNCgkJCQlyZXR1cm4oIlxcIik7DQoJCQl9DQoJCQllbHNlDQoJCQl7DQoJCQkJdGhpcy5zdHJQYXRoU2VwYXJhdG9yCT0gIi8iOw0KCQkJCXJldHVybigiLyIpOw0KCQkJfQ0KCQkJDQoJCX0NCgkJY2F0Y2godkVycm9yKQ0KCQl7DQoJCQlyZXR1cm4oIiIpOw0KCQl9DQoJfQ0KCQ0KCWZ1bmN0aW9uIGNyZWF0ZURpcmVjdG9yeShzdHJEaXJlY3RvcnlOYW1lLCBzdHJTcGVjaWFsUGF0aCkNCgl7DQoJCXZhciBmaWxlID0gbnVsbDsNCgkJdHJ5DQoJCXsNCgkJCXZhciBvYmpGID0gdGhpcy5nZXRGaWxlKHN0ckRpcmVjdG9yeU5hbWUsIHN0clNwZWNpYWxQYXRoKTsNCgkJCWlmKCFvYmpGLmJvb2xTdWNjZXNzKQ0KCQkJCXJldHVybihvYmpGKQ0KCQkJdmFyIGZpbGUgPSBvYmpGLm9iakZpbGU7DQoJCQkNCgkJCWlmKCAhZmlsZS5leGlzdHMoKSB8fCAhZmlsZS5pc0RpcmVjdG9yeSgpICkgIA0KCQkJCWZpbGUuY3JlYXRlKENvbXBvbmVudHMuaW50ZXJmYWNlcy5uc0lGaWxlLkRJUkVDVE9SWV9UWVBFLCAwNzc3KTsNCgkJCWVsc2UNCgkJCQlyZXR1cm4oe2Jvb2xTdWNjZXNzIDogZmFsc2UsIHN0ckVycm9yTWVzc2FnZSA6ICJEaXJlY3RvcnkgRXhpc3QifSk7DQoJCX0NCgkJY2F0Y2godkVycm9yKQ0KCQl7DQoJCQlyZXR1cm4oe2Jvb2xTdWNjZXNzIDogZmFsc2UsIHN0ckVycm9yTWVzc2FnZSA6IHZFcnJvci5tZXNzYWdlfSk7DQoJCX0NCgkJDQoJCXJldHVybih7Ym9vbFN1Y2Nlc3MgOiB0cnVlLCBzdHJFcnJvck1lc3NhZ2UgOiAiIiwgc3RyUGF0aCA6IGZpbGUucGF0aH0pOw0KCX0NCgkNCgl0aGlzLmdldFBhdGggPSBmdW5jdGlvbihzdHJEaXJlY3RvcnlOYW1lLCBzdHJTcGVjaWFsUGF0aCkNCgl7DQoJCXZhciBvYmpGID0gdGhpcy5nZXRGaWxlKHN0ckRpcmVjdG9yeU5hbWUsIHN0clNwZWNpYWxQYXRoKTsNCgkJaWYoIW9iakYuYm9vbFN1Y2Nlc3MpDQoJCQlyZXR1cm4ob2JqRikNCgkJdmFyIGZpbGUgPSBvYmpGLm9iakZpbGU7DQoJCWlmKGZpbGUpIHJldHVybiAoZmlsZS5wYXRoKTsNCgkJcmV0dXJuKCd1bmRlZmluZWQnKTsNCgl9DQoJDQoJZnVuY3Rpb24gc2F2ZVRleHRGaWxlKHN0ckZpbGVOYW1lLCBzdHJPdXRwdXRCdWZmZXIsIGJvb2xBcHBlbmRGaWxlLCBzdHJTcGVjaWFsUGF0aCkNCgl7DQoJCWlmKGJvb2xBcHBlbmRGaWxlID09IG51bGwgKSBib29sQXBwZW5kRmlsZSA9IGZhbHNlOw0KCQkNCgkJdmFyIGZpbGUgPSBudWxsOw0KCQl0cnkNCgkJew0KCQkJdmFyIG9iakYgPSB0aGlzLmdldEZpbGUoc3RyRmlsZU5hbWUsIHN0clNwZWNpYWxQYXRoKTsNCgkJCWlmKCFvYmpGLmJvb2xTdWNjZXNzKQ0KCQkJCXJldHVybihvYmpGKQ0KCQkJdmFyIGZpbGUgPSBvYmpGLm9iakZpbGU7DQoNCgkJCXZhciBmb1N0cmVhbSA9IENvbXBvbmVudHMuY2xhc3Nlc1siQG1vemlsbGEub3JnL25ldHdvcmsvZmlsZS1vdXRwdXQtc3RyZWFtOzEiXQ0KCQkJCQkJCS5jcmVhdGVJbnN0YW5jZShDb21wb25lbnRzLmludGVyZmFjZXMubnNJRmlsZU91dHB1dFN0cmVhbSk7DQoJCQlpZihib29sQXBwZW5kRmlsZSkNCgkJCQlmb1N0cmVhbS5pbml0KGZpbGUsIDB4MDIgfCAweDA4IHwgMHgxMCwgMDY2NCwgMCk7IA0KCQkJZWxzZQ0KCQkJCWZvU3RyZWFtLmluaXQoZmlsZSwgMHgwMiB8IDB4MDggfCAweDIwLCAwNjY0LCAwKTsgLy8gd3JpdGUsIGNyZWF0ZSwgdHJ1bmNhdGUNCgkJCQ0KCQkJZm9TdHJlYW0ud3JpdGUoc3RyT3V0cHV0QnVmZmVyLCBzdHJPdXRwdXRCdWZmZXIubGVuZ3RoKTsNCgkJCWZvU3RyZWFtLmNsb3NlKCk7DQoJCX0NCgkJY2F0Y2godkVycm9yKSANCgkJew0KCQkgIHJldHVybih7Ym9vbFN1Y2Nlc3MgOiBmYWxzZSwgc3RyRXJyb3JNZXNzYWdlIDogdkVycm9yLm1lc3NhZ2V9KTsNCgkJfQ0KCQlyZXR1cm4oe2Jvb2xTdWNjZXNzIDogdHJ1ZSwgc3RyRXJyb3JNZXNzYWdlIDogIiJ9KTsNCgl9DQoJDQoJZnVuY3Rpb24gbG9hZFRleHRGaWxlKHN0ckZpbGVOYW1lLCBzdHJTcGVjaWFsUGF0aCkNCgl7DQoJCXRyeQ0KCQl7DQoJCQl2YXIgb2JqRiA9IHRoaXMuZ2V0RmlsZShzdHJGaWxlTmFtZSwgc3RyU3BlY2lhbFBhdGgpOw0KCQkJaWYoIW9iakYuYm9vbFN1Y2Nlc3MpDQoJCQkJcmV0dXJuKG9iakYpDQoJCQl2YXIgZmlsZSA9IG9iakYub2JqRmlsZTsNCgkJDQoJCQl2YXIgaXN0cmVhbSA9IENvbXBvbmVudHMuY2xhc3Nlc1siQG1vemlsbGEub3JnL25ldHdvcmsvZmlsZS1pbnB1dC1zdHJlYW07MSJdDQoJCQkJCQkJCQkuY3JlYXRlSW5zdGFuY2UoQ29tcG9uZW50cy5pbnRlcmZhY2VzLm5zSUZpbGVJbnB1dFN0cmVhbSk7DQoJCQkJCQkJCQkNCgkJCWlzdHJlYW0uaW5pdChmaWxlLCAxLCAwLCBmYWxzZSk7CQkJCQkJCQkNCgkJCQkJCQkJCQ0KCQkJdmFyIHNzdHJlYW0gPSBDb21wb25lbnRzLmNsYXNzZXNbIkBtb3ppbGxhLm9yZy9zY3JpcHRhYmxlaW5wdXRzdHJlYW07MSJdDQoJCQkJCQkJCQkuY3JlYXRlSW5zdGFuY2UoQ29tcG9uZW50cy5pbnRlcmZhY2VzLm5zSVNjcmlwdGFibGVJbnB1dFN0cmVhbSk7DQoJCQkJCQ0KCQkJc3N0cmVhbS5pbml0KGlzdHJlYW0pOw0KCQkJdmFyIHN0ckNvbnRlbnQgPSBzc3RyZWFtLnJlYWQoc3N0cmVhbS5hdmFpbGFibGUoKSk7DQoJCQlzc3RyZWFtLmNsb3NlKCk7DQoJCQlpc3RyZWFtLmNsb3NlKCk7DQoJCX0NCgkJY2F0Y2godkVycm9yKSANCgkJew0KCQkJcmV0dXJuKHtib29sU3VjY2VzcyA6IGZhbHNlLCBzdHJFcnJvck1lc3NhZ2UgOiB2RXJyb3IubWVzc2FnZX0pOw0KCQl9DQoJCXJldHVybih7Ym9vbFN1Y2Nlc3MgOiB0cnVlLCBzdHJFcnJvck1lc3NhZ2UgOiAiIiwgc3RyQ29udGVudCA6IHN0ckNvbnRlbnR9KTsNCgl9DQoJDQoJZnVuY3Rpb24gbG9hZFRleHRGcm9tTG9jYWxVUkkoc3RyRmlsZU5hbWUpDQoJew0KCQl0cnkNCgkJew0KCQkJdmFyIGh0dHByZXEgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTsNCgkJCWh0dHByZXEub3BlbigiR0VUIiwgc3RyRmlsZU5hbWUsIGZhbHNlKTsNCgkJCWh0dHByZXEuc2VuZChudWxsKTsNCgkJCXJldHVybih7Ym9vbFN1Y2Nlc3MgOiB0cnVlLCBzdHJFcnJvck1lc3NhZ2UgOiAiIiwgc3RyQ29udGVudCA6IGh0dHByZXEucmVzcG9uc2VUZXh0fSk7DQoJCX0NCgkJY2F0Y2godkVycm9yKQ0KCQl7DQoJCQlyZXR1cm4oe2Jvb2xTdWNjZXNzIDogZmFsc2UsIHN0ckVycm9yTWVzc2FnZSA6IHZFcnJvci5tZXNzYWdlLCBzdHJDb250ZW50IDogIiJ9KTsNCgkJfQ0KCX0NCn0=')); ]]></script>
<script><![CDATA[ eval(atob('LyoNCkF1dGhvcjoJCUF0dGlsYSBHZXJlbmRpDQpQdXJwb3NlOglUaGUgbWFpbiBjbGFzc2VzICBhY3VuZXRpeHdlYnNjYW5uZXIsIGNsYXNzU2Nhbm5pbmdQcm9jZXNzU3RhdHVzLCBjbGFzc0FzaW5jcm9uVGVzdGVyDQoqLw0KDQp2YXIgYWN1bmV0aXh3ZWJzY2FubmVyID0NCnsNCglnZW5lcmFsRW5jb2RlcgkJCTogbmV3IGVuY29kZXJDbGFzcygpLA0KCWludFBhcmFtZXRlckluZGV4CQk6IDAsDQoJb2JqSGlnaGxpZ2h0ZXIJCQk6IG5ldyBjbGFzc0hUTUxFbGVtZW50SGlnaGxpZ2h0ZXIoKSwNCglvYmpSZXF1ZXN0Q29sbGVjdGlvbgk6IG51bGwsDQoJeHVsT2JqU2Nhbm5lck91dHB1dFRhYgk6IG51bGwsDQoJeHVsT2JqU2Nhbm5lckhUVFBMb2dUYWIJOiBudWxsLA0KCXh1bE9ialNjYW5uZXJGdW5jTG9nVGFiCTogbnVsbCwNCglvYmpTY2FubmluZ1Byb2Nlc3NTdGF0dXM6IG5ldyBjbGFzc1NjYW5uaW5nUHJvY2Vzc1N0YXR1cygpLA0KCWdlbmVyYWxUaW1lcgkJCTogQ29tcG9uZW50cy5jbGFzc2VzWyJAbW96aWxsYS5vcmcvdGltZXI7MSJdLmNyZWF0ZUluc3RhbmNlKENvbXBvbmVudHMuaW50ZXJmYWNlcy5uc0lUaW1lciksDQoJb2JqTW96UHJlZnMgCQkJOiBDb21wb25lbnRzLmNsYXNzZXNbIkBtb3ppbGxhLm9yZy9wcmVmZXJlbmNlcy1zZXJ2aWNlOzEiXS5nZXRTZXJ2aWNlKENvbXBvbmVudHMuaW50ZXJmYWNlcy5uc0lQcmVmU2VydmljZSkuZ2V0QnJhbmNoKCJleHRlbnNpb25zLmFjdW5ldGl4d2Vic2Nhbm5lci4iKSwNCglhcnJheU9mVGVzdFByb2NlZHVyZXMgCTogbmV3IEFycmF5KCksDQoJc3RyQWxsb3dlZFNjYW5UeXBlCQk6ICJhY3VuZXRpeF9tZW51X3Rlc3RBbGwiLA0KCW9iakZpbGVIYW5kbGVyCQkJOiBuZXcgQ2xhc3NGaWxlSGFuZGxlcigpLA0KCQ0KCW9uTG9hZDogZnVuY3Rpb24oKQ0KCXsNCgkJLy8gaW5pdGlhbGl6YXRpb24gY29kZQ0KCQl0aGlzLmluaXRpYWxpemVkCQkJCT0gdHJ1ZTsNCgkJdGhpcy5zdHJpbmdzIAkJCQkJPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWN1bmV0aXh3ZWJzY2FubmVyLXN0cmluZ3MiKTsNCgkJCQkNCgkJdmFyIHRtcCA9IHRoaXMub2JqRmlsZUhhbmRsZXIuY3JlYXRlRGlyZWN0b3J5KCJBY3VuZXRpeFNjYW5uZXIiLCAiSG9tZSIpOw0KCQlpZiAodG1wLmJvb2xTdWNjZXNzKSAvL2RpcmVjdG9yeSBub3QgZXhpc3RlbnQgPT4gZmlyc3Qgc3RhcnQNCgkJewkJCQ0KCQkJdGhpcy5vYmpNb3pQcmVmcy5zZXRDaGFyUHJlZigic3RySFRUUExvZ2luRmlsZU5hbWUiLHRtcC5zdHJQYXRoICsgdGhpcy5vYmpGaWxlSGFuZGxlci5zdHJQYXRoU2VwYXJhdG9yICsgIkhUVFBMb2cudHh0Iik7DQoJCQl0aGlzLm9iak1velByZWZzLnNldENoYXJQcmVmKCJzdHJGdW5jdGlvbmFsTG9nZ2luZ0ZpbGVOYW1lIix0bXAuc3RyUGF0aCArIHRoaXMub2JqRmlsZUhhbmRsZXIuc3RyUGF0aFNlcGFyYXRvciArICJhcHBsaWNhdGlvbkxvZy50eHQiKTsNCgkJfQ0KCQkNCgkJaWYgKCB0aGlzLm9iak1velByZWZzLmdldEJvb2xQcmVmKCJib29sRGVsZXRlTG9nRmlsZXNBdFN0YXJ0dXAiKSApDQoJCXsNCgkJCWFjdW5ldGl4d2Vic2Nhbm5lci5vYmpGaWxlSGFuZGxlci5zYXZlVGV4dEZpbGUodGhpcy5vYmpNb3pQcmVmcy5nZXRDaGFyUHJlZigic3RySFRUUExvZ2luRmlsZU5hbWUiKSwgIiIsIGZhbHNlKTsNCgkJCWFjdW5ldGl4d2Vic2Nhbm5lci5vYmpGaWxlSGFuZGxlci5zYXZlVGV4dEZpbGUodGhpcy5vYmpNb3pQcmVmcy5nZXRDaGFyUHJlZigic3RyRnVuY3Rpb25hbExvZ2dpbmdGaWxlTmFtZSIpLCAiIiwgZmFsc2UpOw0KCQl9DQoJCQ0KCQkNCgkJdmFyIG9ianRvb2xiYXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWN1bmV0aXhfdG9vbGJhciIpOw0KCQlpZihvYmp0b29sYmFyKQ0KCQkJb2JqdG9vbGJhci5hZGRFdmVudExpc3RlbmVyKCdET01BdHRyTW9kaWZpZWQnLCB0aGlzLnRvb2xiYXJDaGFuZ2VkLCBmYWxzZSk7DQoJCQ0KCQl0aGlzLnNob3dIaWRlUmVxdWVzdFBhbm5lbCgic2V0dGluZ3MiKTsNCg0KCQl0aGlzLnBvcHVsYXRlVGVzdFR5cGVNZW51KCk7DQoJfSwNCgkNCgkNCgl0b29sYmFyQ2hhbmdlZCA6IGZ1bmN0aW9uKGUpDQoJew0KCQlpZihlLmF0dHJOYW1lID09ICJjb2xsYXBzZWQiKQ0KCQl7DQoJCQlhY3VuZXRpeHdlYnNjYW5uZXIuc2hvd0hpZGVSZXF1ZXN0UGFubmVsKCJzZXR0aW5ncyIsIGUubmV3VmFsdWUpOw0KCQl9DQoJfSwNCgkNCi8vIGNvbW1hbmRzIGZyb20gVUkgU1RBUlQNCg0KCWdvSG9tZSA6IGZ1bmN0aW9uKCkNCgl7DQoJCWdCcm93c2VyLnNlbGVjdGVkVGFiID0gZ0Jyb3dzZXIuYWRkVGFiKCJodHRwOi8vd3d3LmFjdW5ldGl4LmNvbS8iKTsNCgl9LA0KDQoJcmVzZXRMb2dGaWxlIDoJZnVuY3Rpb24oaW50RmlsZSkNCgl7DQoJCWlmKGludEZpbGUgPT0gMCkNCgkJew0KCQkJaWYoICEgY29uZmlybSAoYWN1bmV0aXh3ZWJzY2FubmVyLnN0cmluZ3MuZ2V0U3RyaW5nKCJjb25maXJtLkhUVFBMb2dGaWxlRGVsZXRpb24iKSkgKQ0KCQkJCXJldHVybjsNCgkJCWFjdW5ldGl4d2Vic2Nhbm5lci5vYmpGaWxlSGFuZGxlci5zYXZlVGV4dEZpbGUodGhpcy5vYmpNb3pQcmVmcy5nZXRDaGFyUHJlZigic3RySFRUUExvZ2luRmlsZU5hbWUiKSwgIiIsIGZhbHNlKTsNCgkJfQ0KCQllbHNlDQoJCXsNCgkJCWlmKCAhIGNvbmZpcm0gKGFjdW5ldGl4d2Vic2Nhbm5lci5zdHJpbmdzLmdldFN0cmluZygiY29uZmlybS5GdW5jdGlvbmFsTG9nRmlsZURlbGV0aW9uIikpICkNCgkJCQlyZXR1cm47DQoJCQlhY3VuZXRpeHdlYnNjYW5uZXIub2JqRmlsZUhhbmRsZXIuc2F2ZVRleHRGaWxlKHRoaXMub2JqTW96UHJlZnMuZ2V0Q2hhclByZWYoInN0ckZ1bmN0aW9uYWxMb2dnaW5nRmlsZU5hbWUiKSwgIiIsIGZhbHNlKTsNCgkJfQ0KCX0sDQoNCglvcGVuTG9nRmlsZUluTmV3VGFiIDogZnVuY3Rpb24gKGludEZpbGUpDQoJew0KCQlpZihpbnRGaWxlID09IDApDQoJCXsNCgkJCXRyeQ0KCQkJew0KCQkJCXRoaXMueHVsT2JqU2Nhbm5lckhUVFBMb2dUYWIubGlua2VkQnJvd3Nlci5jb250ZW50V2luZG93LmRvY3VtZW50Ow0KCQkJfQ0KCQkJY2F0Y2goZSkNCgkJCXsNCgkJCQl2YXIgbWFpbldpbmRvdyA9IHdpbmRvdy5RdWVyeUludGVyZmFjZShDb21wb25lbnRzLmludGVyZmFjZXMubnNJSW50ZXJmYWNlUmVxdWVzdG9yKQ0KCQkJCQkJICAgLmdldEludGVyZmFjZShDb21wb25lbnRzLmludGVyZmFjZXMubnNJV2ViTmF2aWdhdGlvbikNCgkJCQkJCSAgIC5RdWVyeUludGVyZmFjZShDb21wb25lbnRzLmludGVyZmFjZXMubnNJRG9jU2hlbGxUcmVlSXRlbSkNCgkJCQkJCSAgIC5yb290VHJlZUl0ZW0NCgkJCQkJCSAgIC5RdWVyeUludGVyZmFjZShDb21wb25lbnRzLmludGVyZmFjZXMubnNJSW50ZXJmYWNlUmVxdWVzdG9yKQ0KCQkJCQkJICAgLmdldEludGVyZmFjZShDb21wb25lbnRzLmludGVyZmFjZXMubnNJRE9NV2luZG93KTsNCgkJCQl0aGlzLnh1bE9ialNjYW5uZXJIVFRQTG9nVGFiID0gbWFpbldpbmRvdy5nZXRCcm93c2VyKCkuYWRkVGFiKCIiKTsNCgkJCX0NCgkJCXRoaXMueHVsT2JqU2Nhbm5lckhUVFBMb2dUYWIubGlua2VkQnJvd3Nlci5jb250ZW50V2luZG93Lm9wZW4oImZpbGU6Ly8iICsgdGhpcy5vYmpNb3pQcmVmcy5nZXRDaGFyUHJlZigic3RySFRUUExvZ2luRmlsZU5hbWUiKSwiX3NlbGYiKQ0KCQkJZ0Jyb3dzZXIuc2VsZWN0ZWRUYWIgPSB0aGlzLnh1bE9ialNjYW5uZXJIVFRQTG9nVGFiOw0KCQl9DQoJCWVsc2UNCgkJew0KCQkJdHJ5DQoJCQl7DQoJCQkJdGhpcy54dWxPYmpTY2FubmVyRnVuY0xvZ1RhYi5saW5rZWRCcm93c2VyLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ7DQoJCQl9DQoJCQljYXRjaChlKQ0KCQkJew0KCQkJCXZhciBtYWluV2luZG93ID0gd2luZG93LlF1ZXJ5SW50ZXJmYWNlKENvbXBvbmVudHMuaW50ZXJmYWNlcy5uc0lJbnRlcmZhY2VSZXF1ZXN0b3IpDQoJCQkJCQkgICAuZ2V0SW50ZXJmYWNlKENvbXBvbmVudHMuaW50ZXJmYWNlcy5uc0lXZWJOYXZpZ2F0aW9uKQ0KCQkJCQkJICAgLlF1ZXJ5SW50ZXJmYWNlKENvbXBvbmVudHMuaW50ZXJmYWNlcy5uc0lEb2NTaGVsbFRyZWVJdGVtKQ0KCQkJCQkJICAgLnJvb3RUcmVlSXRlbQ0KCQkJCQkJICAgLlF1ZXJ5SW50ZXJmYWNlKENvbXBvbmVudHMuaW50ZXJmYWNlcy5uc0lJbnRlcmZhY2VSZXF1ZXN0b3IpDQoJCQkJCQkgICAuZ2V0SW50ZXJmYWNlKENvbXBvbmVudHMuaW50ZXJmYWNlcy5uc0lET01XaW5kb3cpOw0KCQkJCXRoaXMueHVsT2JqU2Nhbm5lckZ1bmNMb2dUYWIgPSBtYWluV2luZG93LmdldEJyb3dzZXIoKS5hZGRUYWIoIiIpOw0KCQkJCWdCcm93c2VyLnNlbGVjdGVkVGFiID0gdGhpcy54dWxPYmpTY2FubmVyRnVuY0xvZ1RhYjsNCgkJCX0NCgkJCXRoaXMueHVsT2JqU2Nhbm5lckZ1bmNMb2dUYWIubGlua2VkQnJvd3Nlci5jb250ZW50V2luZG93Lm9wZW4oImZpbGU6Ly8iICsgdGhpcy5vYmpNb3pQcmVmcy5nZXRDaGFyUHJlZigic3RyRnVuY3Rpb25hbExvZ2dpbmdGaWxlTmFtZSIpLCJfc2VsZiIpDQoJCX0NCgl9LA0KDQoJc2hvd0hpZGVSZXF1ZXN0UGFubmVsIDogZnVuY3Rpb24oc3RyTW9kZSwgYm9vbE1vZGUpDQoJew0KCQl2YXIgYm9vbFZpc2libGUgPSBmYWxzZTsNCgkJc3dpdGNoKHN0ck1vZGUpDQoJCXsNCgkJCWNhc2UgImZvcmNlZCI6DQoJCQkJYm9vbFZpc2libGUgPSBib29sTW9kZTsNCgkJCQl0aGlzLm9iak1velByZWZzLnNldEJvb2xQcmVmKCJib29sSXNSZXF1ZXN0UGFubmVsVmlzaWJsZSIsIGJvb2xWaXNpYmxlKTsNCgkJCQlicmVhazsNCgkJCWNhc2UgInRvZ2dsZSI6DQoJCQkJYm9vbFZpc2libGUgPSAhdGhpcy5vYmpNb3pQcmVmcy5nZXRCb29sUHJlZigiYm9vbElzUmVxdWVzdFBhbm5lbFZpc2libGUiKTsNCgkJCQl0aGlzLm9iak1velByZWZzLnNldEJvb2xQcmVmKCJib29sSXNSZXF1ZXN0UGFubmVsVmlzaWJsZSIsIGJvb2xWaXNpYmxlKTsNCgkJCQlicmVhazsNCgkJCWNhc2UgInNldHRpbmdzIjoNCgkJCQlib29sVmlzaWJsZSA9IHRoaXMub2JqTW96UHJlZnMuZ2V0Qm9vbFByZWYoImJvb2xJc1JlcXVlc3RQYW5uZWxWaXNpYmxlIik7DQoJCQkJYnJlYWs7DQoJCQljYXNlICJzaG93IjoNCgkJCQlib29sVmlzaWJsZSA9IHRydWU7DQoJCQkJdGhpcy5vYmpNb3pQcmVmcy5zZXRCb29sUHJlZigiYm9vbElzUmVxdWVzdFBhbm5lbFZpc2libGUiLCBib29sVmlzaWJsZSk7DQoJCQkJYnJlYWs7DQoJCX0NCgkJDQoJCWlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhY3VuZXRpeF9tZW51X3Nob3dBZHZhbmNlZFBhbm5lbCcpKQ0KCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FjdW5ldGl4X21lbnVfc2hvd0FkdmFuY2VkUGFubmVsJykuc2V0QXR0cmlidXRlKCJjaGVja2VkIiwgdGhpcy5vYmpNb3pQcmVmcy5nZXRCb29sUHJlZigiYm9vbElzUmVxdWVzdFBhbm5lbFZpc2libGUiKSk7DQoJCQ0KCQl2YXIgb2JqdG9vbGJhciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhY3VuZXRpeF90b29sYmFyIik7DQoJCWlmICgob2JqdG9vbGJhcikgJiYgKG9ianRvb2xiYXIuY29sbGFwc2VkKSkNCgkJew0KCQkJYm9vbFZpc2libGUgPSBmYWxzZTsNCgkJfQ0KCQkNCgkJdmFyIG9iamFjdW5ldGl4X2FwcGNvbnRlbnRfYm90dG9tQ29udGFpbmVyQm94ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FjdW5ldGl4X2FwcGNvbnRlbnRfYm90dG9tQ29udGFpbmVyQm94Jyk7DQoJCXZhciBvYmphY3VuZXRpeF9hcHBjb250ZW50X2JvdHRvbUNvbnRhaW5lckJveFNwbGl0dGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FjdW5ldGl4X2FwcGNvbnRlbnRfYm90dG9tQ29udGFpbmVyQm94U3BsaXR0ZXInKTsNCgkJDQoJCWlmKGJvb2xWaXNpYmxlKQ0KCQl7DQoJCQlpZihvYmphY3VuZXRpeF9hcHBjb250ZW50X2JvdHRvbUNvbnRhaW5lckJveCkNCgkJCQlvYmphY3VuZXRpeF9hcHBjb250ZW50X2JvdHRvbUNvbnRhaW5lckJveC5jb2xsYXBzZWQgPSBmYWxzZTsNCgkJCWlmKG9iamFjdW5ldGl4X2FwcGNvbnRlbnRfYm90dG9tQ29udGFpbmVyQm94U3BsaXR0ZXIpDQoJCQkJCW9iamFjdW5ldGl4X2FwcGNvbnRlbnRfYm90dG9tQ29udGFpbmVyQm94U3BsaXR0ZXIuY29sbGFwc2VkID0gZmFsc2U7DQoJCX0NCgkJZWxzZQ0KCQl7DQoJCQlpZihvYmphY3VuZXRpeF9hcHBjb250ZW50X2JvdHRvbUNvbnRhaW5lckJveCkNCgkJCQlvYmphY3VuZXRpeF9hcHBjb250ZW50X2JvdHRvbUNvbnRhaW5lckJveC5jb2xsYXBzZWQgPSB0cnVlOw0KCQkJaWYob2JqYWN1bmV0aXhfYXBwY29udGVudF9ib3R0b21Db250YWluZXJCb3hTcGxpdHRlcikNCgkJCQlvYmphY3VuZXRpeF9hcHBjb250ZW50X2JvdHRvbUNvbnRhaW5lckJveFNwbGl0dGVyLmNvbGxhcHNlZCA9IHRydWU7DQoJCX0NCgl9LA0KDQoJcXVpY2tUZXN0IDogZnVuY3Rpb24ob2JqWFVMTWVudUl0ZW0pDQoJew0KCQkNCgkJaWYodGhpcy5vYmpTY2FubmluZ1Byb2Nlc3NTdGF0dXMuYm9vbFNjYW5uZXJBY3RpdmUpDQoJCQlyZXR1cm47DQoJCQ0KCQl0aGlzLnN0ckFsbG93ZWRTY2FuVHlwZSA9IG9ialhVTE1lbnVJdGVtLmlkOw0KCQkNCgkJdmFyIG9ialBhZ2VEb2N1bWVudD13aW5kb3cudG9wLmdldEJyb3dzZXIoKS5icm93c2Vyc1t3aW5kb3cudG9wLmdldEJyb3dzZXIoKS5tVGFiQm94LnNlbGVjdGVkSW5kZXhdLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ7DQoJCWlmIChvYmpQYWdlRG9jdW1lbnQpDQoJCXsNCgkJCXRoaXMub2JqUmVxdWVzdENvbGxlY3Rpb24gPSBuZXcgY2xhc3NSZXF1ZXN0Q29sZWN0aW9uKCk7DQoJCQkvL2VtcHR5IHJlcXVlc3QgbGlzdA0KCQkJdGhpcy5vYmpSZXF1ZXN0Q29sbGVjdGlvbi5hcnJheVJlcXVlc3RzLmxlbmd0aCA9IDA7IAkJCQ0KCQkJdGhpcy5vYmpSZXF1ZXN0Q29sbGVjdGlvbi5leHRyYWN0UmVxdWVzdENvbGxlY3Rpb25Gcm9tUGFnZShvYmpQYWdlRG9jdW1lbnQpOw0KCQkJDQoJCQl2YXIgb2JqZG9jID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FjdW5ldGl4X2FwcGNvbnRlbnRfcGFnZVJlcXVlc3RMaXN0Qm94Jyk7DQoJCQl0aGlzLm9ialJlcXVlc3RDb2xsZWN0aW9uLnJlbmRlclJlcXVlc3Qob2JqZG9jKTsNCgkJCQ0KCQkJaWYgKHRoaXMub2JqUmVxdWVzdENvbGxlY3Rpb24uYXJyYXlSZXF1ZXN0cy5sZW5ndGggPT0gMCApIHJldHVybjsNCgkJCQkNCgkJCXRoaXMub2JqU2Nhbm5pbmdQcm9jZXNzU3RhdHVzLmFycmF5T2JqQXNpbmNyb25UZXN0ZXIgCT0gbmV3IEFycmF5KCk7DQoJCQkNCgkJCWZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLm9ialJlcXVlc3RDb2xsZWN0aW9uLmFycmF5UmVxdWVzdHMubGVuZ3RoOyBpKyspDQoJCQl7ICAgICANCgkJCQl0aGlzLm9ialNjYW5uaW5nUHJvY2Vzc1N0YXR1cy5hcnJheU9iakFzaW5jcm9uVGVzdGVyW2ldID0gbmV3IGNsYXNzQXNpbmNyb25UZXN0ZXIodGhpcy5vYmpSZXF1ZXN0Q29sbGVjdGlvbi5hcnJheVJlcXVlc3RzW2ldKTsNCgkJCQlpZihpID4gMCkNCgkJCQkJdGhpcy5vYmpTY2FubmluZ1Byb2Nlc3NTdGF0dXMuYXJyYXlPYmpBc2luY3JvblRlc3RlcltpLTFdLm9iak5leHRBc2luY3JvblRlc3RlciA9IHRoaXMub2JqU2Nhbm5pbmdQcm9jZXNzU3RhdHVzLmFycmF5T2JqQXNpbmNyb25UZXN0ZXJbaV07DQoJCQl9DQoJCQl0aGlzLm9ialNjYW5uaW5nUHJvY2Vzc1N0YXR1cy5ib29sSXNRdWlja1NjYW4gPSB0cnVlOw0KCQkJdGhpcy5vYmpTY2FubmluZ1Byb2Nlc3NTdGF0dXMuc3RhcnRTY2FubmluZ1Byb2Nlc3MoKTsNCgkJCXRoaXMub2JqU2Nhbm5pbmdQcm9jZXNzU3RhdHVzLmFycmF5T2JqQXNpbmNyb25UZXN0ZXJbMF0uZG9UZXN0KCk7IAkJCQ0KCQl9CQ0KCX0sDQoNCglzZXRBbGxvd2VkU2NhblR5cGUgOiBmdW5jdGlvbihvYmpYVUxNZW51SXRlbSkNCgl7DQoJCXRoaXMuc3RyQWxsb3dlZFNjYW5UeXBlID0gb2JqWFVMTWVudUl0ZW0uaWQ7DQoJfSwNCg0KCWFib3J0U2NhbiA6IGZ1bmN0aW9uKCkNCgl7DQoJCWlmKCF0aGlzLm9ialNjYW5uaW5nUHJvY2Vzc1N0YXR1cy5ib29sU2Nhbm5lckFjdGl2ZSkNCgkJCXJldHVybjsNCgkJdGhpcy5vYmpTY2FubmluZ1Byb2Nlc3NTdGF0dXMuYWJvcnRTY2FuKCk7DQoJfSwNCgkNCgljbWRDaGFuZ2VSZXF1ZXN0UGFyYW1ldGVyIDogZnVuY3Rpb24gKHN0cklkLHN0clBhcmFtTmFtZSxzdHJWYWx1ZSkNCgl7DQoJCS8vYWxlcnQoInN0cklkZjogIiArIHN0cklkICsgIiBzdHJQYXJhbU5hbWU6ICIgKyBzdHJQYXJhbU5hbWUgKyAiIHN0clZhbHVlOiAiICsgc3RyVmFsdWUpDQoJICAgIHZhciByZXF1ZXN0UGFyYW0gPSB0aGlzLm9ialJlcXVlc3RDb2xsZWN0aW9uLmdldFJlcXVlc3RQYXJhbWV0ZXJXaXRoR2l2ZW5JZChzdHJJZCk7DQoJCWlmIChyZXF1ZXN0UGFyYW0gIT0gbnVsbCkNCgkgICAgew0KCSAgICAgICAgcmVxdWVzdFBhcmFtW3N0clBhcmFtTmFtZV0gPSAhISBzdHJWYWx1ZTsNCgkgICAgfQ0KCX0sDQoJDQoJdGVzdEdpdmVuUmVxdWVzdCA6IGZ1bmN0aW9uKHJlcXVlc3RJRCkNCgl7DQoJCWlmKHRoaXMub2JqU2Nhbm5pbmdQcm9jZXNzU3RhdHVzLmJvb2xTY2FubmVyQWN0aXZlKQ0KCQkJcmV0dXJuOw0KCQkNCgkJdmFyIG9ialJlcXVlc3QgPSB0aGlzLm9ialJlcXVlc3RDb2xsZWN0aW9uLmdldFJlcXVlc3RXaXRoR2l2ZW5JRChyZXF1ZXN0SUQpOw0KCQkNCgkJaWYob2JqUmVxdWVzdCAhPSBudWxsKQ0KCQl7DQoJCQl0aGlzLnN0ckFsbG93ZWRTY2FuVHlwZSA9ICJhY3VuZXRpeF9tZW51X3Rlc3RTdGFuZGFyZFNldCI7DQoJCQkNCgkJCXRoaXMub2JqU2Nhbm5pbmdQcm9jZXNzU3RhdHVzLmJvb2xJc1F1aWNrU2NhbiAJCQkJCQkJCQk9IGZhbHNlOw0KCQkJdGhpcy5vYmpTY2FubmluZ1Byb2Nlc3NTdGF0dXMuYXJyYXlPYmpBc2luY3JvblRlc3RlcgkJCQkJCQk9IG5ldyBBcnJheSgpOw0KCQkJdGhpcy5vYmpTY2FubmluZ1Byb2Nlc3NTdGF0dXMuYXJyYXlPYmpBc2luY3JvblRlc3RlclswXQkJCQkJCQk9IG5ldyBjbGFzc0FzaW5jcm9uVGVzdGVyKG9ialJlcXVlc3QpOw0KCQkJdGhpcy5vYmpTY2FubmluZ1Byb2Nlc3NTdGF0dXMuYXJyYXlPYmpBc2luY3JvblRlc3RlclswXS5vYmpOZXh0QXNpbmNyb25UZXN0ZXIgCT0gbnVsbDsNCgkJCXRoaXMub2JqU2Nhbm5pbmdQcm9jZXNzU3RhdHVzLnN0YXJ0U2Nhbm5pbmdQcm9jZXNzKCk7DQoJCQl0aGlzLm9ialNjYW5uaW5nUHJvY2Vzc1N0YXR1cy5hcnJheU9iakFzaW5jcm9uVGVzdGVyWzBdLmRvVGVzdCgpOw0KCQl9DQoJfSwNCgkNCglyZWxvYWREYXRhRm9yR2l2ZW5SZXF1ZXN0IDogZnVuY3Rpb24ocmVxdWVzdElEKQ0KCXsNCgkJdmFyIHJlcXVlc3QgPSB0aGlzLm9ialJlcXVlc3RDb2xsZWN0aW9uLmdldFJlcXVlc3RXaXRoR2l2ZW5JRChyZXF1ZXN0SUQpOw0KCQlpZihyZXF1ZXN0ICE9IG51bGwpDQoJCQlyZXF1ZXN0LnJlZnJlc2hQYXJhbWV0ZXJzRGF0YSgpOw0KCX0sDQoNCgl0b2dsZUdpdmVuUmVxdWVzdE9GRiA6IGZ1bmN0aW9uKHJlcXVlc3RJRCkNCgl7DQoJCWlmKHRoaXMub2JqU2Nhbm5pbmdQcm9jZXNzU3RhdHVzLmJvb2xTY2FubmVyQWN0aXZlKQ0KCQkJcmV0dXJuOw0KCQl2YXIgcmVxdWVzdCA9IHRoaXMub2JqUmVxdWVzdENvbGxlY3Rpb24uZ2V0UmVxdWVzdFdpdGhHaXZlbklEKHJlcXVlc3RJRCk7DQoJCWlmKHJlcXVlc3QgIT0gbnVsbCkNCgkJew0KCQkJZm9yKHZhciBpID0gMDsgaSA8IHJlcXVlc3QuYXJyYXlQYXJhbWV0ZXJzLmxlbmd0aDsgaSsrKQ0KCQkJew0KCQkJCXJlcXVlc3QuYXJyYXlQYXJhbWV0ZXJzW2ldLmJvb2xBcHBseVRlc3RQYXRlcm5zID0gZmFsc2U7DQoJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFwcGx5VGVzdFBhdHRlcm5zXyIgKyByZXF1ZXN0LmFycmF5UGFyYW1ldGVyc1tpXS5zdHJJZCkuY2hlY2tlZCA9IGZhbHNlOw0KCQkJfQ0KCQl9DQoJfSwNCg0KCXRvZ2xlR2l2ZW5SZXF1ZXN0T04gOiBmdW5jdGlvbihyZXF1ZXN0SUQpDQoJew0KCQlpZih0aGlzLm9ialNjYW5uaW5nUHJvY2Vzc1N0YXR1cy5ib29sU2Nhbm5lckFjdGl2ZSkNCgkJCXJldHVybjsNCgkJdmFyIHJlcXVlc3QgPSB0aGlzLm9ialJlcXVlc3RDb2xsZWN0aW9uLmdldFJlcXVlc3RXaXRoR2l2ZW5JRChyZXF1ZXN0SUQpOw0KCQlpZihyZXF1ZXN0ICE9IG51bGwpDQoJCXsNCgkJCWZvcih2YXIgaSA9IDA7IGkgPCByZXF1ZXN0LmFycmF5UGFyYW1ldGVycy5sZW5ndGg7IGkrKykNCgkJCXsNCgkJCQlyZXF1ZXN0LmFycmF5UGFyYW1ldGVyc1tpXS5ib29sQXBwbHlUZXN0UGF0ZXJucyA9IHRydWU7DQoJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFwcGx5VGVzdFBhdHRlcm5zXyIgKyByZXF1ZXN0LmFycmF5UGFyYW1ldGVyc1tpXS5zdHJJZCkuY2hlY2tlZCA9IHRydWU7DQoJCQl9DQoJCX0NCgl9LA0KDQoJY2FwdHVyZVBhZ2VSZXF1ZXN0cyA6IGZ1bmN0aW9uKCkgDQoJew0KCQlpZih0aGlzLm9ialNjYW5uaW5nUHJvY2Vzc1N0YXR1cy5ib29sU2Nhbm5lckFjdGl2ZSkNCgkJCXJldHVybjsNCgkJdGhpcy5zaG93SGlkZVJlcXVlc3RQYW5uZWwoInNob3ciKTsNCgkJdmFyIG9ialBhZ2VEb2N1bWVudD13aW5kb3cudG9wLmdldEJyb3dzZXIoKS5icm93c2Vyc1t3aW5kb3cudG9wLmdldEJyb3dzZXIoKS5tVGFiQm94LnNlbGVjdGVkSW5kZXhdLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ7DQoJCWlmIChvYmpQYWdlRG9jdW1lbnQpDQoJCXsNCgkJCXRoaXMub2JqUmVxdWVzdENvbGxlY3Rpb24gPSBuZXcgY2xhc3NSZXF1ZXN0Q29sZWN0aW9uKCk7DQoJCQkvL2VtcHR5IHJlcXVlc3QgbGlzdA0KCQkJdGhpcy5vYmpSZXF1ZXN0Q29sbGVjdGlvbi5hcnJheVJlcXVlc3RzLmxlbmd0aCA9IDA7ICANCgkJCXRoaXMub2JqUmVxdWVzdENvbGxlY3Rpb24uZXh0cmFjdFJlcXVlc3RDb2xsZWN0aW9uRnJvbVBhZ2Uob2JqUGFnZURvY3VtZW50KTsNCgkJCXZhciBkb2MgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWN1bmV0aXhfYXBwY29udGVudF9wYWdlUmVxdWVzdExpc3RCb3gnKTsNCgkJCXRoaXMub2JqUmVxdWVzdENvbGxlY3Rpb24ucmVuZGVyUmVxdWVzdChkb2MpOw0KCQkJYWxlcnQoIkNhcHR1cmUgZG9uZSEiKTsNCgkJfQ0KCX0sDQoJDQoJb3BlblNldHRpbmdzRGlhbG9nIDogZnVuY3Rpb24oKQ0KCXsNCgkJaWYodGhpcy5vYmpTY2FubmluZ1Byb2Nlc3NTdGF0dXMuYm9vbFNjYW5uZXJBY3RpdmUpDQoJCQlyZXR1cm47DQoJCXdpbmRvdy5vcGVuRGlhbG9nKCJjaHJvbWU6Ly9hY3VuZXRpeHdlYnNjYW5uZXIvY29udGVudC9vcHRpb25zLnh1bCIsICIiLCAgIm1vZGFsLGNocm9tZSxkaWFsb2csY2VudGVyc2NyZWVuIik7DQoJfSwNCi8vIGNvbW1hbmRzIGZyb20gVUkgRU5EDQoNCglwb3B1bGF0ZVRlc3RUeXBlTWVudSA6IGZ1bmN0aW9uKCkNCgl7DQoJCWxvZ1RvRmlsZSgiYWN1bmV0aXh3ZWJzY2FubmVyL3BvcHVsYXRlVGVzdFR5cGVNZW51ICgiICsgdGhpcy5hcnJheU9mVGVzdFByb2NlZHVyZXMubGVuZ3RoICsgIikiLCAyKTsNCgkJCQkNCgkJdmFyIG9ialRlc3RUeXBlUGFyZW50ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFjdW5ldGl4X21lbnVfc2VsZWN0VGVzdF9zZWxlY3RvciIpOw0KCQkNCgkJZm9yKHZhciBpID0gMDsgaSA8IHRoaXMuYXJyYXlPZlRlc3RQcm9jZWR1cmVzLmxlbmd0aDsgaSsrKQ0KCQl7DQoJCQlsb2dUb0ZpbGUoImFjdW5ldGl4d2Vic2Nhbm5lci9wb3B1bGF0ZVRlc3RUeXBlTWVudSA9ID4gIiArIHRoaXMuYXJyYXlPZlRlc3RQcm9jZWR1cmVzW2ldLnN0clhVTE1lbnVUZXh0LCAyKTsNCgkJCQ0KCQkJdGhpcy5hcnJheU9mVGVzdFByb2NlZHVyZXNbaV0uaW50VnVsbmVyYWJpbGl0aWVzQ291bnQgPSAwOw0KCQkJLy8gdmFyIG9iak1lbnVJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCJodHRwOi8vd3d3Lm1vemlsbGEub3JnL2tleW1hc3Rlci9nYXRla2VlcGVyL3RoZXJlLmlzLm9ubHkueHVsIiwgIm1lbnVpdGVtIik7IGxvbCB3ZSBsb3ZlIHRoZSBuZXcgZmlyZWZveCAzIGRvbnQgd2UgPw0KCQkJdmFyIG9iak1lbnVJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCAiaHR0cDovL3d3dy5tb3ppbGxhLm9yZy9rZXltYXN0ZXIvZ2F0ZWtlZXBlci90aGVyZS5pcy5vbmx5Lnh1bCIsICJtZW51aXRlbSIpOw0KCQkJDQoNCgkJCWlmKG9iak1lbnVJdGVtKQ0KCQkJew0KCQkJCW9iak1lbnVJdGVtLnNldEF0dHJpYnV0ZSgiaWQiLCB0aGlzLmFycmF5T2ZUZXN0UHJvY2VkdXJlc1tpXS5zdHJYVUxNZW51SWQpOw0KCQkJCW9iak1lbnVJdGVtLnNldEF0dHJpYnV0ZSgibGFiZWwiLCB0aGlzLmFycmF5T2ZUZXN0UHJvY2VkdXJlc1tpXS5zdHJYVUxNZW51VGV4dCk7DQoJCQkJb2JqTWVudUl0ZW0uc2V0QXR0cmlidXRlKCJ0b29sdGlwdGV4dCIsIHRoaXMuYXJyYXlPZlRlc3RQcm9jZWR1cmVzW2ldLnN0clhVTE1lbnVIaW50KTsNCgkJCQlvYmpNZW51SXRlbS5zZXRBdHRyaWJ1dGUoIm9uY29tbWFuZCIsICJhY3VuZXRpeHdlYnNjYW5uZXIucXVpY2tUZXN0KHRoaXMpIik7DQoJCQkJaWYodGhpcy5hcnJheU9mVGVzdFByb2NlZHVyZXNbaV0uc3RyWFVMTWVudUFjY2Vzc2tleSAhPSAiIikNCgkJCQkJb2JqTWVudUl0ZW0uc2V0QXR0cmlidXRlKCJhY2Nlc3NrZXkiLCB0aGlzLmFycmF5T2ZUZXN0UHJvY2VkdXJlc1tpXS5zdHJYVUxNZW51QWNjZXNza2V5KTsNCgkJCQlpZighdGhpcy5hcnJheU9mVGVzdFByb2NlZHVyZXNbaV0uZW5hYmxlZCkNCgkJCQkJb2JqTWVudUl0ZW0uc2V0QXR0cmlidXRlKCJkaXNhYmxlZCIsICJ0cnVlIik7DQoJCQkJaWYob2JqVGVzdFR5cGVQYXJlbnQpDQoJCQkJCW9ialRlc3RUeXBlUGFyZW50LmFwcGVuZENoaWxkKG9iak1lbnVJdGVtKTsNCgkJCX0NCgkJfQ0KCX0sDQoNCglpc1Rlc3RBbGxvd2VkIDogZnVuY3Rpb24oaW50VGVzdEluZGV4KQ0KCXsNCgkJbG9nVG9GaWxlKCJhY3VuZXRpeHdlYnNjYW5uZXIvaXNUZXN0QWxsb3dlZCBmb3I6ICIgKyB0aGlzLmFycmF5T2ZUZXN0UHJvY2VkdXJlc1tpbnRUZXN0SW5kZXhdLnN0clRlc3ROYW1lICsgIiAoIiArIGludFRlc3RJbmRleCArICIpLCBzdHJBbGxvd2VkU2NhblR5cGU6ICIgKyB0aGlzLnN0ckFsbG93ZWRTY2FuVHlwZSk7DQoJCQ0KCQlpZighdGhpcy5hcnJheU9mVGVzdFByb2NlZHVyZXNbaW50VGVzdEluZGV4XS5lbmFibGVkKQ0KCQkJcmV0dXJuKGZhbHNlKTsNCgkJDQoJCWlmKHRoaXMuc3RyQWxsb3dlZFNjYW5UeXBlID09ICJhY3VuZXRpeF9tZW51X3Rlc3RBbGwiKQ0KCQl7DQoJCQlsb2dUb0ZpbGUoImFjdW5ldGl4d2Vic2Nhbm5lci9pc1Rlc3RBbGxvd2VkID0+IHRydWUiKTsNCgkJCXJldHVybih0cnVlKTsNCgkJfQ0KCQl0cnkNCgkJew0KCQkJaWYodGhpcy5zdHJBbGxvd2VkU2NhblR5cGUgPT0gImFjdW5ldGl4X21lbnVfdGVzdFN0YW5kYXJkU2V0IikNCgkJCXsNCgkJCQl2YXIgcmV0dmFsID0gdGhpcy5vYmpNb3pQcmVmcy5nZXRCb29sUHJlZigiYm9vbFRlc3RFbmFibGVkIiArIChpbnRUZXN0SW5kZXggKyAxKSkNCgkJCQlsb2dUb0ZpbGUoImFjdW5ldGl4d2Vic2Nhbm5lci9pc1Rlc3RBbGxvd2VkID0+ICgiICsgKGludFRlc3RJbmRleCArIDEpICsgIikgPSAiICsgcmV0dmFsKTsNCgkJCQlyZXR1cm4ocmV0dmFsKTsNCgkJCX0NCgkJfQ0KCQljYXRjaChlKQ0KCQl7DQoJCQlsb2dUb0ZpbGUoImFjdW5ldGl4d2Vic2Nhbm5lci9pc1Rlc3RBbGxvd2VkID0+IGZhbHNlICIgKyBlKTsNCgkJCXJldHVybihmYWxzZSk7DQoJCX0NCgkJDQoJCXZhciByZXR2YWwgPSAodGhpcy5zdHJBbGxvd2VkU2NhblR5cGUgPT0gdGhpcy5hcnJheU9mVGVzdFByb2NlZHVyZXNbaW50VGVzdEluZGV4XS5zdHJYVUxNZW51SWQpOw0KCQlsb2dUb0ZpbGUoImFjdW5ldGl4d2Vic2Nhbm5lci9pc1Rlc3RBbGxvd2VkID0+ICIgKyByZXR2YWwpOw0KCQlyZXR1cm4ocmV0dmFsKTsNCgl9DQp9Ow0KDQp3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigibG9hZCIsIGZ1bmN0aW9uKGUpIHsgYWN1bmV0aXh3ZWJzY2FubmVyLm9uTG9hZChlKTsgfSwgZmFsc2UpOw0KDQpmdW5jdGlvbiBjbGFzc1NjYW5uaW5nUHJvY2Vzc1N0YXR1cygpDQp7DQoJdGhpcy5ib29sU2Nhbm5lckFjdGl2ZSAJCQkJPSBmYWxzZTsNCgl0aGlzLnN0clRlc3RSZXN1bHRIVE1MT3V0cHV0IAkJPSAiIjsNCgl0aGlzLmJvb2xBYm9ydFNjYW4JCQkJCT0gZmFsc2U7DQoJdGhpcy5hcnJheU9iakFzaW5jcm9uVGVzdGVyCQkJPSBuZXcgQXJyYXkoKTsNCgkNCgl0aGlzLmludFRlc3RQcm9jZWR1cmVJbmRleAkJCT0gMDsNCgl0aGlzLmludE1heFRlc3RQcm9jZWR1cmVOdW1iZXIJCT0gMDsNCgkNCgl0aGlzLmludFRlc3RJbmRleAkJCQkJPSAwOw0KCXRoaXMuaW50TWF4VGVzdE51bWJlcgkJCQk9IDA7DQoJDQoJdGhpcy5pbnRHcm91cEluZGV4CQkJCQk9IDA7DQoJdGhpcy5pbnRNYXhHcm91cE51bWJlcgkJCQk9IDA7DQoJDQoJdGhpcy5pbnRWdWxuZXJhYmxlRm91bmROdW1iZXIJCT0gMDsNCgl0aGlzLmludFRvdGFsUmVxdWVzdEhhbmRsZWQJCQk9IDA7DQoJdGhpcy5pbnRUb3RhbFJlcXVlc3RIYW5kbGluZ0Vycm9yCT0gMDsNCgkNCgl0aGlzLm9ialN0YXJ0U2NhblRpbWUJCQkJPSBudWxsOw0KCXRoaXMuYm9vbElzUXVpY2tTY2FuCQkJCT0gZmFsc2U7DQoJDQoNCgl0aGlzLnN0YXJ0U2Nhbm5pbmdQcm9jZXNzID0gZnVuY3Rpb24oKQ0KCXsNCgkJbG9nVG9GaWxlKCJjbGFzc1NjYW5uaW5nUHJvY2Vzc1N0YXR1cy9zdGFydFNjYW5uaW5nUHJvY2VzcyIpOw0KCQkNCgkJdmFyIG9ialZ1bG5MYWJlbEdyb3VwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFjdW5ldGl4X3Rvb2x0aXBfb25WdWxuZXJhYmxlTGFiZWwiKTsNCgkJdmFyIG9ialZ1bG5WYWx1ZUdyb3VwID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFjdW5ldGl4X3Rvb2x0aXBfb25WdWxuZXJhYmxlVmFsdWUiKTsNCgkJDQoJCWlmKG9ialZ1bG5MYWJlbEdyb3VwKQ0KCQkJd2hpbGUgKG9ialZ1bG5MYWJlbEdyb3VwLmNoaWxkTm9kZXMubGVuZ3RoID4gMCkNCgkJCQlvYmpWdWxuTGFiZWxHcm91cC5yZW1vdmVDaGlsZChvYmpWdWxuTGFiZWxHcm91cC5jaGlsZE5vZGVzWzBdKTsNCgkJaWYob2JqVnVsblZhbHVlR3JvdXApDQoJCQl3aGlsZSAob2JqVnVsblZhbHVlR3JvdXAuY2hpbGROb2Rlcy5sZW5ndGggPiAwKQ0KCQkJCW9ialZ1bG5WYWx1ZUdyb3VwLnJlbW92ZUNoaWxkKG9ialZ1bG5WYWx1ZUdyb3VwLmNoaWxkTm9kZXNbMF0pOw0KICANCgkJDQoJCWZvcih2YXIgaSA9IDA7IGkgPCBhY3VuZXRpeHdlYnNjYW5uZXIuYXJyYXlPZlRlc3RQcm9jZWR1cmVzLmxlbmd0aDsgaSsrKQ0KCQkJYWN1bmV0aXh3ZWJzY2FubmVyLmFycmF5T2ZUZXN0UHJvY2VkdXJlc1tpXS5pbnRWdWxuZXJhYmlsaXRpZXNDb3VudCA9IDA7DQoJCQ0KCQl2YXIgdG1wc3RyID0gIiI7DQoJCXRtcHN0ciA9IHRtcHN0ciArICI8IS0tIEFjdW5ldGl4IEZpcmVmb3ggV2ViIFNjYW5uZXIgRXhwb3J0IC0tPlxyXG4iOw0KCQl0bXBzdHIgPSB0bXBzdHIgKyAiPEFjdW5ldGl4RmlyZWZveFdlYlNjYW5uZXJSZXBvcnQ+XHJcbiI7DQoJCXRtcHN0ciA9IHRtcHN0ciArICJcdDxWdWxuZXJhYmlsaXRpZXM+XHJcbiI7DQoJCQ0KCQlhY3VuZXRpeHdlYnNjYW5uZXIub2JqRmlsZUhhbmRsZXIuc2F2ZVRleHRGaWxlKCJBY3VuZXRpeFNjYW5uZXJcXHd2cy54bWwiLCB0bXBzdHIsIGZhbHNlLCAiSG9tZSIpOw0KCQkNCgkJdGhpcy5zdHJUZXN0UmVzdWx0SFRNTE91dHB1dCAJCT0gIiI7DQoJCQ0KCQl0aGlzLmludFRvdGFsUmVxdWVzdEhhbmRsZWQJCQk9IDA7DQoJCXRoaXMuaW50VG90YWxSZXF1ZXN0SGFuZGxpbmdFcnJvcgk9IDA7DQoJCXRoaXMuaW50VnVsbmVyYWJsZUZvdW5kTnVtYmVyIAkJPSAwOw0KCQl0aGlzLm9ialN0YXJ0U2NhblRpbWUJCQkJPSBuZXcgRGF0ZSgpOw0KCQkNCgkJdGhpcy5ib29sU2Nhbm5lckFjdGl2ZQkJCQk9IHRydWU7DQoJCXRoaXMuYm9vbEFib3J0U2NhbgkJCQkJPSBmYWxzZTsNCgkJDQoJCXRoaXMuaW50R3JvdXBJbmRleAkJCQkJPSAwOw0KCQl0aGlzLmludFRlc3RJbmRleAkJCQkJPSAwOw0KCQl0aGlzLmludFRlc3RQcm9jZWR1cmVJbmRleAkJCT0gMDsNCgkJDQoJCXRoaXMuaW50TWF4R3JvdXBOdW1iZXIgCQkJCT0gYWN1bmV0aXh3ZWJzY2FubmVyLm9ialJlcXVlc3RDb2xsZWN0aW9uLmFycmF5UmVxdWVzdHMubGVuZ3RoOw0KCQl0aGlzLmludE1heFRlc3RQcm9jZWR1cmVOdW1iZXIJCT0gMDsNCgkJDQoJCWZvcih2YXIgaSA9IDA7IGkgPCBhY3VuZXRpeHdlYnNjYW5uZXIuYXJyYXlPZlRlc3RQcm9jZWR1cmVzLmxlbmd0aDsgaSsrKQ0KCQkJaWYoYWN1bmV0aXh3ZWJzY2FubmVyLmlzVGVzdEFsbG93ZWQoaSkpDQoJCQkJdGhpcy5pbnRNYXhUZXN0UHJvY2VkdXJlTnVtYmVyICsrOw0KCQkNCgkJdGhpcy5pbnRNYXhUZXN0TnVtYmVyCQkJCT0gMAkJDQoJCQ0KCQlmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5hcnJheU9iakFzaW5jcm9uVGVzdGVyLmxlbmd0aDsgaSsrKQ0KCQkJdGhpcy5pbnRNYXhUZXN0TnVtYmVyID0gdGhpcy5pbnRNYXhUZXN0TnVtYmVyICsgdGhpcy5hcnJheU9iakFzaW5jcm9uVGVzdGVyW2ldLm9ialJlcXVlc3QuZ2VuZXJhdGVQYXJhbWV0ZXJNYW5uaXB1bGF0aW9uQ29tYmluYXRpb25zKCkgKiB0aGlzLmludE1heFRlc3RQcm9jZWR1cmVOdW1iZXI7DQoJCQ0KCQkNCgkJdGhpcy5SZW5kZXJTY2FubmVyU3RhdHVzKCk7DQoJCQ0KCQkvL2Rpc2FibGUgdGhlIGludGVyZmFjZQ0KCQlpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWN1bmV0aXhfbWVudV9hYm9ydFNjYW4iKSkNCgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhY3VuZXRpeF9tZW51X2Fib3J0U2NhbiIpLmRpc2FibGVkIAkJCT0gZmFsc2U7DQoJCWlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhY3VuZXRpeF9tZW51X3NldHRpbmdzIikpDQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWN1bmV0aXhfbWVudV9zZXR0aW5ncyIpLmRpc2FibGVkIAkJCQk9IHRydWU7DQoJCWlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhY3VuZXRpeF9tZW51X3NlbGVjdFRlc3QiKSkNCgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhY3VuZXRpeF9tZW51X3NlbGVjdFRlc3QiKS5kaXNhYmxlZAk9IHRydWU7DQoJCWlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhY3VuZXRpeF9tZW51X2FkdmFuY2VkIikuZGlzYWJsZWQpDQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWN1bmV0aXhfbWVudV9hZHZhbmNlZCIpLmRpc2FibGVkIAkJCQkJPSB0cnVlOw0KCQkNCgkJaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFjdW5ldGl4X3NjYW5uZXJTdGF0dXMyIikpDQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWN1bmV0aXhfc2Nhbm5lclN0YXR1czIiKS52YWx1ZSA9ICIiOw0KCQkNCgkJZm9yKHZhciBpID0gMDsgaSA8IHRoaXMuYXJyYXlPYmpBc2luY3JvblRlc3Rlci5sZW5ndGg7IGkrKykNCgkJew0KCQkJaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJlcXVlc3RfdGVzdF8iICsgdGhpcy5hcnJheU9iakFzaW5jcm9uVGVzdGVyW2ldLm9ialJlcXVlc3Quc3RySWQpKQ0KCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyZXF1ZXN0X3Rlc3RfIiArIHRoaXMuYXJyYXlPYmpBc2luY3JvblRlc3RlcltpXS5vYmpSZXF1ZXN0LnN0cklkKS5kaXNhYmxlZCA9IHRydWU7DQoJCQlpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicmVxdWVzdF9yZWxvYWRfIiArIHRoaXMuYXJyYXlPYmpBc2luY3JvblRlc3RlcltpXS5vYmpSZXF1ZXN0LnN0cklkKSkNCgkJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicmVxdWVzdF9yZWxvYWRfIiArIHRoaXMuYXJyYXlPYmpBc2luY3JvblRlc3RlcltpXS5vYmpSZXF1ZXN0LnN0cklkKS5kaXNhYmxlZCA9IHRydWU7DQoJCQlpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgicmVxdWVzdF90b2dnbGVvbl8iICsgdGhpcy5hcnJheU9iakFzaW5jcm9uVGVzdGVyW2ldLm9ialJlcXVlc3Quc3RySWQpKQ0KCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyZXF1ZXN0X3RvZ2dsZW9uXyIgKyB0aGlzLmFycmF5T2JqQXNpbmNyb25UZXN0ZXJbaV0ub2JqUmVxdWVzdC5zdHJJZCkuZGlzYWJsZWQgPSB0cnVlOw0KCQkJaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJlcXVlc3RfdG9nZ2xlb2ZmXyIgKyB0aGlzLmFycmF5T2JqQXNpbmNyb25UZXN0ZXJbaV0ub2JqUmVxdWVzdC5zdHJJZCkpDQoJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJlcXVlc3RfdG9nZ2xlb2ZmXyIgKyB0aGlzLmFycmF5T2JqQXNpbmNyb25UZXN0ZXJbaV0ub2JqUmVxdWVzdC5zdHJJZCkuZGlzYWJsZWQgPSB0cnVlOw0KCQl9DQoJCQ0KCQlpZihhY3VuZXRpeHdlYnNjYW5uZXIub2JqTW96UHJlZnMuZ2V0Qm9vbFByZWYoImJvb2xEZWxldGVMb2dGaWxlc0F0U2NhblN0YXJ0IikpDQoJCXsNCgkJCWFjdW5ldGl4d2Vic2Nhbm5lci5vYmpGaWxlSGFuZGxlci5zYXZlVGV4dEZpbGUoYWN1bmV0aXh3ZWJzY2FubmVyLm9iak1velByZWZzLmdldENoYXJQcmVmKCJzdHJIVFRQTG9naW5GaWxlTmFtZSIpLCAiIiwgZmFsc2UpOw0KCQkJYWN1bmV0aXh3ZWJzY2FubmVyLm9iakZpbGVIYW5kbGVyLnNhdmVUZXh0RmlsZShhY3VuZXRpeHdlYnNjYW5uZXIub2JqTW96UHJlZnMuZ2V0Q2hhclByZWYoInN0ckZ1bmN0aW9uYWxMb2dnaW5nRmlsZU5hbWUiKSwgIiIsIGZhbHNlKTsNCgkJfQ0KCX0NCgkNCgl0aGlzLnN0b3BTY2FubmluZ1Byb2Nlc3MgPSBmdW5jdGlvbigpDQoJew0KCQkNCgkJaWYoISB0aGlzLmJvb2xTY2FubmVyQWN0aXZlKQ0KCQkJcmV0dXJuOw0KCQl0aGlzLmJvb2xTY2FubmVyQWN0aXZlID0gZmFsc2U7DQoJCQ0KCQkvL3JlZW5hYmxlIHRoZSBpbnRlcmZhY2UNCgkJaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFjdW5ldGl4X21lbnVfYWJvcnRTY2FuIikpDQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWN1bmV0aXhfbWVudV9hYm9ydFNjYW4iKS5kaXNhYmxlZCAJCQk9IHRydWU7DQoJCWlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhY3VuZXRpeF9tZW51X2FkdmFuY2VkIikpDQoJCQlkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWN1bmV0aXhfbWVudV9hZHZhbmNlZCIpLmRpc2FibGVkIAkJCQkJPSBmYWxzZTsNCgkJaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFjdW5ldGl4X21lbnVfc2V0dGluZ3MiKSkNCgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhY3VuZXRpeF9tZW51X3NldHRpbmdzIikuZGlzYWJsZWQgCQkJCT0gZmFsc2U7DQoJCWlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhY3VuZXRpeF9tZW51X3NlbGVjdFRlc3QiKSkNCgkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhY3VuZXRpeF9tZW51X3NlbGVjdFRlc3QiKS5kaXNhYmxlZAk9IGZhbHNlOw0KCQkNCgkJZm9yKHZhciBpID0gMDsgaSA8IHRoaXMuYXJyYXlPYmpBc2luY3JvblRlc3Rlci5sZW5ndGg7IGkrKykNCgkJew0KCQkJaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJlcXVlc3RfdGVzdF8iICsgdGhpcy5hcnJheU9iakFzaW5jcm9uVGVzdGVyW2ldLm9ialJlcXVlc3Quc3RySWQpKQ0KCQkJCWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyZXF1ZXN0X3Rlc3RfIiArIHRoaXMuYXJyYXlPYmpBc2luY3JvblRlc3RlcltpXS5vYmpSZXF1ZXN0LnN0cklkKS5kaXNhYmxlZCA9IGZhbHNlOw0KCQkJaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJlcXVlc3RfcmVsb2FkXyIgKyB0aGlzLmFycmF5T2JqQXNpbmNyb25UZXN0ZXJbaV0ub2JqUmVxdWVzdC5zdHJJZCkpDQoJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJlcXVlc3RfcmVsb2FkXyIgKyB0aGlzLmFycmF5T2JqQXNpbmNyb25UZXN0ZXJbaV0ub2JqUmVxdWVzdC5zdHJJZCkuZGlzYWJsZWQgPSBmYWxzZTsNCgkJCWlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJyZXF1ZXN0X3RvZ2dsZW9uXyIgKyB0aGlzLmFycmF5T2JqQXNpbmNyb25UZXN0ZXJbaV0ub2JqUmVxdWVzdC5zdHJJZCkpDQoJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJlcXVlc3RfdG9nZ2xlb25fIiArIHRoaXMuYXJyYXlPYmpBc2luY3JvblRlc3RlcltpXS5vYmpSZXF1ZXN0LnN0cklkKS5kaXNhYmxlZCA9IGZhbHNlOw0KCQkJaWYoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJlcXVlc3RfdG9nZ2xlb2ZmXyIgKyB0aGlzLmFycmF5T2JqQXNpbmNyb25UZXN0ZXJbaV0ub2JqUmVxdWVzdC5zdHJJZCkpDQoJCQkJZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoInJlcXVlc3RfdG9nZ2xlb2ZmXyIgKyB0aGlzLmFycmF5T2JqQXNpbmNyb25UZXN0ZXJbaV0ub2JqUmVxdWVzdC5zdHJJZCkuZGlzYWJsZWQgPSBmYWxzZTsNCgkJfQ0KCQkNCgkJdGhpcy5SZW5kZXJTY2FubmVyU3RhdHVzKCk7DQoJCQ0KCQlmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5hcnJheU9iakFzaW5jcm9uVGVzdGVyLmxlbmd0aDsgaSsrKQ0KCQkJdGhpcy5idWlsZFJlcXVlc3RUZXN0T3V0cHV0KHRoaXMuYXJyYXlPYmpBc2luY3JvblRlc3RlcltpXS5vYmpSZXF1ZXN0LCB0aGlzLmFycmF5T2JqQXNpbmNyb25UZXN0ZXJbaV0uYXJyYXlUZXN0UmVzdWx0cyk7DQoJCQ0KCQlsb2dUb0ZpbGUoImNsYXNzU2Nhbm5pbmdQcm9jZXNzU3RhdHVzL3N0b3BTY2FubmluZ1Byb2Nlc3MvYWJvcnRlZCA9ICIgKyB0aGlzLmJvb2xBYm9ydFNjYW4pOw0KCQkNCgkJdmFyIG9ialN0b3BTY2FuVGltZQkJPSBuZXcgRGF0ZSgpOw0KCQkNCgkJdmFyIHRtcHN0ciA9ICIiDQoJCXRtcHN0ciA9IHRtcHN0ciArICJcdDwvVnVsbmVyYWJpbGl0aWVzPlxyXG4iOw0KCQl0bXBzdHIgPSB0bXBzdHIgKyAiXHQ8c2NhbkluZm8+XHJcbiI7DQoJCXRtcHN0ciA9IHRtcHN0ciArICJcdFx0PHN0YXJ0VGltZT4iICsgZm9ybWF0RGF0ZUZvcldWU0V4cG9ydCh0aGlzLm9ialN0YXJ0U2NhblRpbWUpICsgIjwvc3RhcnRUaW1lPlxyXG4iOw0KCQl0bXBzdHIgPSB0bXBzdHIgKyAiXHRcdDxzdG9wVGltZT4iICsgZm9ybWF0RGF0ZUZvcldWU0V4cG9ydChvYmpTdG9wU2NhblRpbWUpICsgIjwvc3RvcFRpbWU+XHJcbiI7DQoJCXRtcHN0ciA9IHRtcHN0ciArICJcdDwvc2NhbkluZm8+XHJcbiI7DQoJCXRtcHN0ciA9IHRtcHN0ciArICI8L0FjdW5ldGl4RmlyZWZveFdlYlNjYW5uZXJSZXBvcnQ+IjsNCgkJYWN1bmV0aXh3ZWJzY2FubmVyLm9iakZpbGVIYW5kbGVyLnNhdmVUZXh0RmlsZSgiQWN1bmV0aXhTY2FubmVyXFx3dnMueG1sIix0bXBzdHIsIHRydWUsICJIb21lIik7DQoJCQ0KCQl2YXIgc3RyU3RhdHVzCT0gIkRvbmUiDQoJCWlmKHRoaXMuYm9vbEFib3J0U2NhbikNCgkJCXN0clN0YXR1cyA9ICJBYm9ydGVkIjsNCgkJDQoJCXZhciBzdHJDb250ZW50ID0gIiINCgkJCQ0KCQlhY3VuZXRpeHdlYnNjYW5uZXIub2JqRmlsZUhhbmRsZXIuc2F2ZVRleHRGaWxlKCJBY3VuZXRpeFNjYW5uZXJcXHRlbXAuaHRtbCIsc3RyQ29udGVudCwgZmFsc2UsICJIb21lIik7DQoJCQ0KCQl2YXIgdGltZSA9ICBNYXRoLmZsb29yKChvYmpTdG9wU2NhblRpbWUgLSB0aGlzLm9ialN0YXJ0U2NhblRpbWUgKS8xMDAwKTsNCgkJdmFyIGhvdXJzID0gTWF0aC5mbG9vcih0aW1lLyg2MCo2MCkpOw0KCQl2YXIgbWludXRlcyA9IE1hdGguZmxvb3IoKHRpbWUgLSBob3Vycyo2MCo2MCApLzYwKTsNCgkJdmFyIHNlY29uZHMgPSB0aW1lIC0gaG91cnMqNjAqNjAgLSBtaW51dGVzKjYwOw0KCQl2YXIgc3RyVGltZUVsYXBzZWQgPSBzZWNvbmRzICsgIiBzZWNvbmRzIjsNCgkJaWYobWludXRlcyA+IDApIHN0clRpbWVFbGFwc2VkID0gbWludXRlcyArICIgbWludXRlcywgIiArIHN0clRpbWVFbGFwc2VkOw0KCQlpZihob3VycyA+IDApIHN0clRpbWVFbGFwc2VkID0gaG91cnMgKyAiIGhvdXJzLCAiICsgc3RyVGltZUVsYXBzZWQ7DQoJCQ0KCQkvL3NhdmUgdGhlIHJlc3VsdCB0byB0ZW1wb3JhbCBmaWxlOg0KCQlzdHJDb250ZW50ID0gYWN1bmV0aXh3ZWJzY2FubmVyLm9iakZpbGVIYW5kbGVyLmxvYWRUZXh0RnJvbUxvY2FsVVJJKCJjaHJvbWU6Ly9hY3VuZXRpeHdlYnNjYW5uZXIvY29udGVudC9yZXBvcnQuc3R5bGUiKS5zdHJDb250ZW50ICsgIiAiOw0KCQlzdHJDb250ZW50ID0gc3RyQ29udGVudC5yZXBsYWNlKCJ7dGltZV9lbGFwc2VkfSIsIHN0clRpbWVFbGFwc2VkKTsNCgkJc3RyQ29udGVudCA9IHN0ckNvbnRlbnQucmVwbGFjZSgie3JlcXVlc3RfbGlzdH0iLGFjdW5ldGl4d2Vic2Nhbm5lci5vYmpTY2FubmluZ1Byb2Nlc3NTdGF0dXMuc3RyVGVzdFJlc3VsdEhUTUxPdXRwdXQpOw0KCQlzdHJDb250ZW50ID0gc3RyQ29udGVudC5yZXBsYWNlKCJ7dGVzdF9zdGF0dXN9IixzdHJTdGF0dXMpOw0KCQlzdHJDb250ZW50ID0gc3RyQ29udGVudC5yZXBsYWNlKCJ7dGVzdF92dWxuZXJhYmlsaXRpZXN9IiwgdGhpcy5pbnRWdWxuZXJhYmxlRm91bmROdW1iZXIpOw0KCQlzdHJDb250ZW50ID0gc3RyQ29udGVudC5yZXBsYWNlKCJ7dGVzdF9yZXF1ZXN0SGFuZGxlZH0iLCB0aGlzLmludFRvdGFsUmVxdWVzdEhhbmRsZWQpOw0KCQlzdHJDb250ZW50ID0gc3RyQ29udGVudC5yZXBsYWNlKCJ7dGVzdF9lcnJvc30iLCB0aGlzLmludFRvdGFsUmVxdWVzdEhhbmRsaW5nRXJyb3IpOw0KCQkNCgkJCQkNCgkJYWN1bmV0aXh3ZWJzY2FubmVyLm9iakZpbGVIYW5kbGVyLnNhdmVUZXh0RmlsZSgiQWN1bmV0aXhTY2FubmVyXFxTY2FuUmVzdWx0Lmh0bWwiLCBzdHJDb250ZW50LCBmYWxzZSwgIkhvbWUiKTsJCQ0KCQlzdHJDb250ZW50ID0gc3RyQ29udGVudC5yZXBsYWNlKC90YXJnZXQ9Il9ibGFuayIgaHJlZj0iW14iXSIqL2lnLCAiIik7DQoJCWFjdW5ldGl4d2Vic2Nhbm5lci5vYmpGaWxlSGFuZGxlci5zYXZlVGV4dEZpbGUoIkFjdW5ldGl4U2Nhbm5lclxcU2NhblJlc3VsdDIuaHRtbCIsIHN0ckNvbnRlbnQsIGZhbHNlLCAiSG9tZSIpOw0KCQlzdHJDb250ZW50ID0gIiI7DQoJCQ0KCQl2YXIgd2luID0gd2luZG93Lm9wZW4oImNocm9tZTovL2FjdW5ldGl4d2Vic2Nhbm5lci9jb250ZW50L29uU2NhbkVuZERpYWxvZy54dWwiLCAiU2NhbkVuZERpYWxvZyIsICJjaHJvbWUsIHJlc2l6YWJsZSwgY2VudGVyc2NyZWVuLCBtb2RhbCIpOw0KCQkNCgkJDQoJCWlmKGFjdW5ldGl4d2Vic2Nhbm5lci5vYmpNb3pQcmVmcy5nZXRCb29sUHJlZigiYm9vbE9wZW5SZXN1bHRJbkZpcmVmb3giKSkNCgkJew0KCQkJdmFyIG1haW5XaW5kb3cgPSB3aW5kb3cuUXVlcnlJbnRlcmZhY2UoQ29tcG9uZW50cy5pbnRlcmZhY2VzLm5zSUludGVyZmFjZVJlcXVlc3RvcikNCgkJCQkJCSAgIC5nZXRJbnRlcmZhY2UoQ29tcG9uZW50cy5pbnRlcmZhY2VzLm5zSVdlYk5hdmlnYXRpb24pDQoJCQkJCQkgICAuUXVlcnlJbnRlcmZhY2UoQ29tcG9uZW50cy5pbnRlcmZhY2VzLm5zSURvY1NoZWxsVHJlZUl0ZW0pDQoJCQkJCQkgICAucm9vdFRyZWVJdGVtDQoJCQkJCQkgICAuUXVlcnlJbnRlcmZhY2UoQ29tcG9uZW50cy5pbnRlcmZhY2VzLm5zSUludGVyZmFjZVJlcXVlc3RvcikNCgkJCQkJCSAgIC5nZXRJbnRlcmZhY2UoQ29tcG9uZW50cy5pbnRlcmZhY2VzLm5zSURPTVdpbmRvdyk7DQoJCQkNCgkJCWFjdW5ldGl4d2Vic2Nhbm5lci54dWxPYmpTY2FubmVyT3V0cHV0VGFiID0gbWFpbldpbmRvdy5nZXRCcm93c2VyKCkuYWRkVGFiKCIiKTsNCgkJCXZhciBzdHJGaWxlTmFtZSA9ICJmaWxlOi8vIiArIGFjdW5ldGl4d2Vic2Nhbm5lci5vYmpGaWxlSGFuZGxlci5nZXRQYXRoKCJBY3VuZXRpeFNjYW5uZXIiLCAiSG9tZSIpICsgYWN1bmV0aXh3ZWJzY2FubmVyLm9iakZpbGVIYW5kbGVyLnN0clBhdGhTZXBhcmF0b3IgKyAnU2NhblJlc3VsdC5odG1sJzsNCgkJCWFjdW5ldGl4d2Vic2Nhbm5lci54dWxPYmpTY2FubmVyT3V0cHV0VGFiLmxpbmtlZEJyb3dzZXIuY29udGVudFdpbmRvdy5vcGVuKHN0ckZpbGVOYW1lLCAiX3NlbGYiKTsNCgkJCWdCcm93c2VyLnNlbGVjdGVkVGFiID0gYWN1bmV0aXh3ZWJzY2FubmVyLnh1bE9ialNjYW5uZXJPdXRwdXRUYWI7DQoJCQkNCgkJCS8qIHRoaXMgbWV0aG9kIChkb2N1bWVudC5vcGVuKSBkb2VzIG5vdCB3b3JrIGluIGZpcmVmb3ggMywgVE9ETzogaW52ZXN0aWdhdGUgd2h5DQoJCQl2YXIgb2JqRmlsZUhhbmRsZXIgPSBuZXcgQ2xhc3NGaWxlSGFuZGxlcigpOw0KCQkJdmFyIG9iakNvbnRlbnQgPSBvYmpGaWxlSGFuZGxlci5sb2FkVGV4dEZpbGUoIkFjdW5ldGl4U2Nhbm5lclxcdGVtcC5odG1sIiwgIkhvbWUiKTsNCgkJCQ0KCQkJaWYob2JqQ29udGVudC5ib29sU3VjY2VzcykNCgkJCXsJCQ0KCQkJCWFjdW5ldGl4d2Vic2Nhbm5lci54dWxPYmpTY2FubmVyT3V0cHV0VGFiID0gbWFpbldpbmRvdy5nZXRCcm93c2VyKCkuYWRkVGFiKCIiKTsNCgkJCQlhY3VuZXRpeHdlYnNjYW5uZXIueHVsT2JqU2Nhbm5lck91dHB1dFRhYi5saW5rZWRCcm93c2VyLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQub3BlbigpOw0KCQkJCWFjdW5ldGl4d2Vic2Nhbm5lci54dWxPYmpTY2FubmVyT3V0cHV0VGFiLmxpbmtlZEJyb3dzZXIuY29udGVudFdpbmRvdy5kb2N1bWVudC53cml0ZShvYmpDb250ZW50LnN0ckNvbnRlbnQpOw0KCQkJCWFjdW5ldGl4d2Vic2Nhbm5lci54dWxPYmpTY2FubmVyT3V0cHV0VGFiLmxpbmtlZEJyb3dzZXIuY29udGVudFdpbmRvdy5kb2N1bWVudC5jbG9zZSgpOw0KCQkJCWdCcm93c2VyLnNlbGVjdGVkVGFiID0gYWN1bmV0aXh3ZWJzY2FubmVyLnh1bE9ialNjYW5uZXJPdXRwdXRUYWI7DQoJCQl9DQoJCQkqLw0KCQl9DQoJCQ0KCQkJCQ0KCX0NCgkNCgl0aGlzLm9uZU1vcmVSZXF1ZXN0SGFuZGxlZCA9IGZ1bmN0aW9uKCkNCgl7DQoJCXRoaXMuaW50VG90YWxSZXF1ZXN0SGFuZGxlZCArKzsNCgkJdGhpcy5SZW5kZXJTY2FubmVyU3RhdHVzKCk7DQoJfQ0KCQ0KCXRoaXMub25lTW9yZVZ1bG5lcmFiaWxpdHlGb3VuZCA9IGZ1bmN0aW9uKGludFRlc3RJbmRleCkNCgl7DQoJCWFjdW5ldGl4d2Vic2Nhbm5lci5hcnJheU9mVGVzdFByb2NlZHVyZXNbaW50VGVzdEluZGV4XS5pbnRWdWxuZXJhYmlsaXRpZXNDb3VudCArKzsNCgkJdGhpcy5pbnRWdWxuZXJhYmxlRm91bmROdW1iZXIrKzsNCgkJdGhpcy5SZW5kZXJTY2FubmVyU3RhdHVzKCk7DQoJfQ0KCQ0KCXRoaXMub25lTW9yZUVycm9yRm91bmQgPSBmdW5jdGlvbigpDQoJew0KCQl0aGlzLmludFRvdGFsUmVxdWVzdEhhbmRsaW5nRXJyb3IgKys7DQoJCXRoaXMuUmVuZGVyU2Nhbm5lclN0YXR1cygpOw0KCX0NCgkNCgl0aGlzLlJlbmRlclNjYW5uZXJTdGF0dXMgPSBmdW5jdGlvbigpDQoJew0KCQl2YXIgc3RyU3RhdHVzCQkJPSAiIjsNCgkJdmFyIG9ialByb2dyZXNzIAkJPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWN1bmV0aXhfc2Nhbm5pbmdfcHJvZ3Jlc3MnKTsNCgkJdmFyIG9ialN0YXR1c0VsZW1lbnQJPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWN1bmV0aXhfc2Nhbm5lclN0YXR1cyIpOw0KCQl2YXIgb2JqU3RhdHVzRWxlbWVudDIJPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWN1bmV0aXhfc2Nhbm5lclN0YXR1czIiKTsNCgkJDQoJCXZhciBvYmphY3VuZXRpeF90b29sdGlwX29uU2Nhbm5pbmdfMSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhY3VuZXRpeF90b29sdGlwX29uU2Nhbm5pbmdfMScpOw0KCQl2YXIgb2JqYWN1bmV0aXhfdG9vbHRpcF9vblNjYW5uaW5nXzIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWN1bmV0aXhfdG9vbHRpcF9vblNjYW5uaW5nXzInKTsNCgkJdmFyIG9iamFjdW5ldGl4X3Rvb2x0aXBfb25TY2FubmluZ18zID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FjdW5ldGl4X3Rvb2x0aXBfb25TY2FubmluZ18zJyk7DQoJCXZhciBvYmphY3VuZXRpeF90b29sdGlwX29uU2Nhbm5pbmdfNCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhY3VuZXRpeF90b29sdGlwX29uU2Nhbm5pbmdfNCcpOw0KCQl2YXIgb2JqYWN1bmV0aXhfdG9vbHRpcF9vblNjYW5uaW5nXzUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWN1bmV0aXhfdG9vbHRpcF9vblNjYW5uaW5nXzUnKTsNCgkJdmFyIG9iamFjdW5ldGl4X3Rvb2x0aXBfb25TY2FubmluZ182ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FjdW5ldGl4X3Rvb2x0aXBfb25TY2FubmluZ182Jyk7DQoJCQ0KCQlpZih0aGlzLmludFZ1bG5lcmFibGVGb3VuZE51bWJlciA+IDApDQoJCXsNCgkJCWlmKG9ialN0YXR1c0VsZW1lbnQyKQ0KCQkJew0KCQkJCW9ialN0YXR1c0VsZW1lbnQyLmNvbGxhcHNlZCA9IGZhbHNlOw0KCQkJCWlmKHRoaXMuaW50VnVsbmVyYWJsZUZvdW5kTnVtYmVyID09IDEpDQoJCQkJCW9ialN0YXR1c0VsZW1lbnQyLnZhbHVlID0gIiggIisgdGhpcy5pbnRWdWxuZXJhYmxlRm91bmROdW1iZXIgKyIgdnVsbmVyYWJpbGl0eSBmb3VuZC4pIjsNCgkJCQllbHNlDQoJCQkJCW9ialN0YXR1c0VsZW1lbnQyLnZhbHVlID0gIiggIisgdGhpcy5pbnRWdWxuZXJhYmxlRm91bmROdW1iZXIgKyIgdnVsbmVyYWJpbGl0aWVzIGZvdW5kLikiOw0KCQkJfQ0KCQkJDQoJCQ0KCQkJZm9yKHZhciBpID0gMDsgaSA8IGFjdW5ldGl4d2Vic2Nhbm5lci5hcnJheU9mVGVzdFByb2NlZHVyZXMubGVuZ3RoOyBpKyspDQoJCQl7DQoJCQkJaWYoYWN1bmV0aXh3ZWJzY2FubmVyLmFycmF5T2ZUZXN0UHJvY2VkdXJlc1tpXS5pbnRWdWxuZXJhYmlsaXRpZXNDb3VudCA+IDApDQoJCQkJew0KCQkJCQl2YXIgb2JqVnVsbkxhYmVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFjdW5ldGl4X3Rvb2x0aXBfb25WdWxuZXJhYmxlTGFiZWxfIiArIGkpOw0KCQkJCQl2YXIgb2JqVnVsblZhbHVlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFjdW5ldGl4X3Rvb2x0aXBfb25WdWxuZXJhYmxlVmFsdWVfIiArIGkpOw0KCQkJCQl2YXIgb2JqVnVsbkxhYmVsR3JvdXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWN1bmV0aXhfdG9vbHRpcF9vblZ1bG5lcmFibGVMYWJlbCIpOw0KCQkJCQl2YXIgb2JqVnVsblZhbHVlR3JvdXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWN1bmV0aXhfdG9vbHRpcF9vblZ1bG5lcmFibGVWYWx1ZSIpOw0KCQkJCQlpZihvYmpWdWxuTGFiZWwgPT0gbnVsbCkNCgkJCQkJew0KCQkJCQkJb2JqVnVsbkxhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudE5TKCJodHRwOi8vd3d3Lm1vemlsbGEub3JnL2tleW1hc3Rlci9nYXRla2VlcGVyL3RoZXJlLmlzLm9ubHkueHVsIiwgImxhYmVsIik7DQoJCQkJCQlpZihvYmpWdWxuTGFiZWwpDQoJCQkJCQl7DQoJCQkJCQkJb2JqVnVsbkxhYmVsLnNldEF0dHJpYnV0ZSgiaWQiLCAiYWN1bmV0aXhfdG9vbHRpcF9vblZ1bG5lcmFibGVMYWJlbF8iICsgaSk7DQoJCQkJCQkJb2JqVnVsbkxhYmVsLnNldEF0dHJpYnV0ZSgidmFsdWUiLCBhY3VuZXRpeHdlYnNjYW5uZXIuYXJyYXlPZlRlc3RQcm9jZWR1cmVzW2ldLnN0clR5cGUpOw0KCQkJCQkJCWlmKG9ialZ1bG5MYWJlbEdyb3VwKQ0KCQkJCQkJCQlvYmpWdWxuTGFiZWxHcm91cC5hcHBlbmRDaGlsZChvYmpWdWxuTGFiZWwpOw0KCQkJCQkJfQ0KCQkJCQl9DQoJCQkJCWlmKG9ialZ1bG5WYWx1ZSA9PSBudWxsKQ0KCQkJCQl7DQoJCQkJCQlvYmpWdWxuVmFsdWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50TlMoImh0dHA6Ly93d3cubW96aWxsYS5vcmcva2V5bWFzdGVyL2dhdGVrZWVwZXIvdGhlcmUuaXMub25seS54dWwiLCAibGFiZWwiKTsNCgkJCQkJCWlmKG9ialZ1bG5WYWx1ZSkNCgkJCQkJCXsNCgkJCQkJCQlvYmpWdWxuVmFsdWUuc2V0QXR0cmlidXRlKCJpZCIsICJhY3VuZXRpeF90b29sdGlwX29uVnVsbmVyYWJsZVZhbHVlXyIgKyBpKTsNCgkJCQkJCQlpZihvYmpWdWxuVmFsdWVHcm91cCkNCgkJCQkJCQkJb2JqVnVsblZhbHVlR3JvdXAuYXBwZW5kQ2hpbGQob2JqVnVsblZhbHVlKTsNCgkJCQkJCX0NCgkJCQkJfQ0KCQkJCQlpZihvYmpWdWxuVmFsdWUpDQoJCQkJCQlvYmpWdWxuVmFsdWUudmFsdWUgPSBhY3VuZXRpeHdlYnNjYW5uZXIuYXJyYXlPZlRlc3RQcm9jZWR1cmVzW2ldLmludFZ1bG5lcmFiaWxpdGllc0NvdW50ICsgIiI7DQoJCQkJfQ0KCQkJfQ0KCQl9DQoJCWVsc2UNCgkJew0KCQkJaWYob2JqU3RhdHVzRWxlbWVudDIpIG9ialN0YXR1c0VsZW1lbnQyLmNvbGxhcHNlZCA9IHRydWU7DQoJCX0NCgkJDQoJCQkJDQoJCWlmKHRoaXMuYm9vbFNjYW5uZXJBY3RpdmUpDQoJCXsNCgkJCWlmKHRoaXMuYm9vbEFib3J0U2NhbikNCgkJCQlzdHJTdGF0dXMgPSBzdHJTdGF0dXMgKyAiU2Nhbm5lciBzdGF0dXM6IEFib3J0IHBlbmRpbmcgIjsNCgkJCWVsc2UNCgkJCQlzdHJTdGF0dXMgPSBzdHJTdGF0dXMgKyAiU2Nhbm5lciBzdGF0dXM6IFRlc3RpbmcgIjsNCgkJCQ0KCQkJaWYob2JqUHJvZ3Jlc3MgIT0gbnVsbCkgb2JqUHJvZ3Jlc3MuY29sbGFwc2VkID0gZmFsc2U7DQoJCQkNCgkJCWlmKG9iamFjdW5ldGl4X3Rvb2x0aXBfb25TY2FubmluZ18yKQ0KCQkJew0KCQkJCW9iamFjdW5ldGl4X3Rvb2x0aXBfb25TY2FubmluZ18yLmNvbGxhcHNlZCA9IGZhbHNlOw0KCQkJCW9iamFjdW5ldGl4X3Rvb2x0aXBfb25TY2FubmluZ18yLnZhbHVlID0gIlByb2dyZXNzOiAiICsgTWF0aC5yb3VuZCgxMDAgKiB0aGlzLmludFRlc3RJbmRleCAvIHRoaXMuaW50TWF4VGVzdE51bWJlcikgKyAiJSI7DQoJCQl9DQoJCQlpZihvYmphY3VuZXRpeF90b29sdGlwX29uU2Nhbm5pbmdfMykNCgkJCXsNCgkJCQlvYmphY3VuZXRpeF90b29sdGlwX29uU2Nhbm5pbmdfMy5jb2xsYXBzZWQgPSBmYWxzZTsNCgkJCQkvL29iamFjdW5ldGl4X3Rvb2x0aXBfb25TY2FubmluZ18zLnZhbHVlID0gIlBoYXNlOiAiICsgdGhpcy5pbnRDdXJyZW50VGVzdGluZ1BoYXNlICsgIi8iICsgdGhpcy5pbnRNYXhUZXN0aW5nUGhhc2VzICsgIiAtIFRhc2s6ICIgKyB0aGlzLmludFN1YnJlcXVlc3RJbmRleCArICIvIiArIHRoaXMuaW50U3VicmVxdWVzdE1heE51bWJlcjsNCgkJCQl2YXIgc3RyVG1wID0gIiI7DQoJCQkJc3RyVG1wID0gc3RyVG1wICsgIlRhc2s6ICIgKyB0aGlzLmludFRlc3RJbmRleCArICIvIiArIHRoaXMuaW50TWF4VGVzdE51bWJlcjsNCgkJCQlzdHJUbXAgPSBzdHJUbXAgKyAiIChHcm91cDogIiArIHRoaXMuaW50R3JvdXBJbmRleCArICIvIiArIHRoaXMuaW50TWF4R3JvdXBOdW1iZXI7DQoJCQkJc3RyVG1wID0gc3RyVG1wICsgIiwgVGVzdDogIiArIHRoaXMuaW50VGVzdFByb2NlZHVyZUluZGV4ICsgIi8iICsgdGhpcy5pbnRNYXhUZXN0UHJvY2VkdXJlTnVtYmVyICsgIikiOw0KCQkJCW9iamFjdW5ldGl4X3Rvb2x0aXBfb25TY2FubmluZ18zLnZhbHVlID0gc3RyVG1wOw0KCQkJfQ0KCQkJaWYob2JqYWN1bmV0aXhfdG9vbHRpcF9vblNjYW5uaW5nXzQpDQoJCQl7DQoJCQkJb2JqYWN1bmV0aXhfdG9vbHRpcF9vblNjYW5uaW5nXzQuY29sbGFwc2VkID0gZmFsc2U7DQoJCQkJb2JqYWN1bmV0aXhfdG9vbHRpcF9vblNjYW5uaW5nXzQudmFsdWUgPSAiSFRUUCBSZXF1ZXN0czogIiArIHRoaXMuaW50VG90YWxSZXF1ZXN0SGFuZGxlZDsNCgkJCX0NCgkJCWlmKG9iamFjdW5ldGl4X3Rvb2x0aXBfb25TY2FubmluZ181KQ0KCQkJew0KCQkJCW9iamFjdW5ldGl4X3Rvb2x0aXBfb25TY2FubmluZ181LmNvbGxhcHNlZCA9IGZhbHNlOw0KCQkJCW9iamFjdW5ldGl4X3Rvb2x0aXBfb25TY2FubmluZ181LnZhbHVlID0gIlZ1bG5lcmFiaWxpdGllczogIiArIHRoaXMuaW50VnVsbmVyYWJsZUZvdW5kTnVtYmVyOw0KCQkJfQ0KCQkJaWYob2JqYWN1bmV0aXhfdG9vbHRpcF9vblNjYW5uaW5nXzYpDQoJCQl7DQoJCQkJb2JqYWN1bmV0aXhfdG9vbHRpcF9vblNjYW5uaW5nXzYuY29sbGFwc2VkID0gZmFsc2U7DQoJCQkJb2JqYWN1bmV0aXhfdG9vbHRpcF9vblNjYW5uaW5nXzYudmFsdWUgPSAiRXJyb3JzOiAiICsgdGhpcy5pbnRUb3RhbFJlcXVlc3RIYW5kbGluZ0Vycm9yOw0KCQkJfQ0KCQkJDQoJCQlpZihvYmpQcm9ncmVzcyAhPSBudWxsKQ0KCQkJew0KCQkJCW9ialByb2dyZXNzLmNvbGxhcHNlZCA9IGZhbHNlOw0KCQkJCS8vb2JqUHJvZ3Jlc3MudmFsdWUgCT0gTWF0aC5yb3VuZCgxMDAgKiBjdXJlbnRQcm9ncmVzcyAvIG1heFByb2dyZXNzKSArICIiOw0KCQkJCW9ialByb2dyZXNzLnZhbHVlID0gTWF0aC5yb3VuZCgxMDAgKiB0aGlzLmludFRlc3RJbmRleCAvIHRoaXMuaW50TWF4VGVzdE51bWJlcikgKyAiIjsNCgkJCX0NCgkJfQ0KCQllbHNlDQoJCXsNCgkJCWlmKHRoaXMuYm9vbEFib3J0U2NhbikNCgkJCQlzdHJTdGF0dXMgPSBzdHJTdGF0dXMgKyAiU2Nhbm5lciBzdGF0dXM6IEFib3J0ZWQuICI7DQoJCQllbHNlDQoJCQkJc3RyU3RhdHVzID0gc3RyU3RhdHVzICsgIlNjYW5uZXIgc3RhdHVzOiBGaW5pc2hlZC4gIjsNCgkJCQkNCgkJCWlmKG9ialByb2dyZXNzICE9IG51bGwpIG9ialByb2dyZXNzLmNvbGxhcHNlZCA9IHRydWU7DQoJCQkNCgkJCWlmKG9iamFjdW5ldGl4X3Rvb2x0aXBfb25TY2FubmluZ18yKSBvYmphY3VuZXRpeF90b29sdGlwX29uU2Nhbm5pbmdfMi5jb2xsYXBzZWQgPSB0cnVlOw0KCQkJaWYob2JqYWN1bmV0aXhfdG9vbHRpcF9vblNjYW5uaW5nXzMpIG9iamFjdW5ldGl4X3Rvb2x0aXBfb25TY2FubmluZ18zLmNvbGxhcHNlZCA9IHRydWU7DQoJCQlpZihvYmphY3VuZXRpeF90b29sdGlwX29uU2Nhbm5pbmdfNCkgb2JqYWN1bmV0aXhfdG9vbHRpcF9vblNjYW5uaW5nXzQuY29sbGFwc2VkID0gdHJ1ZTsNCgkJCWlmKG9iamFjdW5ldGl4X3Rvb2x0aXBfb25TY2FubmluZ181KSBvYmphY3VuZXRpeF90b29sdGlwX29uU2Nhbm5pbmdfNS5jb2xsYXBzZWQgPSB0cnVlOw0KCQkJaWYob2JqYWN1bmV0aXhfdG9vbHRpcF9vblNjYW5uaW5nXzYpIG9iamFjdW5ldGl4X3Rvb2x0aXBfb25TY2FubmluZ182LmNvbGxhcHNlZCA9IHRydWU7DQoJCX0NCgkJDQoJCWlmKG9iamFjdW5ldGl4X3Rvb2x0aXBfb25TY2FubmluZ18xKQ0KCQkJb2JqYWN1bmV0aXhfdG9vbHRpcF9vblNjYW5uaW5nXzEudmFsdWUgPSBzdHJTdGF0dXM7DQoJCQkNCgkgICAgaWYob2JqU3RhdHVzRWxlbWVudCAhPSBudWxsKQlvYmpTdGF0dXNFbGVtZW50LnZhbHVlID0gc3RyU3RhdHVzOw0KCX0NCgkNCgl0aGlzLmFib3J0U2NhbiA9IGZ1bmN0aW9uKCkNCgl7DQoJCWlmKCAhIGNvbmZpcm0gKGFjdW5ldGl4d2Vic2Nhbm5lci5zdHJpbmdzLmdldFN0cmluZygiY29uZmlybS5BYm9ydFNjYW5uaW5nIikpICkNCgkJCXJldHVybjsNCgkJbG9nVG9GaWxlKCJjbGFzc1NjYW5uaW5nUHJvY2Vzc1N0YXR1cy9hYm9ydFNjYW4iKTsNCgkJdGhpcy5ib29sQWJvcnRTY2FuID0gdHJ1ZTsNCgkJdGhpcy5SZW5kZXJTY2FubmVyU3RhdHVzKCk7DQoJCQ0KCQlmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5hcnJheU9iakFzaW5jcm9uVGVzdGVyLmxlbmd0aDsgaSsrKSAvLyBzZXQgdGhlIGFib3J0IGZsYWcgZm9yIGVhY2ggdGVzdGVyDQoJCQl0aGlzLmFycmF5T2JqQXNpbmNyb25UZXN0ZXJbaV0uYm9vbFRlc3Rlck1hcmtlZFRvRGllID0gdHJ1ZTsNCgkJCQ0KCQlzZXRUaW1lb3V0KCdhY3VuZXRpeHdlYnNjYW5uZXIub2JqU2Nhbm5pbmdQcm9jZXNzU3RhdHVzLnN0b3BTY2FubmluZ1Byb2Nlc3MoKScsMTAwMCk7DQoJfQ0KCQ0KCXRoaXMuYnVpbGRSZXF1ZXN0VGVzdE91dHB1dCA9IGZ1bmN0aW9uKG9ialJlcXVlc3QsYXJyYXlUZXN0UmVzdWx0cykNCgl7DQoJCQ0KCQkvL3NhdmUgdGhlIGFjdW5ldGl4IHNjYW5uZXIgY29ubmVjdG9yIGZpbGUNCgkJdmFyIG9iakVuY29kZXIgPSBuZXcgZW5jb2RlckNsYXNzKCk7DQoJCWZvcih2YXIgaSA9IDA7IGkgPCBhcnJheVRlc3RSZXN1bHRzLmxlbmd0aDsgaSsrKQ0KCQl7DQoJCQl2YXIgc3RyVnVsbmVyYWJpbGl0eSA9ICJcdFx0PFZ1bG5lcmFiaWxpdHk+XHJcbiINCgkJCQkJCQ0KCQkJc3RyVnVsbmVyYWJpbGl0eSA9IHN0clZ1bG5lcmFiaWxpdHkgKyAiXHRcdFx0PHVybD4iICsgb2JqRW5jb2Rlci5lbmNvZGU2NChvYmpSZXF1ZXN0Lm9iakFjdGlvbi5nZXRVUkwoKSkgKyAiPC91cmw+XHJcbiI7DQoJCQlzdHJWdWxuZXJhYmlsaXR5ID0gc3RyVnVsbmVyYWJpbGl0eSArICJcdFx0XHQ8bmFtZT4iICsgb2JqRW5jb2Rlci5lbmNvZGU2NChhcnJheVRlc3RSZXN1bHRzW2ldLnZ1bF9uYW1lKSArICI8L25hbWU+XHJcbiI7DQoJCQkNCgkJCXN0clZ1bG5lcmFiaWxpdHkgPSBzdHJWdWxuZXJhYmlsaXR5ICsgIlx0XHRcdDxwYXJhbU5hbWU+IiArIG9iakVuY29kZXIuZW5jb2RlNjQob2JqUmVxdWVzdC5hcnJheVBhcmFtZXRlcnNbYXJyYXlUZXN0UmVzdWx0c1tpXS5pbnRJdGVtSW5kZXhdLnN0ck5hbWUpICsgIjwvcGFyYW1OYW1lPlxyXG4iOw0KCQkJc3RyVnVsbmVyYWJpbGl0eSA9IHN0clZ1bG5lcmFiaWxpdHkgKyAiXHRcdFx0PHBhcmFtVmFsdWU+IiArIG9iakVuY29kZXIuZW5jb2RlNjQoYXJyYXlUZXN0UmVzdWx0c1tpXS5zdHJJbmplY3RlZFZhbHVlKSArICI8L3BhcmFtVmFsdWU+XHJcbiI7DQoJCQlzdHJWdWxuZXJhYmlsaXR5ID0gc3RyVnVsbmVyYWJpbGl0eSArICJcdFx0XHQ8cGFyYW1UeXBlPiIgKyBvYmpFbmNvZGVyLmVuY29kZTY0KG9ialJlcXVlc3QuYXJyYXlQYXJhbWV0ZXJzW2FycmF5VGVzdFJlc3VsdHNbaV0uaW50SXRlbUluZGV4XS5zdHJSZXF1ZXN0VHlwZSkgKyAiPC9wYXJhbVR5cGU+XHJcbiI7CQkJDQoJCQkNCgkJCXN0clZ1bG5lcmFiaWxpdHkgPSBzdHJWdWxuZXJhYmlsaXR5ICsgIlx0XHRcdDxyZXF1ZXN0PiIgKyBvYmpFbmNvZGVyLmVuY29kZTY0KGFycmF5VGVzdFJlc3VsdHNbaV0uc3RyUmVxdWVzdEhlYWRlcikgKyAiPC9yZXF1ZXN0PlxyXG4iOw0KCQkJc3RyVnVsbmVyYWJpbGl0eSA9IHN0clZ1bG5lcmFiaWxpdHkgKyAiXHRcdFx0PHJlc3BvbnNlPiIgKyBvYmpFbmNvZGVyLmVuY29kZTY0KGFycmF5VGVzdFJlc3VsdHNbaV0uc3RyUmVzcG9uc2VIZWFkZXIpICsgIjwvcmVzcG9uc2U+XHJcbiI7DQoJCQkNCgkJCXN0clZ1bG5lcmFiaWxpdHkgPSBzdHJWdWxuZXJhYmlsaXR5ICsgIlx0XHRcdDxmdWxscmVzcG9uc2U+IiArIG9iakVuY29kZXIuZW5jb2RlNjQoYXJyYXlUZXN0UmVzdWx0c1tpXS5zdHJSZXNwb25zZUhlYWRlciArICJcclxuXHJcbiIgKyBhcnJheVRlc3RSZXN1bHRzW2ldLnN0clJlcG9uc2VIVE1MKSArICI8L2Z1bGxyZXNwb25zZT5cclxuIjsNCgkJCXN0clZ1bG5lcmFiaWxpdHkgPSBzdHJWdWxuZXJhYmlsaXR5ICsgIlx0XHRcdDx2dWxuaWQ+IiArIG9iakVuY29kZXIuZW5jb2RlNjQoYXJyYXlUZXN0UmVzdWx0c1tpXS53dnNDb3JlbGF0aW9uSUQpICsgIjwvdnVsbmlkPlxyXG4iOw0KCQkJDQoJCQlzdHJWdWxuZXJhYmlsaXR5ID0gc3RyVnVsbmVyYWJpbGl0eSArICJcdFx0PC9WdWxuZXJhYmlsaXR5PlxyXG4iOw0KCQkNCgkJCWFjdW5ldGl4d2Vic2Nhbm5lci5vYmpGaWxlSGFuZGxlci5zYXZlVGV4dEZpbGUoIkFjdW5ldGl4U2Nhbm5lclxcd3ZzLnhtbCIsc3RyVnVsbmVyYWJpbGl0eSwgdHJ1ZSwgIkhvbWUiKTsNCgkJCQ0KCQkJc3RyVnVsbmVyYWJpbGl0eSA9ICIiOw0KCQl9DQoJCQ0KCQkNCgkJdmFyIHN0clJlcXVlc3RNb2RlbAk9IGFjdW5ldGl4d2Vic2Nhbm5lci5vYmpGaWxlSGFuZGxlci5sb2FkVGV4dEZyb21Mb2NhbFVSSSgiY2hyb21lOi8vYWN1bmV0aXh3ZWJzY2FubmVyL2NvbnRlbnQvcmVxdWVzdC5zdHlsZSIpLnN0ckNvbnRlbnQ7DQoJCXZhciBzdHJQYXJhbU1vZGVsCT0gYWN1bmV0aXh3ZWJzY2FubmVyLm9iakZpbGVIYW5kbGVyLmxvYWRUZXh0RnJvbUxvY2FsVVJJKCJjaHJvbWU6Ly9hY3VuZXRpeHdlYnNjYW5uZXIvY29udGVudC9wYXJhbWV0ZXIuc3R5bGUiKS5zdHJDb250ZW50Ow0KCQkNCgkJdmFyIHNvdXJjZSA9IG9ialJlcXVlc3Quc3RyUmVxdWVzdE9yaWdpbjsNCgkJaWYob2JqUmVxdWVzdC5zdHJOYW1lICE9ICIiICkNCgkJCXNvdXJjZSA9IHNvdXJjZSArICIgKCIgKyBvYmpSZXF1ZXN0LnN0ck5hbWUgKyAiKSINCgkJDQoJCXN0clJlcXVlc3RNb2RlbCA9IHN0clJlcXVlc3RNb2RlbC5zdXBwbGFudA0KCQkJKHsNCgkJCQlyZXF1ZXN0X3VybCAgICAgOiBvYmpSZXF1ZXN0Lm9iakFjdGlvbi5nZXRVUkwoKSwNCgkJCQlyZXF1ZXN0X3NvdXJjZSAgOiBzb3VyY2UsDQoJCQkJcmVxdWVzdF9tZXRob2QgIDogb2JqUmVxdWVzdC5zdHJSZXF1ZXN0TWV0aG9kDQoJCQl9KTsNCgkJDQoJCWlmKGFycmF5VGVzdFJlc3VsdHMubGVuZ3RoID09IDApDQoJCXsNCgkJCXN0clJlcXVlc3RNb2RlbCA9IHN0clJlcXVlc3RNb2RlbC5zdXBwbGFudA0KCQkJCSh7DQoJCQkJCXNob3dfcGFyYW1zX3RhYmxlX2hlYWRlciAgICA6ICJkaXNwbGF5Om5vbmUiLA0KCQkJCQlzaG93X25vX3Z1bG5fbWVzc2FnZSAgICAgICAgOiAiIiwNCgkJCQkJcGFyYW1ldGVyX2xpc3QgICAgICAgICAgICAgIDogIiINCgkJCQl9KTsNCgkJfQ0KCQllbHNlDQoJCXsNCgkJCXZhciBzdHJQYXJhbSA9IG5ldyBTdHJpbmcoKTsNCgkJCWZvcih2YXIgaSA9IDA7IGkgPCBhcnJheVRlc3RSZXN1bHRzLmxlbmd0aDsgaSsrKQ0KCQkJew0KCQkJICANCgkJCQlzdHJQYXJhbSA9IHN0clBhcmFtICsgc3RyUGFyYW1Nb2RlbC5zdXBwbGFudA0KCQkJCQkoew0KCQkJCQkJcGFyYW1fbmFtZSAgICAgICAgICA6IG9ialJlcXVlc3QuYXJyYXlQYXJhbWV0ZXJzW2FycmF5VGVzdFJlc3VsdHNbaV0uaW50SXRlbUluZGV4XS5zdHJOYW1lLA0KCQkJCQkJcGFyYW1fbWV0aG9kICAgICAgICA6IG9ialJlcXVlc3QuYXJyYXlQYXJhbWV0ZXJzW2FycmF5VGVzdFJlc3VsdHNbaV0uaW50SXRlbUluZGV4XS5zdHJSZXF1ZXN0VHlwZSwNCgkJCQkJCXZ1bF9uYW1lICAgICAgICAgICAgOiBhcnJheVRlc3RSZXN1bHRzW2ldLnZ1bF9uYW1lLA0KCQkJCQkJdnVsX3Rlc3RfbmFtZSAgICAgICA6IGFycmF5VGVzdFJlc3VsdHNbaV0udnVsX3Rlc3RfbmFtZSwNCgkJCQkJCXZ1bG5fc2V2ZXJpdHkgICAgICAgOiBhcnJheVRlc3RSZXN1bHRzW2ldLnZ1bG5fc2V2ZXJpdHksDQoJCQkJCQl2dWxuX2Rlc2NyaXB0aW9uICAgIDogYXJyYXlUZXN0UmVzdWx0c1tpXS52dWxuX2Rlc2NyaXB0aW9uLA0KCQkJCQkJcmVxdWVzdF9oZWFkZXIgICAgICA6IGVzY2FwZUhUTUwoYXJyYXlUZXN0UmVzdWx0c1tpXS5zdHJSZXF1ZXN0SGVhZGVyKSwNCgkJCQkJCXJlc3BvbnNlX2hlYWRlciAgICAgOiBlc2NhcGVIVE1MKGFycmF5VGVzdFJlc3VsdHNbaV0uc3RyUmVzcG9uc2VIZWFkZXIpLA0KCQkJCQkJcGFyYW1faW5kZXggICAgICAgICA6IGFycmF5VGVzdFJlc3VsdHNbaV0uaW50SXRlbUluZGV4LA0KCQkJCQkJc2hvd19yZXNwb25zZV9odG1sICA6IChhcnJheVRlc3RSZXN1bHRzW2ldLnN0clJlcG9uc2VUZXh0ID09ICIiKSA/ICJkaXNwbGF5Om5vbmUiIDogIiIsDQoJCQkJCQlyZXNwb25zZV9odG1sICAgICAgIDogZXNjYXBlSFRNTChhcnJheVRlc3RSZXN1bHRzW2ldLnN0clJlcG9uc2VIVE1MKSwNCgkJCQkJCXJlcXVlc3RfaW5kZXggICAgICAgOiB0aGlzLmludEdyb3VwSW5kZXgNCgkJCQkJfSk7DQoJCQkJdGhpcy5pbnRHcm91cEluZGV4ICsrOw0KCQkJfQ0KCQkJDQoJCQlzdHJSZXF1ZXN0TW9kZWwgPSBzdHJSZXF1ZXN0TW9kZWwuc3VwcGxhbnQNCgkJCQkoew0KCQkJCQlzaG93X3BhcmFtc190YWJsZV9oZWFkZXIgICAgOiAiIiwNCgkJCQkJc2hvd19ub192dWxuX21lc3NhZ2UgICAgICAgIDogImRpc3BsYXk6bm9uZSIsDQoJCQkJCXBhcmFtZXRlcl9saXN0ICAgICAgICAgICAgICA6IHN0clBhcmFtDQoJCQkJfSk7DQoJCX0NCgkJICAgDQoJCXRoaXMuc3RyVGVzdFJlc3VsdEhUTUxPdXRwdXQgPSB0aGlzLnN0clRlc3RSZXN1bHRIVE1MT3V0cHV0ICsgc3RyUmVxdWVzdE1vZGVsOw0KCX0NCn0NCg0KZnVuY3Rpb24gY2xhc3NBc2luY3JvblRlc3RlcihvYmpSZXF1ZXN0KQ0Kew0KCXRoaXMub2JqTmV4dEFzaW5jcm9uVGVzdGVyCT0gbnVsbDsNCgl0aGlzLm9ialJlcXVlc3QJCQkJPSBvYmpSZXF1ZXN0DQoJdGhpcy5pbnRUZXN0SW5kZXgJCQk9IDA7DQoJdGhpcy5pbnRDb21iaW5hdGlvbkluZGV4IAk9IDA7DQoJDQoJdGhpcy5ib29sVGVzdGVyTWFya2VkVG9EaWUJPSBmYWxzZTsNCgl0aGlzLmFycmF5VGVzdFJlc3VsdHMgCQk9IG5ldyBBcnJheSgpOw0KCQ0KCQ0KCXRoaXMub2JqVGFza1Jlc3VsdAkJCT0NCgkJew0KCQkJYm9vbElzVnVsZW5yYWJsZQk6IGZhbHNlLA0KCQkJLy8gdGhlIGxhc3QgaHR0cCByZXF1ZXN0IGRlc2NyaXB0b3INCgkJCWludFJlcG9uc2VTdGF0dXMJOiAwLA0KCQkJc3RyUmVzcG9uc2VUZXh0CQk6ICIiLA0KCQkJc3RyUmVzcG9uc2VIZWFkZXIJOiAiIiwNCgkJCXN0clJlcXVlc3RIZWFkZXIJOiAiIiwNCgkJCXN0clJlcXVlc3RVUkwJCTogIiIsDQoJCQkvLw0KCQkJc3RySW5qZWN0ZWRWYWx1ZQk6ICIiLA0KCQkJLy8gdGhlIGxhc3QgeG1saHRwcmVxdWVzdCBzdGF0dXMNCgkJCXN0ckVycm9yVGV4dAkJOiAiIiwNCgkJCWludEVycm9yQ29kZQkJOiAtMQ0KCQl9Ow0KDQoJdGhpcy5mbmNUYXNrQ2FsbEJhY2sgPQ0KCXsNCgkJbm90aWZ5OiBmdW5jdGlvbih0aW1lcikNCgkJew0KCQkJaWYodGhpcy5wYXJlbnQuYm9vbFRlc3Rlck1hcmtlZFRvRGllKSAvLyBpZiB0ZXN0ZXIgYWJvcnRlZCBhbmQgc29tZWhvdyBub3QgZGllZCB5ZXQga2lsbCBpdCBoZXJlDQoJCQkJcmV0dXJuOw0KDQoJCQlpZih0aGlzLnBhcmVudC5vYmpUYXNrUmVzdWx0LmJvb2xJc1Z1bGVucmFibGUpDQoJCQl7DQoJCQkJYWN1bmV0aXh3ZWJzY2FubmVyLm9ialNjYW5uaW5nUHJvY2Vzc1N0YXR1cy5vbmVNb3JlVnVsbmVyYWJpbGl0eUZvdW5kKHRoaXMucGFyZW50LmludFRlc3RJbmRleCk7DQoJCQkJDQoJCQkJLy9sb2cgdGhlIHN1Y2Nlc3MgZGF0YQ0KCQkJCXRoaXMucGFyZW50LmFycmF5VGVzdFJlc3VsdHMucHVzaA0KCQkJCSh7DQoJCQkJCXZ1bF9uYW1lCQkJOiBhY3VuZXRpeHdlYnNjYW5uZXIuYXJyYXlPZlRlc3RQcm9jZWR1cmVzW3RoaXMucGFyZW50LmludFRlc3RJbmRleF0uc3RyVHlwZSwNCgkJCQkJdnVsbl9zZXZlcml0eQkJOiBhY3VuZXRpeHdlYnNjYW5uZXIuYXJyYXlPZlRlc3RQcm9jZWR1cmVzW3RoaXMucGFyZW50LmludFRlc3RJbmRleF0uc2V2ZXJpdHksDQoJCQkJCXZ1bG5fZGVzY3JpcHRpb24JOiBhY3VuZXRpeHdlYnNjYW5uZXIuYXJyYXlPZlRlc3RQcm9jZWR1cmVzW3RoaXMucGFyZW50LmludFRlc3RJbmRleF0uc3RyRGVzY3JpcHRpb24sDQoJCQkJCXZ1bF90ZXN0X25hbWUJCTogYWN1bmV0aXh3ZWJzY2FubmVyLmFycmF5T2ZUZXN0UHJvY2VkdXJlc1t0aGlzLnBhcmVudC5pbnRUZXN0SW5kZXhdLnN0clRlc3ROYW1lLA0KCQkJCQl3dnNDb3JlbGF0aW9uSUQJCTogYWN1bmV0aXh3ZWJzY2FubmVyLmFycmF5T2ZUZXN0UHJvY2VkdXJlc1t0aGlzLnBhcmVudC5pbnRUZXN0SW5kZXhdLnd2c0NvcmVsYXRpb25JRCwNCgkJCQkJDQoJCQkJCWludEl0ZW1JbmRleAkJOiB0aGlzLnBhcmVudC5vYmpSZXF1ZXN0LmFycmF5T2ZHZW5lcmF0ZWRUZXN0Q29tYmluYXRpb25zW3RoaXMucGFyZW50LmludENvbWJpbmF0aW9uSW5kZXhdLmludFRlc3RlZFBhcmFtZXRlckluZGV4LA0KCQkJCQlpbnRUZXN0SW5kZXgJCTogdGhpcy5wYXJlbnQuaW50VGVzdEluZGV4LA0KCQkJCQkNCgkJCQkJc3RySW5qZWN0ZWRWYWx1ZQk6IHRoaXMucGFyZW50Lm9ialRhc2tSZXN1bHQuc3RySW5qZWN0ZWRWYWx1ZSwNCgkJCQkJc3RyUmVxdWVzdEhlYWRlcgk6IHRoaXMucGFyZW50Lm9ialRhc2tSZXN1bHQuc3RyUmVxdWVzdEhlYWRlciwNCgkJCQkJc3RyUmVzcG9uc2VIZWFkZXIJOiB0aGlzLnBhcmVudC5vYmpUYXNrUmVzdWx0LnN0clJlc3BvbnNlSGVhZGVyLA0KCQkJCQlzdHJSZXBvbnNlSFRNTAkJOiB0aGlzLnBhcmVudC5vYmpUYXNrUmVzdWx0LnN0clJlc3BvbnNlVGV4dAkJCQkNCgkJCQkJDQoJCQkJfSk7DQoJCQkJDQoJCQkJLy9vcHRpbWl6YXRpb24sIHdlIHJlZHVjZSBhbGwgY29tYmluYXRpb25zIHdoZXJlIGN1cnJlbnQgdGVzdGVkIHBhcmFtZXRlciBpcyB0ZXN0ZWQNCgkJCQlpZihhY3VuZXRpeHdlYnNjYW5uZXIub2JqTW96UHJlZnMuZ2V0Qm9vbFByZWYoImJvb2xFbmFibGVUZXN0Q29tYmluYXRpb25SZWR1Y3Rpb25PcHRpbWlzYXRpb24iKSkNCgkJCQl7DQoJCQkJCXZhciBpbnRQcmV2aW91c0NvbWJpbmF0aW9uTnVtYmVyID0gdGhpcy5wYXJlbnQub2JqUmVxdWVzdC5hcnJheU9mR2VuZXJhdGVkVGVzdENvbWJpbmF0aW9ucy5sZW5ndGg7DQoJCQkJCXZhciBpbnRDdXJyZW50Q29tYmluYXRpb25OdW1iZXIgPSB0aGlzLnBhcmVudC5vYmpSZXF1ZXN0LnJlZHVjZUFycmF5VGVzdExpc3QodGhpcy5wYXJlbnQuaW50Q29tYmluYXRpb25JbmRleCArIDEsIHRoaXMucGFyZW50Lm9ialJlcXVlc3QuYXJyYXlPZkdlbmVyYXRlZFRlc3RDb21iaW5hdGlvbnNbdGhpcy5wYXJlbnQuaW50Q29tYmluYXRpb25JbmRleF0uaW50VGVzdGVkUGFyYW1ldGVySW5kZXgpOw0KCQkJCQkNCgkJCQkJaWYoaW50UHJldmlvdXNDb21iaW5hdGlvbk51bWJlciA+IGludEN1cnJlbnRDb21iaW5hdGlvbk51bWJlcikNCgkJCQkJew0KCQkJCQkJYWN1bmV0aXh3ZWJzY2FubmVyLm9ialNjYW5uaW5nUHJvY2Vzc1N0YXR1cy5pbnRNYXhUZXN0TnVtYmVyID0gYWN1bmV0aXh3ZWJzY2FubmVyLm9ialNjYW5uaW5nUHJvY2Vzc1N0YXR1cy5pbnRNYXhUZXN0TnVtYmVyIC0gKGludFByZXZpb3VzQ29tYmluYXRpb25OdW1iZXIgLSBpbnRDdXJyZW50Q29tYmluYXRpb25OdW1iZXIpOw0KCQkJCQl9DQoJCQkJfQ0KCQkJfQ0KCQkJLy9nbyB0byB0aGUgbmV4dCBjb21iaW5hdGlvbg0KCQkJYWN1bmV0aXh3ZWJzY2FubmVyLm9ialNjYW5uaW5nUHJvY2Vzc1N0YXR1cy5pbnRUZXN0SW5kZXggKys7DQoJCQl0aGlzLnBhcmVudC5pbnRDb21iaW5hdGlvbkluZGV4ICsrOw0KCQkJDQoJCQlhY3VuZXRpeHdlYnNjYW5uZXIub2JqU2Nhbm5pbmdQcm9jZXNzU3RhdHVzLlJlbmRlclNjYW5uZXJTdGF0dXMoKTsNCgkJCQ0KCQkJaWYodGhpcy5wYXJlbnQuaW50Q29tYmluYXRpb25JbmRleCA8IHRoaXMucGFyZW50Lm9ialJlcXVlc3QuYXJyYXlPZkdlbmVyYXRlZFRlc3RDb21iaW5hdGlvbnMubGVuZ3RoKQ0KCQkJew0KCQkJCWFjdW5ldGl4d2Vic2Nhbm5lci5hcnJheU9mVGVzdFByb2NlZHVyZXNbdGhpcy5wYXJlbnQuaW50VGVzdEluZGV4XS5kb1Rlc3QodGhpcy5wYXJlbnQpOw0KCQkJCXJldHVybjsNCgkJCX0NCgkJCS8vaWYgd2UgYXJlIGhlcmUgdGhlbiB3ZSBhcmUgZG9uZSB3aXRoIHRoaXMgdGVzdCBzbyB3ZSBjYW4gZ28gdG8gdGhlIG5leHQgdGVzdCB0eXBlDQoJCQl0aGlzLnBhcmVudC5kb05leHRUZXN0KCk7DQoJCX0NCgl9DQoJdGhpcy5mbmNUYXNrQ2FsbEJhY2sucGFyZW50ID0gdGhpczsNCgkNCgl0aGlzLmRvTmV4dFRlc3QgPSBmdW5jdGlvbigpDQoJew0KCQlpZih0aGlzLmJvb2xUZXN0ZXJNYXJrZWRUb0RpZSkgLy8gaWYgdGVzdGVyIGFib3J0ZWQgYW5kIHNvbWVob3cgbm90IGRpZWQgeWV0IGtpbGwgaXQgaGVyZQ0KCQkJcmV0dXJuOw0KCQkNCgkJdGhpcy5pbnRUZXN0SW5kZXggKys7DQoJCXdoaWxlKHRoaXMuaW50VGVzdEluZGV4IDwgYWN1bmV0aXh3ZWJzY2FubmVyLmFycmF5T2ZUZXN0UHJvY2VkdXJlcy5sZW5ndGgpDQoJCXsNCgkJCWlmIChhY3VuZXRpeHdlYnNjYW5uZXIuaXNUZXN0QWxsb3dlZCh0aGlzLmludFRlc3RJbmRleCkpDQoJCQl7DQoJCQkJbG9nVG9GaWxlKCJjbGFzc0FzaW5jcm9uVGVzdGVyL2RvTmV4dFRlc3QgdGVzdCBhbG93ZWQiKTsNCgkJCQlicmVhazsNCgkJCX0NCgkJCWVsc2UNCgkJCXsNCgkJCQlsb2dUb0ZpbGUoImNsYXNzQXNpbmNyb25UZXN0ZXIvZG9OZXh0VGVzdCA9PiBUZXN0IG5vdCBhbG93ZWQsIGdvIHRvIG5ldyB0ZXN0Iik7DQoJCQkJdGhpcy5pbnRUZXN0SW5kZXggKys7DQoJCQl9DQoJCX0NCgkJDQoJCS8vbG9nVG9GaWxlKCJjbGFzc0FzaW5jcm9uVGVzdGVyL2RvTmV4dFRlc3QgPT4gaW50VGVzdEluZGV4OiAiICsgdGhpcy5pbnRUZXN0SW5kZXggKyAiLCBhcnJheU9mVGVzdFByb2NlZHVyZXMubGVuZ3RoOiAiICsgYWN1bmV0aXh3ZWJzY2FubmVyLmFycmF5T2ZUZXN0UHJvY2VkdXJlcy5sZW5ndGgpOw0KCQkNCgkJaWYgKHRoaXMuaW50VGVzdEluZGV4IDwgYWN1bmV0aXh3ZWJzY2FubmVyLmFycmF5T2ZUZXN0UHJvY2VkdXJlcy5sZW5ndGggKQ0KCQl7DQoJCQkvL2dlbmVyYXRpbmcgY29tYmluYXRpb25zDQoJCQl0aGlzLm9ialJlcXVlc3QuZ2VuZXJhdGVQYXJhbWV0ZXJNYW5uaXB1bGF0aW9uQ29tYmluYXRpb25zKCk7DQoJCQkNCgkJCS8vIGlmIHdlIGhhdmUgYXQgbGVhc3Qgb25lIHRlc3QNCgkJCWlmKHRoaXMub2JqUmVxdWVzdC5hcnJheU9mR2VuZXJhdGVkVGVzdENvbWJpbmF0aW9ucy5sZW5ndGggPiAwKQ0KCQkJew0KCQkJCXRoaXMuaW50Q29tYmluYXRpb25JbmRleCA9IDA7DQoJCQkJYWN1bmV0aXh3ZWJzY2FubmVyLm9ialNjYW5uaW5nUHJvY2Vzc1N0YXR1cy5pbnRUZXN0UHJvY2VkdXJlSW5kZXggKys7DQoJCQkJYWN1bmV0aXh3ZWJzY2FubmVyLmFycmF5T2ZUZXN0UHJvY2VkdXJlc1t0aGlzLmludFRlc3RJbmRleF0uZG9UZXN0KHRoaXMpOw0KCQkJCXJldHVybjsNCgkJCX0NCgkJfQ0KCQkNCgkJaWYodGhpcy5vYmpOZXh0QXNpbmNyb25UZXN0ZXIgIT0gbnVsbCkNCgkJew0KCQkJdGhpcy5vYmpOZXh0QXNpbmNyb25UZXN0ZXIuZG9UZXN0KCk7ICAgIA0KCQl9DQoJCWVsc2UNCgkJew0KCQkJbG9nVG9GaWxlKCJjbGFzc0FzaW5jcm9uVGVzdGVyL2NhbGxiYWNrIGRvTmV4dFRlc3QgPT4gTGFzdCB0ZXN0LCBzY2FuIGZpbmlzaGVkIik7DQoJCQlhY3VuZXRpeHdlYnNjYW5uZXIub2JqU2Nhbm5pbmdQcm9jZXNzU3RhdHVzLnN0b3BTY2FubmluZ1Byb2Nlc3MoKTsNCgkJfQ0KCX0NCgkNCgl0aGlzLmRvTmV4dFRlc3QucGFyZW50ID0gdGhpczsNCgkNCg0KCXRoaXMuZG9UZXN0ID0gZnVuY3Rpb24oKQ0KCXsNCgkJbG9nVG9GaWxlKCJjbGFzc0FzaW5jcm9uVGVzdGVyID0+IFNUQVJUIik7DQoJCQ0KCQlhY3VuZXRpeHdlYnNjYW5uZXIub2JqU2Nhbm5pbmdQcm9jZXNzU3RhdHVzLmludEdyb3VwSW5kZXggKys7DQoJCWFjdW5ldGl4d2Vic2Nhbm5lci5vYmpTY2FubmluZ1Byb2Nlc3NTdGF0dXMuaW50VGVzdFByb2NlZHVyZUluZGV4ID0gMDsNCgkJDQoJCXRoaXMuaW50VGVzdEluZGV4ID0gLTE7DQoJCXRoaXMuZG9OZXh0VGVzdCgpOw0KCX0NCn0=')); ]]></script>
<script><![CDATA[ eval(atob('LyoNCkF1dGhvcjoJCUF0dGlsYSBHZXJlbmRpDQpQdXJwb3NlOglzb21lIGdlbmVyYWwgZnVuY3Rpb25zDQoqLw0KDQpmdW5jdGlvbiBsb2codGV4dCkNCnsNCglkdW1wKCJTY2FubmVyOiAiK3RleHQrIlxyXG4iKTsNCn0NCg0KZnVuY3Rpb24gZ2V0RWxlbWVudElET3JHZW5lcmF0ZU9uZShvYmpFbGVtZW50KQ0Kew0KCWZ1bmN0aW9uIElEQWxyZWFkeUV4aXN0KHN0cklkKQ0KCXsNCgkJDQoJCXZhciBvYmpQYWdlRG9jdW1lbnQgPSB3aW5kb3cudG9wLmdldEJyb3dzZXIoKS5icm93c2Vyc1t3aW5kb3cudG9wLmdldEJyb3dzZXIoKS5tVGFiQm94LnNlbGVjdGVkSW5kZXhdLmNvbnRlbnRXaW5kb3cuZG9jdW1lbnQ7DQoJCWlmIChvYmpQYWdlRG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoc3RySWQpICE9IG51bGwpDQoJCQlyZXR1cm4odHJ1ZSk7DQoJCQ0KCQl2YXIgZnJhbWVzID0gb2JqUGFnZURvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJmcmFtZSIpOw0KCQlmb3IgKHZhciBpID0gMDsgaSA8IGZyYW1lcy5sZW5ndGg7IGkrKykgDQoJCQlpZiAoZnJhbWVzW2ldLmNvbnRlbnREb2N1bWVudC5nZXRFbGVtZW50QnlJZChzdHJJZCkgIT0gbnVsbCkNCgkJCQlyZXR1cm4odHJ1ZSk7DQoJCQkNCgkJdmFyIGZyYW1lcyA9IG9ialBhZ2VEb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaWZyYW1lIik7DQoJCWZvciAodmFyIGkgPSAwOyBpIDwgZnJhbWVzLmxlbmd0aDsgaSsrKSANCgkJCWlmIChmcmFtZXNbaV0uY29udGVudERvY3VtZW50LmdldEVsZW1lbnRCeUlkKHN0cklkKSAhPSBudWxsKQ0KCQkJCXJldHVybih0cnVlKTsNCgkJDQoJCXJldHVybihmYWxzZSk7DQoJfQ0KCQ0KCXZhciBzdHJJZCA9ICIiOw0KCWlmKG9iakVsZW1lbnQgIT0gbnVsbCkNCgkJc3RySWQgPSBvYmpFbGVtZW50LmlkOw0KCWlmIChzdHJJZCA9PSAiIikNCgl7DQoJCXdoaWxlKDEpDQoJCXsNCgkJCXN0cklkID0gImdlbl8iICsgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjEzNDU2NzApOw0KCQkJaWYoICEgSURBbHJlYWR5RXhpc3Qoc3RySWQpICkNCgkJCQlicmVhazsNCgkJfQ0KCX0NCglpZihvYmpFbGVtZW50ICE9IG51bGwpDQoJCW9iakVsZW1lbnQuaWQgPSBzdHJJZDsJDQoJcmV0dXJuKHN0cklkKTsNCn0NCg0KZnVuY3Rpb24gTG9nSFRUUFRvRmlsZShvYmpSZXNwb25zZSwgYm9vbElzVnVsbmVyYWJsZSkNCnsNCgl2YXIgc3RyVGV4dCA9ICIiOw0KCXZhciBvYmpEYXRlID0gbmV3IERhdGUoKTsNCgl2YXIgdGltZURhdGUgPSBvYmpEYXRlLmdldEhvdXJzKCkgKyAiOiIgKyBvYmpEYXRlLmdldE1pbnV0ZXMoKSArICI6IiArIG9iakRhdGUuZ2V0U2Vjb25kcygpICsgIi4iICsgb2JqRGF0ZS5nZXRNaWxsaXNlY29uZHMoKTsNCglzdHJUZXh0ID0gc3RyVGV4dCArICJcclxuPT09PT09PT09PT09PT09PT1bIiArIG9ialJlc3BvbnNlLnN0clJlcXVlc3RVUkwgKyAiXVsiICsgdGltZURhdGUgKyAiXVxyXG4iDQoJCQ0KCXN0clRleHQgPSBzdHJUZXh0ICsgb2JqUmVzcG9uc2Uuc3RyUmVxdWVzdEhlYWRlcjsNCglzdHJUZXh0ID0gc3RyVGV4dCArICItLS0tLS0tLS0tLS0tLS0tLVsiOw0KCWlmKG9ialJlc3BvbnNlLmludEVycm9yQ29kZSA9PSAtMSkgc3RyVGV4dCA9IHN0clRleHQgKyAiRVJST1IiIDsNCglpZihvYmpSZXNwb25zZS5pbnRFcnJvckNvZGUgPT0gMCApIHN0clRleHQgPSBzdHJUZXh0ICsgIk9LIChoZWFkZXIrY29udGVudCkiIDsNCglpZihvYmpSZXNwb25zZS5pbnRFcnJvckNvZGUgPT0gMSApIHN0clRleHQgPSBzdHJUZXh0ICsgIkFib3J0ZWQgYnkgdXNlciIgOw0KCWlmKG9ialJlc3BvbnNlLmludEVycm9yQ29kZSA9PSAyICkgc3RyVGV4dCA9IHN0clRleHQgKyAiQWJvcnRlZCBieSB0aW1lb3V0IiA7DQoJaWYob2JqUmVzcG9uc2UuaW50RXJyb3JDb2RlID09IDMgKSBzdHJUZXh0ID0gc3RyVGV4dCArICJFUlJPUiIgOw0KCWlmKG9ialJlc3BvbnNlLmludEVycm9yQ29kZSA9PSA0ICkgc3RyVGV4dCA9IHN0clRleHQgKyAiQWJvcnRlZCBieSBsZW5ndGggKGhlYWRlcikiIDsNCglpZihvYmpSZXNwb25zZS5pbnRFcnJvckNvZGUgPT0gNSApIHN0clRleHQgPSBzdHJUZXh0ICsgIkFib3J0ZWQgYnkgY29udGVudCAoaGVhZGVyKSIgOw0KDQoJc3RyVGV4dCA9IHN0clRleHQgKyAiXVxyXG4iOw0KCQkNCglpZigob2JqUmVzcG9uc2UuaW50RXJyb3JDb2RlID09IDApfHwob2JqUmVzcG9uc2UuaW50RXJyb3JDb2RlID09IDQpIHx8IChvYmpSZXNwb25zZS5pbnRFcnJvckNvZGUgPT0gNSkpDQoJCXN0clRleHQJPSBzdHJUZXh0ICsgb2JqUmVzcG9uc2Uuc3RyUmVzcG9uc2VIZWFkZXIgKyAiXHJcbiI7DQoJCQkNCglpZigJYWN1bmV0aXh3ZWJzY2FubmVyLm9iak1velByZWZzLmdldEJvb2xQcmVmKCJib29sSW5jbHVkZUhUVFBMb2dJbkZ1bmN0aW9uYWxMb2ciKSAmJiBhY3VuZXRpeHdlYnNjYW5uZXIub2JqTW96UHJlZnMuZ2V0Qm9vbFByZWYoImJvb2xIVFRQTG9nSW5GdW5jdGlvbmFsTG9nT25seUhlYWRlcnMiKSkNCgkJbG9nVG9GaWxlKHN0clRleHQpOw0KCQ0KCWlmKG9ialJlc3BvbnNlLmludEVycm9yQ29kZSA9PSAwKQ0KCQlzdHJUZXh0CT0gc3RyVGV4dCArIG9ialJlc3BvbnNlLnN0clJlc3BvbnNlVGV4dCArICJcclxuIjsNCg0KCWlmKGFjdW5ldGl4d2Vic2Nhbm5lci5vYmpNb3pQcmVmcy5nZXRCb29sUHJlZigiYm9vbEluY2x1ZGVIVFRQTG9nSW5GdW5jdGlvbmFsTG9nIikgJiYgKCFhY3VuZXRpeHdlYnNjYW5uZXIub2JqTW96UHJlZnMuZ2V0Qm9vbFByZWYoImJvb2xIVFRQTG9nSW5GdW5jdGlvbmFsTG9nT25seUhlYWRlcnMiKSkpIA0KCQlsb2dUb0ZpbGUoc3RyVGV4dCk7DQoJCQ0KCWlmKCBhY3VuZXRpeHdlYnNjYW5uZXIub2JqTW96UHJlZnMuZ2V0Qm9vbFByZWYoImJvb2xMaW1pdEhUVFBMb2dpbmdUb1Z1bG5lcmFibGVyZXF1ZXN0IikgJiYgKCFib29sSXNWdWxuZXJhYmxlKSApDQoJCXJldHVybjsNCgkNCglpZiggYWN1bmV0aXh3ZWJzY2FubmVyLm9iak1velByZWZzLmdldEJvb2xQcmVmKCJib29sRW5hYmxlSFRUUExvZ2luZyIpKQ0KCQlhY3VuZXRpeHdlYnNjYW5uZXIub2JqRmlsZUhhbmRsZXIuc2F2ZVRleHRGaWxlKGFjdW5ldGl4d2Vic2Nhbm5lci5vYmpNb3pQcmVmcy5nZXRDaGFyUHJlZigic3RySFRUUExvZ2luRmlsZU5hbWUiKSwgc3RyVGV4dCwgdHJ1ZSk7DQp9DQoNCmZ1bmN0aW9uIGxvZ1RvRmlsZShzdHJUZXh0LCBpbnREZWJ1Z2xldmVsKQ0Kew0KCWlmKGludERlYnVnbGV2ZWwgPT0gbnVsbCkgaW50RGVidWdsZXZlbCA9IDA7DQoJdmFyIG9iak1velByZWZzID0gQ29tcG9uZW50cy5jbGFzc2VzWyJAbW96aWxsYS5vcmcvcHJlZmVyZW5jZXMtc2VydmljZTsxIl0uZ2V0U2VydmljZShDb21wb25lbnRzLmludGVyZmFjZXMubnNJUHJlZlNlcnZpY2UpLmdldEJyYW5jaCgiZXh0ZW5zaW9ucy5hY3VuZXRpeHdlYnNjYW5uZXIuIik7DQoJaWYoaW50RGVidWdsZXZlbCA+ICBvYmpNb3pQcmVmcy5nZXRJbnRQcmVmKCJpbnREZWJ1Z2dMZXZlbCIpKSByZXR1cm47DQoJaWYob2JqTW96UHJlZnMuZ2V0Qm9vbFByZWYgKCJib29sRW5hYmxlRnVuY3Rpb25hbExvZ2dpbmciKSkNCgl7DQoJCXZhciBvYmpEYXRlID0gbmV3IERhdGUoKTsNCgkJdmFyIHRpbWVEYXRlID0gb2JqRGF0ZS5nZXRIb3VycygpICsgIjoiICsgb2JqRGF0ZS5nZXRNaW51dGVzKCkgKyAiOiIgKyBvYmpEYXRlLmdldFNlY29uZHMoKSArICIuIiArIG9iakRhdGUuZ2V0TWlsbGlzZWNvbmRzKCk7DQoJCWlmIChzdHJUZXh0IT0gIiIpIHN0clRleHQgPSB0aW1lRGF0ZSArICIgOlx0IiArIHN0clRleHQgKyJcclxuIjsNCgkJYWN1bmV0aXh3ZWJzY2FubmVyLm9iakZpbGVIYW5kbGVyLnNhdmVUZXh0RmlsZShvYmpNb3pQcmVmcy5nZXRDaGFyUHJlZigic3RyRnVuY3Rpb25hbExvZ2dpbmdGaWxlTmFtZSIpLCBzdHJUZXh0LCB0cnVlKTsNCgl9DQp9DQoNCmZ1bmN0aW9uIGR1bXBPYmplY3Qob2JqLCBzdHJOYW1lLCBzdHJJbmRlbnQsIGludERlcHRoLCBpbnRNYXhEZXB0aCwgYm9vbFNraXBGdW5jdGlvbnMpDQp7DQoJaWYoaW50RGVwdGggPT0gbnVsbCkgaW50RGVwdGggPSAwOw0KCWlmKGludE1heERlcHRoID09IG51bGwpIGludE1heERlcHRoID0gMTA7DQoJaWYoc3RySW5kZW50ID09IG51bGwpIHN0ckluZGVudCA9ICIiOw0KCWlmKHN0ck5hbWUgPT0gbnVsbCkgc3RyTmFtZSA9ICJvYmplY3QiOw0KCWlmKGJvb2xTa2lwRnVuY3Rpb25zID09IG51bGwpIGJvb2xTa2lwRnVuY3Rpb25zID0gdHJ1ZTsNCgkNCgl2YXIgc3RyUmV0dmFsID0gc3RySW5kZW50ICsgc3RyTmFtZSArICI6IjsJDQoNCglpZihpbnREZXB0aCA+IGludE1heERlcHRoKQ0KCQlyZXR1cm4oc3RyUmV0dmFsICsgIjxNYXhpbXVtIERlcHRoIFJlYWNoZWQ+XHJcbiIpOw0KCQ0KCWlmICh0eXBlb2Ygb2JqID09ICJmdW5jdGlvbiIpDQoJew0KCQlpZihib29sU2tpcEZ1bmN0aW9ucykNCgkJCXJldHVybigiIik7DQoJCXJldHVybihzdHJSZXR2YWwgKyAiPEZ1bmN0aW9uPlxyXG4iKQ0KCX0NCglpZiAodHlwZW9mIG9iaiA9PSAib2JqZWN0IikNCgl7DQoJCXN0ckluZGVudCA9IHN0ckluZGVudCArICJcdCI7DQoJCXZhciBjaGlsZCA9IDA7DQoJCWZvciAodmFyIGl0ZW0gaW4gb2JqKQ0KICAgICAgICB7DQoJCQl0cnkNCgkJCXsNCgkJCSAgIGNoaWxkID0gb2JqW2l0ZW1dOw0KCQkJfSBjYXRjaCAoZSkNCgkJCXsNCgkJCSAgIHJldHVybihzdHJSZXR2YWwgKyAiPFVuYWJsZSB0byBFdmFsdWF0ZT5cclxuIik7DQoJCQl9DQoJCQlzdHJSZXR2YWwgPSBzdHJSZXR2YWwgKyAiXHJcbiIgKyBkdW1wT2JqZWN0KGNoaWxkLCBpdGVtLCBzdHJJbmRlbnQsIGludERlcHRoICsgMSwgaW50TWF4RGVwdGgsIGJvb2xTa2lwRnVuY3Rpb25zKTsNCgkJfQ0KCQlyZXR1cm4oc3RyUmV0dmFsKTsNCgl9DQoJcmV0dXJuKHN0clJldHZhbCArIG9iaiArICJcclxuIik7DQp9DQoNCg0KZnVuY3Rpb24gYnJvd3NlRm9yRmlsZVRvU2F2ZShhVGl0bGUpDQp7DQoJY29uc3QgbnNJRmlsZVBpY2tlciA9IENvbXBvbmVudHMuaW50ZXJmYWNlcy5uc0lGaWxlUGlja2VyOw0KCXZhciBGUCA9IENvbXBvbmVudHMuY2xhc3Nlc1snQG1vemlsbGEub3JnL2ZpbGVwaWNrZXI7MSddLmNyZWF0ZUluc3RhbmNlKG5zSUZpbGVQaWNrZXIpOw0KCUZQLmluaXQod2luZG93LCBhVGl0bGUsIEZQLm1vZGVTYXZlKTsNCglGUC5hcHBlbmRGaWx0ZXJzKDB4MDEpOw0KCUZQLmFwcGVuZEZpbHRlcnMoMHgwNCk7DQoJdmFyIHJ2ID0gIEZQLnNob3coKTsNCglpZiAocnYgPT0gbnNJRmlsZVBpY2tlci5yZXR1cm5PSyB8fCBydiA9PSBuc0lGaWxlUGlja2VyLnJldHVyblJlcGxhY2UpIA0KCQlyZXR1cm4oRlAuZmlsZSk7DQogICAgcmV0dXJuKG51bGwpOw0KfQ0KDQpmdW5jdGlvbiBlc2NhcGVIVE1MIChzdHJUZXh0KQ0Kew0KICAgIHN0clRleHQgPSBzdHJUZXh0LnJlcGxhY2UoLyYvZywgIiZhbXA7IikucmVwbGFjZSgvPC9nLCImbHQ7IikucmVwbGFjZSgvPi9nLCAiJmd0OyIpLnJlcGxhY2UoL1wiL2csICImcXVvdDsiKS5yZXBsYWNlKC9cJy9nLCAiJiMzOTsiKTsNCiAgICByZXR1cm4gKHN0clRleHQpOw0KfQ0KDQpmdW5jdGlvbiBmb3JtYXREYXRlRm9yV1ZTRXhwb3J0KG9iakRhdGUpDQp7DQoJdmFyIHN0clllYXIgPSBvYmpEYXRlLmdldEZ1bGxZZWFyKCkgKyAiIjsNCgl2YXIgc3RyTW9udGggPSBvYmpEYXRlLmdldE1vbnRoKCkgKyAiIjsNCglpZiAoc3RyTW9udGgubGVuZ3RoID09IDEpIHN0ck1vbnRoID0gIjAiICsgc3RyTW9udGg7DQoJdmFyIHN0ckRheSA9IG9iakRhdGUuZ2V0RGF0ZSgpICsgIiI7DQoJaWYgKHN0ckRheS5sZW5ndGggPT0gMSkgc3RyRGF5ID0gIjAiICsgc3RyRGF5Ow0KCXZhciBzdHJIb3VyID0gb2JqRGF0ZS5nZXRIb3VycygpICsgIiI7DQoJaWYgKHN0ckhvdXIubGVuZ3RoID09IDEpIHN0ckhvdXIgPSAiMCIgKyBzdHJIb3VyOw0KCXZhciBzdHJNaW51dGUgPSBvYmpEYXRlLmdldE1pbnV0ZXMoKSArICIiOw0KCWlmIChzdHJNaW51dGUubGVuZ3RoID09IDEpIHN0ck1pbnV0ZSA9ICIwIiArIHN0ck1pbnV0ZTsNCgl2YXIgc3RyU2VjY29uZCA9IG9iakRhdGUuZ2V0U2Vjb25kcygpICsgIiI7DQoJaWYgKHN0clNlY2NvbmQubGVuZ3RoID09IDEpIHN0clNlY2NvbmQgPSAiMCIgKyBzdHJTZWNjb25kOw0KCQ0KCXJldHVybihzdHJZZWFyICsgc3RyTW9udGggKyBzdHJEYXkgKyBzdHJIb3VyICsgc3RyTWludXRlICsgc3RyU2VjY29uZCkNCn0NCg0KDQpmdW5jdGlvbiBhZGRYVUxFbGVtZW50c0NoaWxkc0Zyb21TdHJpbmcoeHVsT2JqUGFyZW50LHN0ckNvbnRlbnQpDQp7DQoJdmFyIHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTsNCgl2YXIgeHVsU3RyaW5nPSI8Ym94IHhtbG5zPSdodHRwOi8vd3d3Lm1vemlsbGEub3JnL2tleW1hc3Rlci9nYXRla2VlcGVyL3RoZXJlLmlzLm9ubHkueHVsJz4iK3N0ckNvbnRlbnQrIjwvYm94PiI7DQoJdmFyIGRvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoeHVsU3RyaW5nLCAidGV4dC94bWwiKTsNCgkNCgl2YXIgcm9vdHRhZyA9IGRvYy5kb2N1bWVudEVsZW1lbnQ7DQoJaWYgKChyb290dGFnLnRhZ05hbWUgPT0gInBhcnNlckVycm9yIikgfHwgKHJvb3R0YWcubmFtZXNwYWNlVVJJID09ICJodHRwOi8vd3d3Lm1vemlsbGEub3JnL25ld2xheW91dC94bWwvcGFyc2VyZXJyb3IueG1sIikpDQoJew0KCQlsb2coImNvbnZlcnRTdHJpbmdUb1h1bEVsZW1lbnQ6IEVSUk9SIHBhcnNpbmcgc3RyaW5nIik7DQoJCXJldHVybihmYWxzZSk7DQoJfQ0KCXZhciBoZWlnaHQgPSB4dWxPYmpQYXJlbnQuaGVpZ2h0Ow0KCWZvcih2YXIgaT0wOyBpPHJvb3R0YWcuY2hpbGROb2Rlcy5sZW5ndGggOyBpKyspDQoJCXh1bE9ialBhcmVudC5hcHBlbmRDaGlsZChyb290dGFnLmNoaWxkTm9kZXNbaV0pOw0KCXh1bE9ialBhcmVudC5oZWlnaHQgPSBoZWlnaHQ7DQogICAgcmV0dXJuKHRydWUpOw0KfQ==')); ]]></script>
<script><![CDATA[ eval(atob('LyoNCkF1dGhvcjogCUF0dGlsYSBHZXJlbmRpDQpQdXJwb3NlOglUaGUgY29tYmluYXRvciBnZW5lcmF0b3INCiovDQoNCmZ1bmN0aW9uIGdlbmVyYXRlQ29tYmluYXRpb25Gcm9tQ29tYmluYXRpb25SZWZlcmVuY2VMaXN0KGFycmF5UmVmZXJlbmNlKQ0Kew0KCXRoaXMuYXJyYXlDb21iaW5hdGlvbnMgIAkJPSBuZXcgQXJyYXkoKTsNCiAgICB0aGlzLmFycmF5UmVmZXJlbmNlICAgICAJCT0gbmV3IEFycmF5KCk7DQoJdGhpcy5hcnJheUluY3JlbWVudCAgICAgCQk9IG5ldyBBcnJheSgpOyAgDQogICAgdGhpcy5pbmNyZW1lbnRBcnJheSAgICAgICAgICAgICA9IGluY3JlbWVudEFycmF5Ow0KICAgIHRoaXMuZ2VuZXJhdGVDb21iaW5hdGlvbkFycmF5ICAgPSBnZW5lcmF0ZUNvbWJpbmF0aW9uQXJyYXk7DQoJCQkJDQogICAgZnVuY3Rpb24gaW5jcmVtZW50QXJyYXkoaW50UG9zKQ0KICAgIHsNCiAgICAgICAgaW50UG9zID0gKGludFBvcyA9PSBudWxsKSA/ICh0aGlzLmFycmF5SW5jcmVtZW50Lmxlbmd0aCAtIDEpIDogaW50UG9zOw0KICAgICAgICB0aGlzLmFycmF5SW5jcmVtZW50W2ludFBvc10gKysgOw0KICAgICAgICBpZiggdGhpcy5hcnJheUluY3JlbWVudFtpbnRQb3NdID4gdGhpcy5hcnJheVJlZmVyZW5jZVtpbnRQb3NdLmludE1heFZhbCApDQogICAgICAgIHsNCiAgICAgICAgICAgIHRoaXMuYXJyYXlJbmNyZW1lbnRbaW50UG9zXSA9IHRoaXMuYXJyYXlSZWZlcmVuY2VbaW50UG9zXS5pbnRNaW5WYWwgOw0KICAgICAgICAgICAgaWYoaW50UG9zID09IDApIHJldHVybihmYWxzZSk7DQogICAgICAgICAgICByZXR1cm4odGhpcy5pbmNyZW1lbnRBcnJheShpbnRQb3MgLSAxKSk7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuKHRydWUpOw0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiBnZW5lcmF0ZUNvbWJpbmF0aW9uQXJyYXkoKQ0KICAgIHsNCiAgICAgICAgdGhpcy5hcnJheUNvbWJpbmF0aW9ucyAgPSBuZXcgQXJyYXkoKTsNCiAgICAgICAgaWYodGhpcy5hcnJheVJlZmVyZW5jZSA9PSBudWxsKQ0KICAgICAgICAgICAgcmV0dXJuOw0KICAgICAgICB0aGlzLmFycmF5SW5jcmVtZW50ID0gbmV3IEFycmF5KCk7DQoJCQ0KICAgICAgICBmb3IodmFyIGk9MCA7IGk8dGhpcy5hcnJheVJlZmVyZW5jZS5sZW5ndGg7IGkrKykgdGhpcy5hcnJheUluY3JlbWVudC5wdXNoKHRoaXMuYXJyYXlSZWZlcmVuY2VbaV0uaW50TWluVmFsKTsNCiAgICAgICAgZG8NCiAgICAgICAgew0KICAgICAgICAgICAgdGhpcy5hcnJheUNvbWJpbmF0aW9ucy5wdXNoKHRoaXMuYXJyYXlJbmNyZW1lbnQuc2xpY2UoKSk7DQogICAgICAgIH0NCiAgICAgICAgd2hpbGUodGhpcy5pbmNyZW1lbnRBcnJheSgpKQ0KICAgIH0NCgkNCglpZihhcnJheVJlZmVyZW5jZSkNCgl7DQoJCXRoaXMuYXJyYXlSZWZlcmVuY2UgPSBhcnJheVJlZmVyZW5jZTsNCgkJdGhpcy5nZW5lcmF0ZUNvbWJpbmF0aW9uQXJyYXkoKTsNCgl9DQoJcmV0dXJuKHRoaXMuYXJyYXlDb21iaW5hdGlvbnMpOw0KfQ0KDQpmdW5jdGlvbiBjbGFzc0NvbWJpbmF0aW9uR2VuZXJhdG9yKGFycmF5UmVmZXJlbmNlKQ0Kew0KICAgIHRoaXMuYXJyYXlSZWZlcmVuY2UgICAgID0gbmV3IEFycmF5KCk7CQ0KICAgIHRoaXMuYXJyYXlJbmNyZW1lbnQgICAgID0gbmV3IEFycmF5KCk7DQogICAgdGhpcy5hcnJheUNvbWJpbmF0aW9ucyAgPSBuZXcgQXJyYXkoKTsNCiAgICAgICAgICAgICAgICANCiAgICB0aGlzLmluY3JlbWVudEFycmF5ICAgICAgICAgICAgID0gaW5jcmVtZW50QXJyYXk7DQogICAgdGhpcy5nZW5lcmF0ZUNvbWJpbmF0aW9uQXJyYXkgICA9IGdlbmVyYXRlQ29tYmluYXRpb25BcnJheTsNCiAgICANCiAgICB0aGlzLmdlbmVyYXRlQ29tYmluYXRpb25BcnJheShhcnJheVJlZmVyZW5jZSk7DQogICAgDQogICAgZnVuY3Rpb24gaW5jcmVtZW50QXJyYXkoaW50UG9zKQ0KICAgIHsNCiAgICAgICAgaW50UG9zID0gKGludFBvcyA9PSBudWxsKSA/ICh0aGlzLmFycmF5SW5jcmVtZW50Lmxlbmd0aC0xKSA6IGludFBvczsNCiAgICAgICAgdGhpcy5hcnJheUluY3JlbWVudFtpbnRQb3NdICsrIDsNCiAgICAgICAgaWYoIHRoaXMuYXJyYXlJbmNyZW1lbnRbaW50UG9zXSA+IHRoaXMuYXJyYXlSZWZlcmVuY2VbaW50UG9zXSApDQogICAgICAgIHsNCiAgICAgICAgICAgIHRoaXMuYXJyYXlJbmNyZW1lbnRbaW50UG9zXSA9IDEgOw0KICAgICAgICAgICAgaWYoaW50UG9zID09IDApIHJldHVybihmYWxzZSk7DQogICAgICAgICAgICByZXR1cm4odGhpcy5pbmNyZW1lbnRBcnJheShpbnRQb3MgLSAxKSk7DQogICAgICAgIH0NCiAgICAgICAgcmV0dXJuKHRydWUpOw0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiBnZW5lcmF0ZUNvbWJpbmF0aW9uQXJyYXkoYXJyYXlSZWZlcmVuY2UpDQogICAgew0KICAgICAgICB0aGlzLmFycmF5UmVmZXJlbmNlICAgICA9IGFycmF5UmVmZXJlbmNlOw0KICAgICAgICB0aGlzLmFycmF5Q29tYmluYXRpb25zICA9IG5ldyBBcnJheSgpOw0KICAgICAgICANCiAgICAgICAgdmFyIHRvdGFsQ29tYmluYXRpb25zID0gMDsNCiAgICAgICAgDQogICAgICAgIGlmKHRoaXMuYXJyYXlSZWZlcmVuY2U9PW51bGwpDQogICAgICAgICAgICByZXR1cm4odG90YWxDb21iaW5hdGlvbnMpOw0KICAgICAgICANCiAgICAgICAgdGhpcy5hcnJheUluY3JlbWVudCA9IG5ldyBBcnJheSgpOw0KICAgICAgICBmb3IodmFyIGk9MCA7IGk8dGhpcy5hcnJheVJlZmVyZW5jZS5sZW5ndGg7IGkrKykgdGhpcy5hcnJheUluY3JlbWVudC5wdXNoKDEpOw0KICAgICAgICBkbw0KICAgICAgICB7DQogICAgICAgICAgICB0aGlzLmFycmF5Q29tYmluYXRpb25zLnB1c2godGhpcy5hcnJheUluY3JlbWVudC5zbGljZSgpKTsNCiAgICAgICAgICAgIHRvdGFsQ29tYmluYXRpb25zICsrOw0KICAgICAgICB9DQogICAgICAgIHdoaWxlKHRoaXMuaW5jcmVtZW50QXJyYXkoKSkNCiAgICAgICAgDQogICAgICAgIHJldHVybih0b3RhbENvbWJpbmF0aW9ucyk7DQogICAgfQkJCQkNCn0NCg0KZnVuY3Rpb24gY2xhc3NNdWx0aXBsZVNlbGVjdGlvbkNvbWJpbmF0aW9uR2VuZXJhdG9yKCkNCnsNCiAgICB0aGlzLmdldEFsbFBvc3NpYmJsZUNvbWJpbmF0aW9uc051bWJlciAJPSBnZXRBbGxQb3NzaWJibGVDb21iaW5hdGlvbnNOdW1iZXI7DQoJdGhpcy5nZXRDb21iaW5hdGlvbnMgCQkJCQk9IGdldENvbWJpbmF0aW9uczsNCgl0aGlzLmdldENvbWJpbmF0aW9uQnlJbmRleAkJCQk9IGdldENvbWJpbmF0aW9uQnlJbmRleDsNCiAgICANCiAgICBmdW5jdGlvbiBmYWN0b3JpYWwoaW50VmFsdWUpDQogICAgew0KICAgICAgICB2YXIgcmVzdWx0ID0gMTsNCiAgICAgICAgZm9yICh2YXIgaSA9IDI7IGkgPD0gaW50VmFsdWU7IGkrKykNCiAgICAgICAgICAgIHJlc3VsdCAqPSBpDQogICAgICAgIHJldHVybiByZXN1bHQ7DQogICAgfQ0KDQogICAgZnVuY3Rpb24gY29tYmluYXRpb25zTnVtYmVyKGludE4saW50SykNCiAgICB7DQogICAgICAgIHJldHVybiAoICBmYWN0b3JpYWwoaW50TikvKGZhY3RvcmlhbChpbnRLKSpmYWN0b3JpYWwoaW50Ti1pbnRLKSkgKQ0KICAgIH0NCiAgICANCiAgICB0aGlzLmNvbWJpbmF0aW9uQXJyYXkgPSBuZXcgQXJyYXkoKTsNCiAgIA0KICAgIGZ1bmN0aW9uIGdldENvbWJpbmF0aW9ucyhpbnROLGludEspDQogICAgew0KICAgICAgICBhcnJheUNvbWIgPSBuZXcgQXJyYXkoKTsNCiAgICAgICAgdiA9IG5ldyBBcnJheSgpOw0KICAgICAgICBjb21iaW5hdGlvbnMgKGFycmF5Q29tYiwgdiwgMSwgaW50TiwgMSwgaW50Syk7DQogICAgICAgIHJldHVybihhcnJheUNvbWIpOw0KICAgIH0NCiAgICANCiAgICBmdW5jdGlvbiBjb21iaW5hdGlvbnMoYXJyYXlDb21iLCB2LCBzdGFydCwgbiwgaywgbWF4aykNCiAgICB7DQogICAgICAgIHZhciBpID0gMDsNCiAgICAgICAgaWYgKGsgPiBtYXhrKQ0KICAgICAgICB7DQogICAgICAgICAgICB2YXIgY29tYiA9IG5ldyBBcnJheSgpOw0KICAgICAgICAgICAgYXJyYXlDb21iLnB1c2godi5zbGljZSgpKTsgICANCgkJCXJldHVybjsgICAgICAgICANCiAgICAgICAgfQ0KICAgICAgICBmb3IgKGkgPSBzdGFydDsgaSA8PSBuOyBpKyspDQogICAgICAgIHsNCiAgICAgICAgICAgICAgICB2W2stMV0gPSBpOw0KICAgICAgICAgICAgICAgIGNvbWJpbmF0aW9ucyAoYXJyYXlDb21iLCB2LCBpKzEsIG4sIGsrMSwgbWF4ayk7DQogICAgICAgIH0NCiAgICB9DQogICAgDQogICAgZnVuY3Rpb24gZ2V0Q29tYmluYXRpb25CeUluZGV4KGludE4sIGludENvbWJpbmF0aW9uTnVtYmVyKQ0KICAgIHsNCgkJYXJyYXlSZXR1cm4gPSBuZXcgQXJyYXkoKTsNCgkJDQoJCXZhciBpbnRDb21iTnVtYmVyID0gMDsNCgkJdmFyIGludENvbWJOdW1iZXJUbXAgPSAwOw0KCQl2YXIgaTsNCgkJdmFyIGludEsgPSAtMTsNCgkJDQoJCWZvcihpID0gMTsgaSA8PSBpbnROOyBpKyspDQoJCXsNCgkJCWludENvbWJOdW1iZXJUbXAgPSBpbnRDb21iTnVtYmVyOw0KCQkJaW50Q29tYk51bWJlciA9IGludENvbWJOdW1iZXIgKyBjb21iaW5hdGlvbnNOdW1iZXIoaW50TixpKTsJDQoJCQlpZihpbnRDb21iTnVtYmVyID49IGludENvbWJpbmF0aW9uTnVtYmVyKQ0KCQkJew0KCQkJCWludEsgPSBpOwkNCgkJCQlpbnRDb21iTnVtYmVyID0gaW50Q29tYmluYXRpb25OdW1iZXIgLSBpbnRDb21iTnVtYmVyVG1wIC0xOw0KCQkJCWJyZWFrOw0KCQkJfQ0KCQl9CQkJDQoJCQkNCgkJaWYoKGludEsgPiAwKSAmJiAoaW50SyA8PSBpbnROKSkNCgkJew0KCQkJYXJyYXlSZXR1cm4gPSBnZXRDb21iaW5hdGlvbnMoaW50TixpbnRLKVtpbnRDb21iTnVtYmVyXTsgCQ0KCQl9DQoJCQ0KCQlyZXR1cm4oYXJyYXlSZXR1cm4pOw0KICAgIH0NCiAgICANCg0KICAgIGZ1bmN0aW9uIGdldEFsbFBvc3NpYmJsZUNvbWJpbmF0aW9uc051bWJlcihpbnRGaWVsZE51bWJlcikNCiAgICB7DQogICAgICAgIHZhciByZXN1bHQgPSAwOw0KICAgICAgICBmb3IodmFyIGkgPSAxIDsgaSA8PSBpbnRGaWVsZE51bWJlcjsgaSsrKQ0KICAgICAgICAgICAgcmVzdWx0ID0gcmVzdWx0ICsgY29tYmluYXRpb25zTnVtYmVyKGludEZpZWxkTnVtYmVyLGkpOw0KICAgICAgICByZXR1cm4gcmVzdWx0Ow0KICAgIH0NCn0=')); ]]></script>
<script><![CDATA[ eval(atob('LyoNCkF1dGhvcjoJCUF0dGlsYSBHZXJlbmRpDQpQdXJwb3NlOglUaGUgY2xhc3NVcmxQYXJzZXINCiovDQoNCmZ1bmN0aW9uIGNsYXNzVXJsUGFyc2VyKHN0clVSTCkNCnsNCgl0aGlzLmJvb2xJc1JFbGF0aXZlID0gZmFsc2U7DQoJdGhpcy5zdHJTY2hlbWUJCT0gbmV3IFN0cmluZygpOw0KCXRoaXMuc3RySG9zdAkJPSBuZXcgU3RyaW5nKCk7DQoJdGhpcy5zdHJQb3J0CQk9IG5ldyBTdHJpbmcoKTsNCgl0aGlzLnN0clVzZXJuYW1lCT0gbmV3IFN0cmluZygpOw0KCXRoaXMuc3RyUGFzc3dvcmQJPSBuZXcgU3RyaW5nKCk7DQoJdGhpcy5zdHJGaWxlTmFtZQk9IG5ldyBTdHJpbmcoKTsNCgl0aGlzLnN0ckRpcmVjdG9yeQk9IG5ldyBTdHJpbmcoKTsNCgl0aGlzLnN0clF1ZXJ5CQk9IG5ldyBTdHJpbmcoKTsNCgl0aGlzLnN0clBhcmFtCQk9IG5ldyBTdHJpbmcoKTsNCgl0aGlzLnN0clJlZgkJCT0gbmV3IFN0cmluZygpOw0KCQ0KCXRoaXMuUGFyc2VVcmwJCQkJPSBQYXJzZVVybDsNCgl0aGlzLnRvU3RyaW5nCQkJCT0gdG9TdHJpbmc7DQoJdGhpcy5jb2xlcmF0ZVdpdGhTdHJpbmdVUkwJPSBjb2xlcmF0ZVdpdGhTdHJpbmdVUkw7DQoJdGhpcy5nZXRVUkwgCQkJCT0gZ2V0VVJMOw0KCXRoaXMuY29tcGFyZVdpdGgJCQk9IGNvbXBhcmVXaXRoOw0KCQ0KCXRoaXMuUGFyc2VVcmwoc3RyVVJMKTsNCgkNCglmdW5jdGlvbiBjb21wYXJlV2l0aChvYmpVcmwpDQoJew0KCQlsb2dUb0ZpbGUoImNsYXNzVXJsUGFyc2VyL2NvbXBhcmVXaXRoICgiICsgdGhpcy5nZXRVUkwoKSArICIsICIgKyBvYmpVcmwuZ2V0VVJMKCkgKyAiKSIpOw0KCQkNCgkJdmFyIGludFJldHZhbCA9IDA7DQoJCQ0KCQkvL2NoZWNrIGZvciBzdWJkb21haW5zDQoJCXZhciBhcnJheVRoaXMgPSB0aGlzLnN0ckhvc3QudG9Mb3dlckNhc2UoKS5zcGxpdCgvXC4vKTsNCgkJdmFyIGFycmF5T2JqID0gb2JqVXJsLnN0ckhvc3QudG9Mb3dlckNhc2UoKS5zcGxpdCgvXC4vKTsNCgkJDQoJCWlmICgoYXJyYXlUaGlzLmxlbmd0aCA8PSAyKSAmJiAoYXJyYXlPYmoubGVuZ3RoIDw9IDIpICYmIChhcnJheVRoaXMubGVuZ3RoICE9IGFycmF5T2JqLmxlbmd0aCkpDQoJCQlyZXR1cm4oaW50UmV0dmFsKTsNCgkJDQoJCWlmICgoYXJyYXlUaGlzLmxlbmd0aCA+IDApICYmIChhcnJheVRoaXNbYXJyYXlUaGlzLmxlbmd0aCAtIDFdICE9IGFycmF5T2JqW2FycmF5T2JqLmxlbmd0aCAtIDFdKSkNCgkJCXJldHVybihpbnRSZXR2YWwpOw0KCQkNCgkJaWYoKGFycmF5VGhpcy5sZW5ndGggPiAxKSAmJiAoYXJyYXlUaGlzW2FycmF5VGhpcy5sZW5ndGggLSAyXSAhPSBhcnJheU9ialthcnJheU9iai5sZW5ndGggLSAyXSkpDQoJCQlyZXR1cm4oaW50UmV0dmFsKTsNCgkJCQ0KCQkvL1RvZG8gOiB0aGVyZSBpcyBhIHRoaXJkIHBvc3NpYmlsaXR5IHRvbyA9PiBub3QgdG8gYmlnIHByb2JsZW0gYnV0IHRoZXJlIG1heSBiZSBhIHdhcm5pbmcgZ2VuZXJhdGVkDQoJCQ0KCQlpbnRSZXR2YWwgKys7DQoJCQ0KCQlpZih0aGlzLnN0ckhvc3QudG9Mb3dlckNhc2UoKSAhPSBvYmpVcmwuc3RySG9zdC50b0xvd2VyQ2FzZSgpKQ0KCQl7DQoJCQkvL3NpbWlsaXR1ZGVzIDEyNy4wLjAuMSwgbG9jYWxob3N0DQoJCQlpZigNCgkJCSAgICEoDQoJCQkJKCh0aGlzLnN0ckhvc3QudG9Mb3dlckNhc2UoKSA9PSAiMTI3LjAuMC4xIikgfHwgKHRoaXMuc3RySG9zdC50b0xvd2VyQ2FzZSgpID09ICJsb2NhbGhvc3QiKSkgJiYNCgkJCQkoKG9ialVybC5zdHJIb3N0LnRvTG93ZXJDYXNlKCkgPT0gIjEyNy4wLjAuMSIpIHx8IChvYmpVcmwuc3RySG9zdC50b0xvd2VyQ2FzZSgpID09ICJsb2NhbGhvc3QiKSkNCgkJCSAgICkNCgkJCSAgKQ0KCQkJbG9nVG9GaWxlKCJjbGFzc1VybFBhcnNlci9jb21wYXJlV2l0aCAgZGlmZmVyZW50IHN0ckhvc3QiKTsNCgkJCXJldHVybihpbnRSZXR2YWwpOw0KCQl9DQoJCQ0KCQlpbnRSZXR2YWwgKys7DQoJCQ0KCQlpZih0aGlzLnN0ckRpcmVjdG9yeS50b0xvd2VyQ2FzZSgpICE9IG9ialVybC5zdHJEaXJlY3RvcnkudG9Mb3dlckNhc2UoKS5zdWJzdHJpbmcoMCx0aGlzLnN0ckRpcmVjdG9yeS5sZW5ndGgpKQ0KCQl7DQoJCQlsb2dUb0ZpbGUoImNsYXNzVXJsUGFyc2VyL2NvbXBhcmVXaXRoICB0aGlzLnN0ckRpcmVjdG9yeSBpbmNsdWRlZCBpbiBvYmouc3ViZGlyZWN0b3J5IGF0IHN0YXJ0Iik7DQoJCQlyZXR1cm4oaW50UmV0dmFsKTsNCgkJfQ0KCQkNCgkJaW50UmV0dmFsICsrOw0KCQkNCgkJaWYodGhpcy5zdHJEaXJlY3RvcnkudG9Mb3dlckNhc2UoKSAhPSBvYmpVcmwuc3RyRGlyZWN0b3J5LnRvTG93ZXJDYXNlKCkpDQoJCXsNCgkJCWxvZ1RvRmlsZSgiY2xhc3NVcmxQYXJzZXIvY29tcGFyZVdpdGggIGRpZmZlcmVudCBzdHJEaXJlY3RvcnkiKTsNCgkJCXJldHVybihpbnRSZXR2YWwpOw0KCQl9DQoJCQ0KCQlpbnRSZXR2YWwgKys7DQoJCQ0KCQlpZih0aGlzLnN0ckZpbGVOYW1lLnRvTG93ZXJDYXNlKCkgIT0gb2JqVXJsLnN0ckZpbGVOYW1lLnRvTG93ZXJDYXNlKCkpDQoJCXsNCgkJCWxvZ1RvRmlsZSgiY2xhc3NVcmxQYXJzZXIvY29tcGFyZVdpdGggIGRpZmZlcmVudCBzdHJGaWxlTmFtZSIpOw0KCQkJLy9UT0RPOiBzaW1pbGl0dWRlcyBjYW4gZXhpc3Qgc3RyRmlsZU5hbWUgPSAiIiAsIGluZGV4LnBocCwgb3IgYW55IGluZGV4IGZpbGUuLi4NCgkJCXJldHVybihpbnRSZXR2YWwpOw0KCQl9DQoJCQ0KCQlpbnRSZXR2YWwgKys7DQoJCQ0KCQlsb2dUb0ZpbGUoImNsYXNzVXJsUGFyc2VyL2NvbXBhcmVXaXRoICBlcXVhbCIpOw0KCQlyZXR1cm4oaW50UmV0dmFsKTsNCgl9DQoJDQoJZnVuY3Rpb24gZ2V0VVJMKGJvb2xJbmNsdWRlVXNlckF1dGVudCkNCgl7DQoJCWJvb2xJbmNsdWRlVXNlckF1dGVudCA9IChib29sSW5jbHVkZVVzZXJBdXRlbnQgPT0gbnVsbCkgPyBmYWxzZSA6IGJvb2xJbmNsdWRlVXNlckF1dGVudDsNCgkJDQoJCXZhciBzdHJVcmwgPSBuZXcgU3RyaW5nOw0KCQkNCgkJc3RyVXJsID0gc3RyVXJsICsgdGhpcy5zdHJTY2hlbWUgKyAnOi8vJzsNCgkJDQoJCWlmKA0KCQkgICAoYm9vbEluY2x1ZGVVc2VyQXV0ZW50KSAmJg0KCQkgICAodGhpcy5zdHJVc2VybmFtZSAhPSAiIikgJiYNCgkJICAgKHRoaXMuc3RyUGFzc3dvcmQgIT0gIiIpDQoJCSAgICkgc3RyVXJsID0gc3RyVXJsICsgdGhpcy5zdHJVc2VybmFtZSArICc6JyArIHRoaXMuc3RyUGFzc3dvcmQgKyAnQCc7DQoJCQ0KCQlzdHJVcmwgPSBzdHJVcmwgKyB0aGlzLnN0ckhvc3Q7DQoJCXN0clVybCA9IHN0clVybCArIHRoaXMuc3RyRGlyZWN0b3J5Ow0KCQlzdHJVcmwgPSBzdHJVcmwgKyB0aGlzLnN0ckZpbGVOYW1lOw0KCQkJDQoJCXJldHVybihzdHJVcmwpOw0KCX0NCgkNCglmdW5jdGlvbiB0b1N0cmluZygpDQoJew0KCQl2YXIgcmV0dmFsID0gIiI7DQoJCWZvciAodmFyIHByb3BlcnR5IGluIHRoaXMpDQoJCXsNCgkJCWlmICh0eXBlb2YodGhpc1twcm9wZXJ0eV0pID09ICJmdW5jdGlvbiIpIGNvbnRpbnVlOw0KCQkJcmV0dmFsID0gcmV0dmFsICsgcHJvcGVydHkgKyAiID0gIiArIHRoaXNbcHJvcGVydHldICsgIlxyXG4iOw0KCQl9DQoJCXJldHVybihyZXR2YWwpOw0KCX0NCgkNCglmdW5jdGlvbiBjb2xlcmF0ZVdpdGhTdHJpbmdVUkwgKHN0clVybCkNCgl7DQoJCWlmKHN0clVybCA9PSAiIikNCgkJCQlyZXR1cm47DQoJCXZhciB1cmwgPSBuZXcgY2xhc3NVcmxQYXJzZXIoc3RyVXJsKTsNCgkJdmFyIHN0clNwZWMgPSAiIjsNCgkJdmFyIG5zaXVybCAJPSBDb21wb25lbnRzLmNsYXNzZXNbIkBtb3ppbGxhLm9yZy9uZXR3b3JrL3N0YW5kYXJkLXVybDsxIl0NCgkJCQkJCS5jcmVhdGVJbnN0YW5jZShDb21wb25lbnRzLmludGVyZmFjZXMubnNJU3RhbmRhcmRVUkwpDQoJCQkJCQkuUXVlcnlJbnRlcmZhY2UoQ29tcG9uZW50cy5pbnRlcmZhY2VzLm5zSVVSTCk7DQoJCQ0KCQlpZih1cmwuYm9vbElzUkVsYXRpdmUpDQoJCXsNCgkJCWlmKHVybC5zdHJGaWxlTmFtZSAhPSAiIikgdGhpcy5zdHJGaWxlTmFtZQk9IHVybC5zdHJGaWxlTmFtZTsNCgkJCXRoaXMuc3RyUXVlcnkJCT0gdXJsLnN0clF1ZXJ5Ow0KCQkJdGhpcy5zdHJQYXJhbQkJPSB1cmwuc3RyUGFyYW07DQoJCQl0aGlzLnN0clJlZgkJCT0gdXJsLnN0clJlZjsNCgkJCQ0KCQkJaWYoKHVybC5zdHJEaXJlY3RvcnkgPT0gIiIpIHx8ICh1cmwuc3RyRGlyZWN0b3J5WzBdICE9ICcvJykpDQoJCQl7DQoJCQkJc3RyU3BlYyA9ICJodHRwOi8vIiArIHRoaXMuc3RySG9zdCArIHRoaXMuc3RyRGlyZWN0b3J5ICsgdXJsLnN0ckRpcmVjdG9yeTsNCgkJCX0NCgkJCWVsc2UNCgkJCXsNCgkJCQlzdHJTcGVjID0gImh0dHA6Ly8iICsgdGhpcy5zdHJIb3N0ICsgdXJsLnN0ckRpcmVjdG9yeTsNCgkJCX0NCgkJCQkJCQ0KCQkJbnNpdXJsLnNwZWMgPSBzdHJTcGVjOw0KCQkJdGhpcy5zdHJEaXJlY3RvcnkgPSBuc2l1cmwuZGlyZWN0b3J5Ow0KCQl9DQoJCWVsc2UNCgkJew0KCQkJdGhpcy5QYXJzZVVybChzdHJVcmwpOw0KCQl9DQoJfQ0KCQ0KCWZ1bmN0aW9uIFBhcnNlVXJsKHN0cklucHV0VXJsKQ0KCXsNCgkJdGhpcy5ib29sSXNSRWxhdGl2ZSA9IHRydWU7DQoJCXRoaXMuc3RyU2NoZW1lCQk9ICIiDQoJCXRoaXMuc3RySG9zdAkJPSAiIg0KCQl0aGlzLnN0clBvcnQJCT0gIiINCgkJdGhpcy5zdHJVc2VybmFtZQk9ICIiDQoJCXRoaXMuc3RyUGFzc3dvcmQJPSAiIg0KCQl0aGlzLnN0ckZpbGVOYW1lCT0gIiINCgkJdGhpcy5zdHJEaXJlY3RvcnkJPSAiIg0KCQl0aGlzLnN0clF1ZXJ5CQk9ICIiDQoJCXRoaXMuc3RyUGFyYW0JCT0gIiINCgkJdGhpcy5zdHJSZWYJCQk9ICIiDQoJCQ0KICAgICAgIA0KCQlpZiAoKHN0cklucHV0VXJsID09IG51bGwpIHx8IChzdHJJbnB1dFVybCA9PSAiIikpDQoJCQlyZXR1cm47DQogICAgICAgIA0KICAgICAgICAvL21ha2Ugc3VyZSB3ZSBoYXZlIGEgc3RyaW5nIHR5cGUNCgkJdmFyIHN0clVybCA9IG5ldyBTdHJpbmcoKTsNCgkJc3RyVXJsID0gc3RySW5wdXRVcmwgKyAiIjsgDQogICAgICAgIA0KICAgICAgICAvL3RyaW0gdGhlIGltcHV0DQogICAgICAgIHN0clVybCA9IHN0clVybC5yZXBsYWNlKC9eXHMqKFxTKihccytcUyspKilccyokLywgIiQxIik7DQogICAgICAgIA0KICAgICAgICAvL2RldGVjdCBpZiB0aGlzIGlzIGphdmFzY3JpcHQgYWN0aW9uDQogICAgICAgIHZhciByZWdleHAgPSAvXlxzKmphdmFzY3JpcHQ6Lio/L2k7DQogICAgICAgIGlmKHJlZ2V4cC5leGVjKHN0clVybCkpDQogICAgICAgICAgICByZXR1cm47DQoJCQkJDQoJCXZhciB1cmwgCT0gQ29tcG9uZW50cy5jbGFzc2VzWyJAbW96aWxsYS5vcmcvbmV0d29yay9zdGFuZGFyZC11cmw7MSJdDQoJCQkJCQkuY3JlYXRlSW5zdGFuY2UoQ29tcG9uZW50cy5pbnRlcmZhY2VzLm5zSVN0YW5kYXJkVVJMKQ0KCQkJCQkJLlF1ZXJ5SW50ZXJmYWNlKENvbXBvbmVudHMuaW50ZXJmYWNlcy5uc0lVUkwpOw0KDQoJCQ0KCQlyZWdleHAgPSAvKF5cL1wvKyl8KF5bYS16LEEtWl0rOlwvXC8rKS8NCgkJDQoJCWlmKHJlZ2V4cC5leGVjKHN0clVybCkpDQoJCXsNCgkJCXRoaXMuYm9vbElzUkVsYXRpdmUgCT0gZmFsc2U7DQoJCQkNCgkJCXVybC5zcGVjIAkJCQk9IHN0clVybDsNCgkJCXRoaXMuc3RyRmlsZU5hbWUgCQk9IHVybC5maWxlTmFtZTsNCgkJCXRoaXMuc3RyUXVlcnkJCQk9IHVybC5xdWVyeTsNCgkJCXRoaXMuc3RyUGFyYW0JCQk9IHVybC5wYXJhbTsNCgkJCXRoaXMuc3RyUmVmCQkJCT0gdXJsLnJlZjsNCgkJCQkJDQoJCQl0aGlzLnN0clNjaGVtZQkJCT0gdXJsLnNjaGVtZTsNCgkJCXRoaXMuc3RySG9zdCAJCQk9IHVybC5ob3N0Ow0KCQkJaWYodXJsLnBvcnQgPCAwICkgdGhpcy5zdHJQb3J0ID0gIiI7IGVsc2UgdGhpcy5zdHJQb3J0ID0gdXJsLnBvcnQgKyAiIjsNCgkJCXRoaXMuc3RyVXNlcm5hbWUgCQk9IHVybC51c2VybmFtZTsNCgkJCXRoaXMuc3RyUGFzc3dvcmQgCQk9IHVybC5wYXNzd29yZDsNCgkJCXRoaXMuc3RyRGlyZWN0b3J5CQk9IHVybC5kaXJlY3Rvcnk7DQoJCQkNCgkJfQ0KCQllbHNlDQoJCXsNCgkJCXVybC5zcGVjIAkJCQk9ICJodHRwOi8vdHR0LmNvbS8iICsgc3RyVXJsOw0KCQkJdGhpcy5zdHJGaWxlTmFtZSAJCT0gdXJsLmZpbGVOYW1lOw0KCQkJdGhpcy5zdHJRdWVyeQkJCT0gdXJsLnF1ZXJ5Ow0KCQkJdGhpcy5zdHJQYXJhbQkJCT0gdXJsLnBhcmFtOw0KCQkJdGhpcy5zdHJSZWYJCQkJPSB1cmwucmVmOw0KCQkJDQoJCQl0aGlzLmJvb2xJc1JFbGF0aXZlCQk9IHRydWU7DQoJCQkNCgkJCXRoaXMuc3RyU2NoZW1lCQkJPSAiIjsNCgkJCXRoaXMuc3RySG9zdCAJCQk9ICIiOw0KCQkJdGhpcy5zdHJQb3J0IAkJCT0gIiI7DQoJCQl0aGlzLnN0clVzZXJuYW1lIAkJPSAiIjsNCgkJCXRoaXMuc3RyUGFzc3dvcmQgCQk9ICIiOw0KCQkJDQoJCQl2YXIgbGFzdEluZGV4IAkJCT0gc3RyVXJsLnNlYXJjaCgvXD98XCN8O3wkLyk7DQoJCQlsYXN0SW5kZXggPSBsYXN0SW5kZXggLSB0aGlzLnN0ckZpbGVOYW1lLmxlbmd0aDsNCgkJCXRoaXMuc3RyRGlyZWN0b3J5CQk9IHN0clVybC5zdWJzdHJpbmcoMCxsYXN0SW5kZXgpOw0KCQl9CQ0KCX0NCn0NCg==')); ]]></script>
<script><![CDATA[ eval(atob('LyoNCkF1dGhvcjoJCUF0dGlsYSBHZXJlbmRpDQpQdXJwb3NlOglUaGUgY2xhc3NQYXJhbWV0ZXJMaXN0IGNsYXNzDQoqLw0KDQpmdW5jdGlvbiBjbGFzc1BhcmFtZXRlckxpc3Qoc3RyUGFyYW1ldGVyTGlzdCwgc3RyUGFyYW1ldGVyU2VwYXJhdG9yLCBzdHJFcXVhbFNpZ24pDQp7DQogICAgc3RyUGFyYW1ldGVyTGlzdCAgICAgICAgICAgID0gKHN0clBhcmFtZXRlckxpc3QgPT0gbnVsbCkJCT8gIiIgIDogc3RyUGFyYW1ldGVyTGlzdDsNCiAgICB0aGlzLnN0ckVxdWFsU2lnbiAgICAgICAgICAgPSAoc3RyRXF1YWxTaWduID09IG51bGwpCQkJPyAiPSIgOiBzdHJFcXVhbFNpZ247DQogICAgdGhpcy5zdHJQYXJhbWV0ZXJTZXBhcmF0b3IgID0gKHN0clBhcmFtZXRlclNlcGFyYXRvciA9PSBudWxsKQk/ICImIiA6IHN0clBhcmFtZXRlclNlcGFyYXRvcjsNCiAgICANCiAgICB0aGlzLmFycmF5UGFyYW1ldGVycyA9IG5ldyBBcnJheSgpOw0KICAgIGlmIChzdHJQYXJhbWV0ZXJMaXN0ICE9ICIiKQ0KICAgICAgICB0aGlzLmFycmF5UGFyYW1ldGVycyA9IHN0clBhcmFtZXRlckxpc3Quc3BsaXQodGhpcy5zdHJQYXJhbWV0ZXJTZXBhcmF0b3IpOw0KfQ0KDQpjbGFzc1BhcmFtZXRlckxpc3QucHJvdG90eXBlLkdldFBhcmFtZXRlck5hbWUgPSBmdW5jdGlvbihpbnRJbmRleCkNCnsNCiAgICBpZiggaW50SW5kZXggPj0gdGhpcy5hcnJheVBhcmFtZXRlcnMubGVuZ3RoKQ0KICAgICAgICByZXR1cm4oIiIpOw0KICAgIHZhciBwYXJhbSA9IHRoaXMuYXJyYXlQYXJhbWV0ZXJzW2ludEluZGV4XS5zcGxpdCh0aGlzLnN0ckVxdWFsU2lnbiwyKTsNCiAgICByZXR1cm4ocGFyYW1bMF0pOw0KfQ0KDQpjbGFzc1BhcmFtZXRlckxpc3QucHJvdG90eXBlLkdldFBhcmFtZXRlclZhbHVlID0gZnVuY3Rpb24oaW50SW5kZXgpDQp7DQogICAgaWYoIGludEluZGV4ID49IHRoaXMuYXJyYXlQYXJhbWV0ZXJzLmxlbmd0aCkNCiAgICAgICAgcmV0dXJuKCIiKTsNCiAgICB2YXIgcGFyYW0gPSB0aGlzLmFycmF5UGFyYW1ldGVyc1tpbnRJbmRleF0uc3BsaXQodGhpcy5zdHJFcXVhbFNpZ24sMik7DQogICAgcmV0dXJuKHBhcmFtWzFdKTsNCn0NCg0KY2xhc3NQYXJhbWV0ZXJMaXN0LnByb3RvdHlwZS50b1N0cmluZyA9IGZ1bmN0aW9uKCkNCnsNCglpZih0aGlzLmFycmF5UGFyYW1ldGVycy5sZW5ndGggPT0gMCkNCgkJcmV0dXJuKCIiKTsNCiAgICByZXR1cm4odGhpcy5hcnJheVBhcmFtZXRlcnMuam9pbih0aGlzLnN0clBhcmFtZXRlclNlcGFyYXRvcikpOw0KfQ0KDQpjbGFzc1BhcmFtZXRlckxpc3QucHJvdG90eXBlLmNsZWFyID0gZnVuY3Rpb24oKQ0Kew0KICAgIHRoaXMuYXJyYXlQYXJhbWV0ZXJzID0gbmV3IEFycmF5KCk7ICAgDQp9DQoNCmNsYXNzUGFyYW1ldGVyTGlzdC5wcm90b3R5cGUucmVtb3ZlUGFyYW1ldGVyID0gZnVuY3Rpb24gKHN0clBhcmFtTmFtZSkNCnsNCiAgICBmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5hcnJheVBhcmFtZXRlcnMubGVuZ3RoOyBpKyspDQogICAgew0KICAgICAgICB2YXIgcGFyYW0gPSB0aGlzLmFycmF5UGFyYW1ldGVyc1tpXS5zcGxpdCh0aGlzLnN0ckVxdWFsU2lnbiwgMik7DQogICAgICAgIGlmIChwYXJhbVswXSA9PSBzdHJQYXJhbU5hbWUpDQogICAgICAgIHsNCiAgICAgICAgICAgIHRoaXMuYXJyYXlQYXJhbWV0ZXJzLnNwbGljZShpKTsNCiAgICAgICAgICAgIHRoaXMucmVtb3ZlUGFyYW1ldGVyKHN0clBhcmFtTmFtZSk7DQogICAgICAgICAgICByZXR1cm47DQogICAgICAgIH0NCiAgICB9DQp9DQoNCmNsYXNzUGFyYW1ldGVyTGlzdC5wcm90b3R5cGUuYWRkUGFyYW1ldGVyUGFpciA9IGZ1bmN0aW9uIChzdHJwYXJhbVBhaXIsIGJvb2xSZW1vdmVQcmV2aW91cykNCnsNCglpZihzdHJwYXJhbVBhaXIgPT0gIiIpDQoJCXJldHVybjsNCiAgICB2YXIgcGFyYW0gPSBzdHJwYXJhbVBhaXIuc3BsaXQodGhpcy5zdHJFcXVhbFNpZ24sIDIpOw0KICAgIHRoaXMuYWRkUGFyYW1ldGVyKHBhcmFtWzBdLHBhcmFtWzFdLGJvb2xSZW1vdmVQcmV2aW91cyk7DQp9DQoNCmNsYXNzUGFyYW1ldGVyTGlzdC5wcm90b3R5cGUuYWRkUGFyYW1ldGVyID0gZnVuY3Rpb24gKHN0clBhcmFtTmFtZSwgc3RyUGFyYW1WYWx1ZSwgYm9vbFJlbW92ZVByZXZpb3VzKQ0Kew0KICAgIGJvb2xSZW1vdmVQcmV2aW91cyA9IChib29sUmVtb3ZlUHJldmlvdXMgPT0gbnVsbCkgPyBmYWxzZSA6IGJvb2xSZW1vdmVQcmV2aW91czsNCglpZiAoc3RyUGFyYW1OYW1lID09ICIiKQ0KCXsNCgkJaWYgKHN0clBhcmFtVmFsdWUgIT0gIiIpDQoJCQl0aGlzLmFycmF5UGFyYW1ldGVycy5wdXNoKHN0clBhcmFtVmFsdWUpOw0KCQlyZXR1cm47DQoJfQ0KCQ0KICAgIGlmKGJvb2xSZW1vdmVQcmV2aW91cykNCiAgICAgICAgdGhpcy5yZW1vdmVQYXJhbWV0ZXIoc3RyUGFyYW1OYW1lKTsNCgkNCglpZiAoc3RyUGFyYW1WYWx1ZSAhPSAiIikNCgkJdGhpcy5hcnJheVBhcmFtZXRlcnMucHVzaChzdHJQYXJhbU5hbWUgKyB0aGlzLnN0ckVxdWFsU2lnbiArIHN0clBhcmFtVmFsdWUpOyAvL3VuZXNjYXBlKHN0clBhcmFtVmFsdWUpKTsNCgllbHNlDQoJCXRoaXMuYXJyYXlQYXJhbWV0ZXJzLnB1c2goc3RyUGFyYW1OYW1lICsgdGhpcy5zdHJFcXVhbFNpZ24pOw0KfQ0KDQpjbGFzc1BhcmFtZXRlckxpc3QucHJvdG90eXBlLkFkZFBhcmFtZXRlcnNGcm9tUGFyYW1TdHJpbmcgPSBmdW5jdGlvbiAoc3RyUGFyYW1ldGVyU3RyaW5nLCBib29sUmVtb3ZlUHJldmlvdXMpDQp7DQogICAgdmFyIHBhcmFtcyA9IHN0clBhcmFtZXRlclN0cmluZy5zcGxpdCh0aGlzLnN0clBhcmFtZXRlclNlcGFyYXRvcik7DQogICAgZm9yKCB2YXIgaSA9IDAgOyBpIDwgcGFyYW1zLmxlbmd0aCA7IGkrKykNCiAgICAgICAgdGhpcy5hZGRQYXJhbWV0ZXJQYWlyKHBhcmFtc1tpXSxib29sUmVtb3ZlUHJldmlvdXMpOyAgICAgDQp9DQoNCmNsYXNzUGFyYW1ldGVyTGlzdC5wcm90b3R5cGUuY3JlYXRlQ29weSA9IGZ1bmN0aW9uKCkNCnsNCgl2YXIgb2JqICAgICAgICAgICAgICAgICAgICAgPSBuZXcgY2xhc3NQYXJhbWV0ZXJMaXN0KCk7DQogICAgb2JqLnN0ckVxdWFsU2lnbiAgICAgICAgICAgID0gdGhpcy5zdHJFcXVhbFNpZ247DQogICAgb2JqLnN0clBhcmFtZXRlclNlcGFyYXRvciAgID0gdGhpcy5zdHJQYXJhbWV0ZXJTZXBhcmF0b3I7DQogICAgb2JqLmFycmF5UGFyYW1ldGVycyAgICAgICAgID0gdGhpcy5hcnJheVBhcmFtZXRlcnMuc2xpY2UoKTsNCiAgICByZXR1cm4ob2JqKQ0KfQ0KDQo=')); ]]></script>
<script><![CDATA[ eval(atob('LyoNCkF1dGhvcjoJCUF0dGlsYSBHZXJlbmRpDQpQdXJwb3NlOglUaGUgY2xhc3NYTUxIVFRQUmVxdWVzdEhvb2sNCiovDQoNCmZ1bmN0aW9uIGNsYXNzWE1MSFRUUFJlcXVlc3RIb29rKGFYTUxIdHRwUmVxdWVzdCwgb2JqQ29va2llLCBvYmpIZWFkZXJzLCBpbnRSZWRpcmVjdGlvbkxpbWl0LCBib29sRGVsZXRlT3JpZ2luYWxDb29raWUsIGJvb2xEZWxldGVPcmlnaW5hbEhlYWRlcnMpDQp7DQoJDQoJdGhpcy5vYmpDb29raWUgPSAob2JqQ29va2llID09IG51bGwpID8gbnVsbCA6IG9iakNvb2tpZTsNCiAgICB0aGlzLm9iakhlYWRlcnMgPSAob2JqSGVhZGVycyA9PSBudWxsKSA/IG51bGwgOiBvYmpIZWFkZXJzOw0KICAgIA0KICAgIHRoaXMuaW50UmVkaXJlY3Rpb25MaW1pdCA9IChpbnRSZWRpcmVjdGlvbkxpbWl0ID09IG51bGwpID8gMjAgOiBpbnRSZWRpcmVjdGlvbkxpbWl0Ow0KCXRoaXMuYm9vbERlbGV0ZU9yaWdpbmFsQ29va2llID0gKGJvb2xEZWxldGVPcmlnaW5hbENvb2tpZSA9PSBudWxsKSA/IGZhbHNlIDogYm9vbERlbGV0ZU9yaWdpbmFsQ29va2llOw0KICAgIHRoaXMuYm9vbERlbGV0ZU9yaWdpbmFsSGVhZGVycyA9IChib29sRGVsZXRlT3JpZ2luYWxIZWFkZXJzID09IG51bGwpID8gZmFsc2UgOiBib29sRGVsZXRlT3JpZ2luYWxIZWFkZXJzOw0KICAgIA0KICAgIHRoaXMuWE1MSHR0cFJlcXVlc3QgPSBhWE1MSHR0cFJlcXVlc3Q7DQogICAgDQogICAgdGhpcy5jaGFubmVsXyA9IGFYTUxIdHRwUmVxdWVzdC5jaGFubmVsOw0KICAgIC8vIGhhcHBlbnMgYWZ0ZXIgdGhlIGNvb2tpZSBkYXRhIGhhcyBiZWVuIGxvYWRlZCBpbnRvIHRoZSByZXF1ZXN0IGJ1dCBiZWZvcmUgdGhlIHJlcXVlc3QgaXMgc2VudA0KICAgIHRoaXMudG9waWNfID0gImh0dHAtb24tbW9kaWZ5LXJlcXVlc3QiOw0KICAgIHRoaXMub2JzZXJ2ZXJTZXJ2aWNlXyA9IENvbXBvbmVudHMuY2xhc3Nlc1siQG1vemlsbGEub3JnL29ic2VydmVyLXNlcnZpY2U7MSJdLmdldFNlcnZpY2UoQ29tcG9uZW50cy5pbnRlcmZhY2VzLm5zSU9ic2VydmVyU2VydmljZSk7DQogICAgdGhpcy5vYnNlcnZlclNlcnZpY2VfLmFkZE9ic2VydmVyKHRoaXMsIHRoaXMudG9waWNfLCBmYWxzZSAvKiBob2xkIGEgc3Ryb25nIHJlZmVyZW5jZSAqLyk7DQogICAgdGhpcy5saWZlVGltZSA9IG5ldyBTY2hlZHVsZXIodGhpcy5kaWUsIDE1MDAwKTsgDQp9DQoNCmNsYXNzWE1MSFRUUFJlcXVlc3RIb29rLnByb3RvdHlwZS5RdWVyeUludGVyZmFjZSA9IGZ1bmN0aW9uKGlpZCkNCnsNCiAgICBpZiAoICAgaWlkLmVxdWFscyhDb21wb25lbnRzLmludGVyZmFjZXMubnNJU3VwcG9ydHMpIHx8IGlpZC5lcXVhbHMoQ29tcG9uZW50cy5pbnRlcmZhY2VzLm5zSU9ic2VydmVyKSkNCiAgICAgICAgcmV0dXJuIHRoaXM7DQogICAgdGhyb3cgQ29tcG9uZW50cy5yZXN1bHRzLk5TX0VSUk9SX05PX0lOVEVSRkFDRTsNCn0NCg0KY2xhc3NYTUxIVFRQUmVxdWVzdEhvb2sucHJvdG90eXBlLm9ic2VydmUgPSBmdW5jdGlvbihzdWJqZWN0LCB0b3BpYywgZGF0YSkNCnsNCiAgICBpZiAodG9waWMgIT0gdGhpcy50b3BpY18gfHwgc3ViamVjdCAhPSB0aGlzLmNoYW5uZWxfKQ0KICAgICAgICByZXR1cm47DQogICAgDQoJdGhpcy5jaGFubmVsXy5RdWVyeUludGVyZmFjZShDb21wb25lbnRzLmludGVyZmFjZXMubnNJSHR0cENoYW5uZWwpOw0KICAgIA0KICAgIHRoaXMuY2hhbm5lbF8ucmVkaXJlY3Rpb25MaW1pdCA9IHRoaXMuaW50UmVkaXJlY3Rpb25MaW1pdDsNCgl0aGlzLmludFJlZGlyZWN0aW9uTGltaXQtLTsNCiAgICANCiAgICBpZiAodGhpcy5ib29sRGVsZXRlT3JpZ2luYWxDb29raWUpDQogICAgICAgICAgICB0aGlzLmNoYW5uZWxfLnNldFJlcXVlc3RIZWFkZXIoIkNvb2tpZSIsICIiLCBmYWxzZSk7DQoJDQogICAgaWYodGhpcy5vYmpDb29raWUgIT0gbnVsbCkNCiAgICB7DQogICAgICAgIHRoaXMuY2hhbm5lbF8uc2V0UmVxdWVzdEhlYWRlcigiQ29va2llIiwgdGhpcy5vYmpDb29raWUudG9TdHJpbmcoKSwgdHJ1ZSk7DQogICAgfQ0KICAgICAgICAgICAgDQogICAgaWYodGhpcy5ib29sRGVsZXRlT3JpZ2luYWxIZWFkZXJzKQ0KICAgIHsNCiAgICAgICAgdmFyIHZpc2l0b3IgPSB7dmFsdWUgOiBuZXcgQXJyYXkoKSwgdmlzaXRIZWFkZXI6IGZ1bmN0aW9uKGEsYikgeyB0aGlzLnZhbHVlLnB1c2goYSk7fX07DQogICAgICAgIHRoaXMuY2hhbm5lbF8udmlzaXRSZXF1ZXN0SGVhZGVycyh2aXNpdG9yKTsNCiAgICAgICAgZm9yKHZhciBpID0gMCA7IGk8IHZpc2l0b3IudmFsdWUubGVuZ3RoOyBpKyspDQogICAgICAgIHsNCiAgICAgICAgICAgIGlmKHZpc2l0b3IudmFsdWVbaV0udG9Mb3dlckNhc2UgPT0gImNvb2tpZSIpDQogICAgICAgICAgICAgICAgY29udGludWU7DQogICAgICAgICAgICB0aGlzLmNoYW5uZWxfLnNldFJlcXVlc3RIZWFkZXIodmlzaXRvci52YWx1ZVtpXSwiIixmYWxzZSk7DQogICAgICAgIH0gICAgICAgICAgICAgICAgDQogICAgfQ0KICAgIA0KICAgIGlmKHRoaXMub2JqSGVhZGVycyAhPSBudWxsKQ0KICAgIHsNCiAgICAgICAgZm9yKHZhciBpID0gMDsgaSA8IHRoaXMub2JqSGVhZGVycy5hcnJheVBhcmFtZXRlcnMubGVuZ3RoOyBpKyspDQogICAgICAgICAgICB0aGlzLmNoYW5uZWxfLnNldFJlcXVlc3RIZWFkZXIodGhpcy5vYmpIZWFkZXJzLkdldFBhcmFtZXRlck5hbWUoaSksIHRoaXMub2JqSGVhZGVycy5HZXRQYXJhbWV0ZXJWYWx1ZShpKSwgZmFsc2UpOw0KICAgIH0NCiAgICAgICAgDQogICAgdmlzaXRvciA9IHt2YWx1ZSA6IG5ldyBTdHJpbmcoKSwgdmlzaXRIZWFkZXI6IGZ1bmN0aW9uKGEsYikgeyB0aGlzLnZhbHVlID0gdGhpcy52YWx1ZSArIGEgKyAnOiAnICsgYiArICdcclxuJzt9fTsNCiAgICB0aGlzLmNoYW5uZWxfLnZpc2l0UmVxdWVzdEhlYWRlcnModmlzaXRvcik7DQogICAgdGhpcy5YTUxIdHRwUmVxdWVzdC5zdHJSZXF1ZXN0SGVhZGVycyA9IHZpc2l0b3IudmFsdWU7DQoJCQkNCiAgICB0aGlzLmxpZmVUaW1lLnN0b3AoKTsNCiAgICB0aGlzLmRpZSgpOw0KfQ0KDQpjbGFzc1hNTEhUVFBSZXF1ZXN0SG9vay5wcm90b3R5cGUuZGllID0gZnVuY3Rpb24oKQ0Kew0KICAgIHRoaXMub2JzZXJ2ZXJTZXJ2aWNlXy5yZW1vdmVPYnNlcnZlcih0aGlzLCB0aGlzLnRvcGljXyk7IC8vIGF2b2lkIG1lbW9yeSBsZWFrcw0KICAgIGRlbGV0ZSh0aGlzLmNoYW5uZWxfKTsNCiAgICBkZWxldGUodGhpcy5sdW5jaFRpbWVfKTsNCiAgICBkZWxldGUodGhpcy5vYnNlcnZlclNlcnZpY2VfKTsNCn0NCg0KLyoNCiAgICBBIHNjaGVkdWxlciBmb3IgZXhlY3V0aW5nIGEgZnVuY3Rpb24gKGNhbGxiYWNrKSBhZnRlciBhIHNwZWNpZmllZCBhbW91bnQgb2YgdGltZS4NCiAgICBGaXJzdCBwYXJhbWV0ZXI6ICAgIGZ1bmN0aW9uIHZhcmlhYmxlLCBleGVjdXRpbmcgb24gZXZlcnkgYmVhdA0KICAgIFNlY29uZCBwYXJhbWV0ZXI6ICAgdGltZSAoaW4gbXMpIGFmdGVyIHdoaWNoIHRoZSBzdXBwbGllZCBmdW5jdGlvbiBpcyBjYWxsZWQNCiovDQpmdW5jdGlvbiBTY2hlZHVsZXIoY2FsbGJhY2ssIGNhbGxBZnRlcl9NUykNCnsNCiAgICB0aGlzLmNhbGxiYWNrXyA9IGNhbGxiYWNrOw0KDQogICAgLy8gZ2V0IGEgdGltZXINCiAgICB0aGlzLnRpbWVyXyA9IENvbXBvbmVudHMuY2xhc3Nlc1siQG1vemlsbGEub3JnL3RpbWVyOzEiXS5jcmVhdGVJbnN0YW5jZShDb21wb25lbnRzLmludGVyZmFjZXMubnNJVGltZXIpOw0KDQogICAgLy8gd2Ugd2FudCB0byBzdG9wIHRoZSBiZWF0IG9uIHNodXRkb3duDQogICAgdmFyIG9ic2VydmVyU2VydmljZSA9IENvbXBvbmVudHMuY2xhc3Nlc1siQG1vemlsbGEub3JnL29ic2VydmVyLXNlcnZpY2U7MSJdLmdldFNlcnZpY2UoQ29tcG9uZW50cy5pbnRlcmZhY2VzLm5zSU9ic2VydmVyU2VydmljZSk7DQogICAgb2JzZXJ2ZXJTZXJ2aWNlLmFkZE9ic2VydmVyKHRoaXMsICJ4cGNvbS1zaHV0ZG93biIsIGZhbHNlKTsNCg0KICAgIC8vIGluaXRpYWxpemUgdGhlIHRpbWVyIHRvIGZpcmUgYWZ0ZXIgdGhlIGdpdmVuIG1zIGludGVydmFsDQogICAgdGhpcy50aW1lcl8uaW5pdFdpdGhDYWxsYmFjayh0aGlzLCBjYWxsQWZ0ZXJfTVMsIHRoaXMudGltZXJfLlRZUEVfT05FX1NIT1QpOw0KfQ0KDQoNClNjaGVkdWxlci5wcm90b3R5cGUuUXVlcnlJbnRlcmZhY2UgPSBmdW5jdGlvbihpaWQpDQp7DQogICAgaWYgKCAgIGlpZC5lcXVhbHMoQ29tcG9uZW50cy5pbnRlcmZhY2VzLm5zSVN1cHBvcnRzKQ0KICAgICAgICB8fCBpaWQuZXF1YWxzKENvbXBvbmVudHMuaW50ZXJmYWNlcy5uc0lUaW1lckNhbGxiYWNrKQ0KICAgICAgICB8fCBpaWQuZXF1YWxzKENvbXBvbmVudHMuaW50ZXJmYWNlcy5uc0lPYnNlcnZlcikpDQogICAgICAgIHJldHVybiB0aGlzOw0KICAgIHRocm93IENvbXBvbmVudHMucmVzdWx0cy5OU19FUlJPUl9OT19JTlRFUkZBQ0U7DQp9DQoNClNjaGVkdWxlci5wcm90b3R5cGUub2JzZXJ2ZSA9IGZ1bmN0aW9uKGFTdWJqZWN0LCBhVG9waWMsIGFEYXRhKQ0Kew0KICAgIC8vIHN0b3AgdGhlIGJlYXQgb24gc2h1dGRvd24gKHNlZSBodHRwOi8vd2lraS5tb3ppbGxhLm9yZy9YUENPTV9TaHV0ZG93bikNCiAgICBpZiAoYVRvcGljID09ICJ4cGNvbS1zaHV0ZG93biIpDQogICAgICAgIHRoaXMuc3RvcCgpOw0KfQ0KDQpTY2hlZHVsZXIucHJvdG90eXBlLnN0b3AgPSBmdW5jdGlvbigpDQp7DQogICAgaWYgKHRoaXMudGltZXJfKSB7DQogICAgICAgIC8vIHN0b3AgdGhlIHRpbWViZWF0IGFuZCByZW1vdmUgdGhlIG9ic2VydmVyDQogICAgICAgIHRoaXMudGltZXJfLmNhbmNlbCgpOw0KICAgICAgICB0aGlzLnRpbWVyXyA9IG51bGw7DQogICAgICAgIHRoaXMuY2FsbGJhY2tfID0gbnVsbDsNCiAgICAgICAgdmFyIG9ic2VydmVyU2VydmljZSA9IENvbXBvbmVudHMuY2xhc3Nlc1siQG1vemlsbGEub3JnL29ic2VydmVyLXNlcnZpY2U7MSJdLmdldFNlcnZpY2UoQ29tcG9uZW50cy5pbnRlcmZhY2VzLm5zSU9ic2VydmVyU2VydmljZSk7DQogICAgICAgIG9ic2VydmVyU2VydmljZS5yZW1vdmVPYnNlcnZlcih0aGlzLCAieHBjb20tc2h1dGRvd24iKTsNCiAgICB9DQp9DQoNClNjaGVkdWxlci5wcm90b3R5cGUubm90aWZ5ID0gZnVuY3Rpb24oYVRpbWVyKQ0Kew0KICAgIHRoaXMuY2FsbGJhY2tfKCk7DQogICAgdGhpcy5zdG9wKCk7DQp9')); ]]></script>
<script><![CDATA[ eval(atob('LyoNCkF1dGhvcjoJCUF0dGlsYSBHZXJlbmRpDQpQdXJwb3NlOglUaGUgY2xhc3NSZXF1ZXN0Q29sZWN0aW9uLCB0aGlzIGNsYXNzIGltcGxlbWVudHMgdGhlIHJlcXVlc3QgY29sbGVjdGlvbiBmcm9tIHRoZSB0ZXN0ZWQgcGFnZQ0KKi8NCg0KZnVuY3Rpb24gY2xhc3NSZXF1ZXN0Q29sZWN0aW9uKCkNCnsNCgl0aGlzLmFycmF5UmVxdWVzdHMgPSBuZXcgQXJyYXkoKTsNCg0KCXRoaXMuZ2V0UmVxdWVzdFBhcmFtZXRlcldpdGhHaXZlbklkID0gZnVuY3Rpb24oaW50SUQpDQoJew0KCQl2YXIgcmVxdWVzdFBhcmFtID0gbnVsbDsNCgkJZm9yKHZhciBpID0gMDsgaSA8IGFjdW5ldGl4d2Vic2Nhbm5lci5vYmpSZXF1ZXN0Q29sbGVjdGlvbi5hcnJheVJlcXVlc3RzLmxlbmd0aDsgaSsrKQ0KCQl7DQoJCQlyZXF1ZXN0UGFyYW0gPSBhY3VuZXRpeHdlYnNjYW5uZXIub2JqUmVxdWVzdENvbGxlY3Rpb24uYXJyYXlSZXF1ZXN0c1tpXS5nZXRQYXJhbWV0ZXJXaXRoR2l2ZW5JRChpbnRJRCk7DQoJCQlpZiAocmVxdWVzdFBhcmFtICE9IG51bGwpIA0KCQkJCWJyZWFrOw0KCQl9DQoJCXJldHVybihyZXF1ZXN0UGFyYW0pDQoJfQ0KCQ0KCXRoaXMuc2F2ZVJlcXVlc3QgPSBmdW5jdGlvbihvYmpSZXF1ZXN0KQ0KCXsNCgkJaWYoISBhY3VuZXRpeHdlYnNjYW5uZXIub2JqTW96UHJlZnMuZ2V0Qm9vbFByZWYoImJvb2xFeGNsdWRlRXF1aXZhbGVudFJlcXVlc3QiKSkNCgkJew0KCQkJdGhpcy5hcnJheVJlcXVlc3RzLnB1c2gob2JqUmVxdWVzdCk7DQoJCQlyZXR1cm4odHJ1ZSk7DQoJCX0NCgkJDQoJCWZvcih2YXIgaSA9IDAgOyBpIDwgdGhpcy5hcnJheVJlcXVlc3RzLmxlbmd0aCA7IGkrKykNCgkJew0KCQkJaWYgKHRoaXMuYXJyYXlSZXF1ZXN0c1tpXS5jb21wYXJlV2l0aChvYmpSZXF1ZXN0KSA9PSAiZXF1aXZhbGVudCIpDQoJCQl7DQoJCQkJLy90b2RvOiBtYXliZSBJIGNhbiBwdXQgYSBuZXcgb3B0aW9ucyBoZXJlIGluc3RlYWQgY29tcHJlc3NpbmcgcGFyYW1ldGVycw0KCQkJCWlmKGFjdW5ldGl4d2Vic2Nhbm5lci5vYmpNb3pQcmVmcy5nZXRCb29sUHJlZigiYm9vbEVuYWJsZUFsbENvbWJpbmF0aW9uIikpDQoJCQkJew0KCQkJCQlmb3IodmFyIGogPSAwOyBqIDwgb2JqUmVxdWVzdC5hcnJheVBhcmFtZXRlcnMubGVuZ3RoOyBqKyspDQoJCQkJCXsNCgkJCQkJCXZhciBpbmRleCA9IHRoaXMuYXJyYXlSZXF1ZXN0c1tpXS5oYXZlUmVxdWVzdFBhcmFtZXRlcihvYmpSZXF1ZXN0LmFycmF5UGFyYW1ldGVyc1tqXSk7DQoJCQkJCQlpZihpbmRleCA+PSAwKQ0KCQkJCQkJCXRoaXMuYXJyYXlSZXF1ZXN0c1tpXS5hcnJheVBhcmFtZXRlcnNbaW5kZXhdLmNvbXBhY3RQYXJhbWV0ZXJzKG9ialJlcXVlc3QuYXJyYXlQYXJhbWV0ZXJzW2pdKTsNCgkJCQkJfQ0KCQkJCX0NCgkJCQlyZXR1cm4oZmFsc2UpOw0KCQkJfQ0KCQl9DQoJCXRoaXMuYXJyYXlSZXF1ZXN0cy5wdXNoKG9ialJlcXVlc3QpOw0KCQlyZXR1cm4odHJ1ZSk7DQoJfQ0KDQoJdGhpcy5leHRyYWN0UmVxdWVzdENvbGxlY3Rpb25Gcm9tUGFnZSA9IGZ1bmN0aW9uKG9ialBhZ2VEb2N1bWVudCwgb2JqT3JpZ2luYWxQYWdlRG9jdW1lbnQpDQoJew0KCQlsb2dUb0ZpbGUoImNsYXNzUmVxdWVzdENvbGVjdGlvbi9leHRyYWN0UmVxdWVzdENvbGxlY3Rpb25Gcm9tUGFnZSIpOw0KCQkNCgkJaWYgKG9iak9yaWdpbmFsUGFnZURvY3VtZW50ID09IG51bGwpIC8vZmlyc3QgZW50cnkgc28gd2UgaGF2ZSB0byBzYXZlIHRoZSBvcmlnaW5hbCBwYWdlRG9jdW1lbnQNCgkJCW9iak9yaWdpbmFsUGFnZURvY3VtZW50ID0gb2JqUGFnZURvY3VtZW50Ow0KCQkNCgkJdmFyIGZyYW1lcyA9IG9ialBhZ2VEb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiZnJhbWUiKTsNCgkJZm9yICh2YXIgaSA9IDA7IGkgPCBmcmFtZXMubGVuZ3RoOyBpKyspIA0KCQkJdGhpcy5leHRyYWN0UmVxdWVzdENvbGxlY3Rpb25Gcm9tUGFnZShmcmFtZXNbaV0uY29udGVudERvY3VtZW50LCBvYmpPcmlnaW5hbFBhZ2VEb2N1bWVudCk7DQoJCQkNCgkJdmFyIGZyYW1lcyA9IG9ialBhZ2VEb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaWZyYW1lIik7DQoJCWZvciAodmFyIGkgPSAwOyBpIDwgZnJhbWVzLmxlbmd0aDsgaSsrKSANCgkJCXRoaXMuZXh0cmFjdFJlcXVlc3RDb2xsZWN0aW9uRnJvbVBhZ2UoZnJhbWVzW2ldLmNvbnRlbnREb2N1bWVudCwgb2JqT3JpZ2luYWxQYWdlRG9jdW1lbnQpOw0KDQoJCWlmKGFjdW5ldGl4d2Vic2Nhbm5lci5vYmpNb3pQcmVmcy5nZXRCb29sUHJlZigiYm9vbFJlcXVlc3RFeHRyYWN0b3JSdWxlRXh0cmFjdEZvcm1zIikpDQoJCXsNCgkJCXZhciBlbGVtZW50cyA9IG9ialBhZ2VEb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiZm9ybSIpOwkJDQoJCQlmb3IgKHZhciBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSANCgkJCXsNCgkJCQl2YXIgcmVxdWVzdCA9IG5ldyBjbGFzc1JlcXVlc3RDb250YWluZXIob2JqUGFnZURvY3VtZW50LCBvYmpPcmlnaW5hbFBhZ2VEb2N1bWVudCk7DQoJCQkJcmVxdWVzdC5mZWVkQ29udGFpbmVyRnJvbUZvcm0oZWxlbWVudHNbaV0pOw0KCQkJCWlmIChyZXF1ZXN0LmFycmF5UGFyYW1ldGVycy5sZW5ndGggPiAwKQ0KCQkJCQl0aGlzLnNhdmVSZXF1ZXN0KHJlcXVlc3QpOw0KCQkJfQ0KCQl9DQoNCgkJaWYoYWN1bmV0aXh3ZWJzY2FubmVyLm9iak1velByZWZzLmdldEJvb2xQcmVmKCJib29sUmVxdWVzdEV4dHJhY3RvclJ1bGVFeHRyYWN0QW5jaG9ycyIpKQ0KCQl7DQoJCQl2YXIgZWxlbWVudHMgPSBvYmpQYWdlRG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImEiKTsNCgkJCWZvciAodmFyIGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoOyBpKyspIA0KCQkJew0KCQkJCXZhciByZXF1ZXN0ID0gbmV3IGNsYXNzUmVxdWVzdENvbnRhaW5lcihvYmpQYWdlRG9jdW1lbnQsIG9iak9yaWdpbmFsUGFnZURvY3VtZW50KTsNCgkJCQlyZXF1ZXN0LmZlZWRDb250YWluZXJGcm9tRWxlbWVudFdpdGhSZWZlcmVuY2UoZWxlbWVudHNbaV0sImhyZWYiLCJhIik7DQoJCQkJaWYgKHJlcXVlc3QuYXJyYXlQYXJhbWV0ZXJzLmxlbmd0aCA+IDApDQoJCQkJCXRoaXMuc2F2ZVJlcXVlc3QocmVxdWVzdCk7DQoJCQl9DQoJCX0NCgkJDQoJCWlmKGFjdW5ldGl4d2Vic2Nhbm5lci5vYmpNb3pQcmVmcy5nZXRCb29sUHJlZigiYm9vbFJlcXVlc3RFeHRyYWN0b3JSdWxlRXh0cmFjdEltYWdlcyIpKQ0KCQl7DQoJCQl2YXIgZWxlbWVudHMgPSBvYmpQYWdlRG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoImltZyIpOw0KCQkJZm9yICh2YXIgaSA9IDA7IGkgPCBlbGVtZW50cy5sZW5ndGg7IGkrKykgDQoJCQl7DQoJCQkJdmFyIHJlcXVlc3QgPSBuZXcgY2xhc3NSZXF1ZXN0Q29udGFpbmVyKG9ialBhZ2VEb2N1bWVudCwgb2JqT3JpZ2luYWxQYWdlRG9jdW1lbnQpOw0KCQkJCXJlcXVlc3QuZmVlZENvbnRhaW5lckZyb21FbGVtZW50V2l0aFJlZmVyZW5jZShlbGVtZW50c1tpXSwic3JjIiwiaW1nIik7DQoJCQkJaWYgKHJlcXVlc3QuYXJyYXlQYXJhbWV0ZXJzLmxlbmd0aCA+IDApDQoJCQkJCXRoaXMuc2F2ZVJlcXVlc3QocmVxdWVzdCk7DQoJCQl9DQoJCX0NCg0KCQlpZihhY3VuZXRpeHdlYnNjYW5uZXIub2JqTW96UHJlZnMuZ2V0Qm9vbFByZWYoImJvb2xSZXF1ZXN0RXh0cmFjdG9yUnVsZUV4dHJhY3RTY3JpcHRzIikpDQoJCXsNCgkJCXZhciBlbGVtZW50cyA9IG9ialBhZ2VEb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgic2NyaXB0Iik7DQoJCQlmb3IgKHZhciBpID0gMDsgaSA8IGVsZW1lbnRzLmxlbmd0aDsgaSsrKSANCgkJCXsNCgkJCQl2YXIgcmVxdWVzdCA9IG5ldyBjbGFzc1JlcXVlc3RDb250YWluZXIob2JqUGFnZURvY3VtZW50LCBvYmpPcmlnaW5hbFBhZ2VEb2N1bWVudCk7DQoJCQkJcmVxdWVzdC5mZWVkQ29udGFpbmVyRnJvbUVsZW1lbnRXaXRoUmVmZXJlbmNlKGVsZW1lbnRzW2ldLCJzcmMiLCJzY3JpcHQiKTsNCgkJCQlpZiAocmVxdWVzdC5hcnJheVBhcmFtZXRlcnMubGVuZ3RoID4gMCkNCgkJCQkJdGhpcy5zYXZlUmVxdWVzdChyZXF1ZXN0KTsNCgkJCX0NCgkJfQ0KCX0JDQoJDQoJdGhpcy5kZWxldGVDaGlsZE5vZGVzID0gZnVuY3Rpb24oY29udGFpbmVyKQ0KCXsNCgkJdmFyIHRtcEVsZW0sIGVsZW0gPSBjb250YWluZXIuZmlyc3RDaGlsZDsNCgkJd2hpbGUoZWxlbSkNCgkJew0KCQkJdG1wRWxlbSA9IGVsZW07DQoJCQllbGVtID0gZWxlbS5uZXh0U2libGluZzsNCgkJCWlmICh0bXBFbGVtLm5vZGVOYW1lID09ICJncm91cGJveCIpDQoJCQkJY29udGFpbmVyLnJlbW92ZUNoaWxkKHRtcEVsZW0pOw0KCQl9DQoJfQ0KDQoJdGhpcy5nZXRSZXF1ZXN0V2l0aEdpdmVuSUQgPSBmdW5jdGlvbihzdHJJZCkNCgl7DQoJCWZvciggaSA9IDA7IGkgPCB0aGlzLmFycmF5UmVxdWVzdHMubGVuZ3RoOyBpKyspDQoJCQlpZih0aGlzLmFycmF5UmVxdWVzdHNbaV0uc3RySWQgPT0gc3RySWQpDQoJCQkJcmV0dXJuKHRoaXMuYXJyYXlSZXF1ZXN0c1tpXSk7DQoJCXJldHVybihudWxsKTsNCgl9DQoJDQoJdGhpcy5yZW5kZXJSZXF1ZXN0ID0gZnVuY3Rpb24oY29udGFpbmVyLGl0ZW1zKQ0KCXsNCgkJaXRlbXMgPSAoaXRlbXMgPT0gbnVsbCkgPyB0aGlzLmFycmF5UmVxdWVzdHMgOiBpdGVtczsNCgkJdmFyIGksIHJldHZhbDsNCgkJdGhpcy5kZWxldGVDaGlsZE5vZGVzKGNvbnRhaW5lcik7DQoJCXZhciByZXF1ZXN0Qm94ZXMgPSBjb250YWluZXIuZ2V0RWxlbWVudEJ5DQoJCWZvcihpID0gMDsgaSA8IGl0ZW1zLmxlbmd0aDsgaSsrKQ0KCQl7DQoJCQlyZXR2YWwgPSBpdGVtc1tpXS5yZW5kZXIoKTsNCgkJCWlmIChyZXR2YWwgIT0gIiIpDQoJCQkJYWRkWFVMRWxlbWVudHNDaGlsZHNGcm9tU3RyaW5nKGNvbnRhaW5lcixyZXR2YWwpOw0KCQl9DQoJfQ0KfQ==')); ]]></script>
<script><![CDATA[ eval(atob('LyoNCkF1dGhvcjoJCUF0dGlsYSBHZXJlbmRpDQpQdXJwb3NlOglUaGUgY2xhc3NSZXF1ZXN0Q29udGFpbmVyLCB0aGlzIGNsYXNzIGltcGxlbWVudHMgdGhlIHJlcXVlc3QNCiovDQoNCmZ1bmN0aW9uIGNsYXNzUmVxdWVzdENvbnRhaW5lcihvYmpQYWdlRG9jdW1lbnQsIG9iak9yaWdpbmFsUGFnZURvY3VtZW50KSANCnsNCgl0aGlzLmFycmF5UGFyYW1ldGVycwkJPSBuZXcgQXJyYXkoKTsNCgl0aGlzLnN0cklkCQkJCQk9IG5ldyBTdHJpbmcoKTsNCgl0aGlzLnN0ck5hbWUJCQkJPSBuZXcgU3RyaW5nKCk7DQoJdGhpcy5zdHJSZXF1ZXN0TWV0aG9kCQk9IG5ldyBTdHJpbmcoKTsNCgl0aGlzLnN0clJlcXVlc3RPcmlnaW4JCT0gIiI7DQoJdGhpcy5vYmpQYWdlRG9jdW1lbnQJCT0gb2JqUGFnZURvY3VtZW50Ow0KCXRoaXMuYXJyYXlUZXN0UmVzdWx0cwkJPSBuZXcgQXJyYXkoKTsNCgl0aGlzLmFycmF5T2ZHZW5lcmF0ZWRUZXN0Q29tYmluYXRpb25zCQkJPSBuZXcgQXJyYXkoKTsNCgl0aGlzLmludENvbWJpbmF0aW9uCQkJPSAwOw0KCXRoaXMuaW50U3ViQ29tYmluYXRpb24JCT0gMDsNCg0KCXRoaXMub2JqQWN0aW9uCQkJCT0gbmV3IGNsYXNzVXJsUGFyc2VyKCk7DQoJdGhpcy5zdHJEb2N1bWVudExvY2F0aW9uCT0gb2JqUGFnZURvY3VtZW50LmxvY2F0aW9uOw0KCQ0KCWlmKG9iak9yaWdpbmFsUGFnZURvY3VtZW50ID09IG51bGwpIG9iak9yaWdpbmFsUGFnZURvY3VtZW50ID0gb2JqUGFnZURvY3VtZW50Ow0KCQ0KCXRoaXMuc3RyT3JpZ2luYWxMb2NhdGlvbgk9IG9iak9yaWdpbmFsUGFnZURvY3VtZW50LmxvY2F0aW9uOw0KDQoJdGhpcy5vYmpSZXF1ZXN0Q29tYmluYXRpb25zID0gbmV3IGNsYXNzQ29tYmluYXRpb25HZW5lcmF0b3IoKTsNCg0KCQkNCgl0aGlzLmV4dHJhY3RDb29raWVQYXJhbXMgPSBmdW5jdGlvbigpDQoJew0KCQlpZiAodGhpcy5vYmpQYWdlRG9jdW1lbnQuY29va2llID09ICIiKQ0KCQkJcmV0dXJuOw0KCQl2YXIgYXJyYXlDb29raWVzID0gdGhpcy5vYmpQYWdlRG9jdW1lbnQuY29va2llLnNwbGl0KCc7Jyk7DQoJCWZvcih2YXIgaSA9IDA7IGkgPCBhcnJheUNvb2tpZXMubGVuZ3RoOyBpKyspDQoJCXsNCgkJCXZhciBjb29raWUgPSBhcnJheUNvb2tpZXNbaV0uc3BsaXQoJz0nLDIpOw0KCQkJaWYgKGNvb2tpZS5sZW5ndGggPCAyKSBjb29raWUucHVzaCgnJyk7DQoJCQkNCgkJCXZhciBvYmpSZXFQYXJhbSAJCQk9IG5ldyBjbGFzc1JlcXVlc3RQYXJhbWV0ZXIoKTsNCgkJCW9ialJlcVBhcmFtLnN0cklkCQkJPSBnZXRFbGVtZW50SURPckdlbmVyYXRlT25lKCk7DQoJCQlvYmpSZXFQYXJhbS5pbnRJRAkJCT0gYWN1bmV0aXh3ZWJzY2FubmVyLmludFBhcmFtZXRlckluZGV4ICsrOw0KCQkJb2JqUmVxUGFyYW0uc3RyTmFtZQkJCT0gY29va2llWzBdLnJlcGxhY2UoL15ccyt8XHMrJC9nLCIiKTsNCgkJCW9ialJlcVBhcmFtLnN0clR5cGUJCQk9ICJjb29raWUiOw0KCQkJb2JqUmVxUGFyYW0uc3RyUmVxdWVzdFR5cGUJPSAiQ09PS0lFIjsNCgkJCW9ialJlcVBhcmFtLmFycmF5VXNlclNlbGVjdGVkVmFsdWVzLnB1c2goY29va2llWzFdLnJlcGxhY2UoL15ccyt8XHMrJC9nLCIiKSk7DQoJCQlvYmpSZXFQYXJhbS5hcnJheVNlbGVjdGFibGVWYWx1ZXMucHVzaChjb29raWVbMV0ucmVwbGFjZSgvXlxzK3xccyskL2csIiIpKTsNCgkJCW9ialJlcVBhcmFtLmJvb2xNdWx0aXBsZVNlbGVjdGlvbkNvbnRyb2xsCT0gZmFsc2U7DQoJCQlvYmpSZXFQYXJhbS5ib29sU2VuZFBhcmFtZXRlcgkJCQk9IHRydWU7DQoJCQl0aGlzLmFkZE5ld1JlcXVlc3RQYXJyYW1ldGVyKG9ialJlcVBhcmFtKTsNCgkJfQ0KCX0NCgkNCgl0aGlzLmluc2VydEhlYWRlVmFyaWFibGVzID0gZnVuY3Rpb24oKQ0KCXsNCgkJaWYoYWN1bmV0aXh3ZWJzY2FubmVyLm9iak1velByZWZzLmdldEJvb2xQcmVmKCJib29sUmVxdWVzdEV4dHJhY3RvclJ1bGVFeHRyYWN0VXNlckFnZW50IikpDQoJCXsNCgkJCW9ialJlcVBhcmFtIAkJCQkgCQkJPSBuZXcgY2xhc3NSZXF1ZXN0UGFyYW1ldGVyKCk7DQoJCQlvYmpSZXFQYXJhbS5zdHJJZCAJCSAJCQkJPSBnZXRFbGVtZW50SURPckdlbmVyYXRlT25lKCk7DQoJCQlvYmpSZXFQYXJhbS5pbnRJRAkJCQkJCT0gYWN1bmV0aXh3ZWJzY2FubmVyLmludFBhcmFtZXRlckluZGV4ICsrOw0KCQkJb2JqUmVxUGFyYW0uc3RyVHlwZSAJCSAJCQk9ICJoZWFkZXIiOw0KCQkJb2JqUmVxUGFyYW0uc3RyUmVxdWVzdFR5cGUgCQkJCT0gIkhFQURFUlMiOw0KCQkJb2JqUmVxUGFyYW0uYm9vbE11bHRpcGxlU2VsZWN0aW9uQ29udHJvbGwgPSBmYWxzZTsNCgkJCW9ialJlcVBhcmFtLmJvb2xTZW5kUGFyYW1ldGVyIAkJCT0gdHJ1ZTsNCgkJCW9ialJlcVBhcmFtLnN0ck5hbWUgCQkgCQkJPSAiVXNlci1BZ2VudCI7DQoJCQlvYmpSZXFQYXJhbS5hcnJheVVzZXJTZWxlY3RlZFZhbHVlcy5wdXNoKCJNb3ppbGxhLzUuMCAoV2luZG93czsgVTsgV2luZG93cyBOVCA1LjE7IGVuLVVTOyBydjoxLjguMS40KSBHZWNrby8yMDA3MDUxNSBGaXJlZm94LzIuMC4wLjQiKTsNCgkJCW9ialJlcVBhcmFtLmFycmF5U2VsZWN0YWJsZVZhbHVlcy5wdXNoKCJNb3ppbGxhLzUuMCAoV2luZG93czsgVTsgV2luZG93cyBOVCA1LjE7IGVuLVVTOyBydjoxLjguMS40KSBHZWNrby8yMDA3MDUxNSBGaXJlZm94LzIuMC4wLjQiKTsNCgkJCXRoaXMuYWRkTmV3UmVxdWVzdFBhcnJhbWV0ZXIob2JqUmVxUGFyYW0pOw0KCQl9DQoJCQ0KCQlpZihhY3VuZXRpeHdlYnNjYW5uZXIub2JqTW96UHJlZnMuZ2V0Qm9vbFByZWYoImJvb2xSZXF1ZXN0RXh0cmFjdG9yUnVsZUV4dHJhY3RSZWZlcmVyIikpDQoJCXsNCgkJCW9ialJlcVBhcmFtIAkJCQkgCQkJCT0gbmV3IGNsYXNzUmVxdWVzdFBhcmFtZXRlcigpOw0KCQkJb2JqUmVxUGFyYW0uc3RySWQgCQkgCQkJCQk9IGdldEVsZW1lbnRJRE9yR2VuZXJhdGVPbmUoKTsNCgkJCW9ialJlcVBhcmFtLmludElECQkJCQkJCT0gYWN1bmV0aXh3ZWJzY2FubmVyLmludFBhcmFtZXRlckluZGV4ICsrOw0KCQkJb2JqUmVxUGFyYW0uc3RyVHlwZSAJCSAJCQkJPSAiaGVhZGVyIjsNCgkJCW9ialJlcVBhcmFtLnN0clJlcXVlc3RUeXBlIAkJCQkJPSAiSEVBREVSUyI7DQoJCQlvYmpSZXFQYXJhbS5ib29sTXVsdGlwbGVTZWxlY3Rpb25Db250cm9sbCA9IGZhbHNlOw0KCQkJb2JqUmVxUGFyYW0uYm9vbFNlbmRQYXJhbWV0ZXIgCQkJCT0gdHJ1ZTsNCgkJCW9ialJlcVBhcmFtLnN0ck5hbWUgCQkgCQkJCT0gIlJlZmVyZXIiOw0KCQkJb2JqUmVxUGFyYW0uYXJyYXlVc2VyU2VsZWN0ZWRWYWx1ZXMucHVzaCh0aGlzLm9ialBhZ2VEb2N1bWVudC5yZWZlcnJlcik7DQoJCQlvYmpSZXFQYXJhbS5hcnJheVNlbGVjdGFibGVWYWx1ZXMucHVzaCh0aGlzLm9ialBhZ2VEb2N1bWVudC5yZWZlcnJlcik7DQoJCQl0aGlzLmFkZE5ld1JlcXVlc3RQYXJyYW1ldGVyKG9ialJlcVBhcmFtKTsNCgkJfQ0KCX0NCg0KCXRoaXMucmVmcmVzaFBhcmFtZXRlcnNEYXRhID0gZnVuY3Rpb24oKQ0KCXsNCgkJZm9yKHZhciBpID0gMCA7IGkgPCB0aGlzLmFycmF5UGFyYW1ldGVycy5sZW5ndGg7IGkrKykNCgkJCXRoaXMucmVhZFBhcmFtZXRlckRhdGEoaSk7ICAgIA0KCX0NCgkNCgl0aGlzLnJlYWRQYXJhbWV0ZXJEYXRhID0gZnVuY3Rpb24oaW50UGFyYW1JbmRleCkNCgl7DQoJCXZhciBlbGVtZW50ID0gb2JqUGFnZURvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuYXJyYXlQYXJhbWV0ZXJzW2ludFBhcmFtSW5kZXhdLnN0cklkKTsNCgkJaWYgKGVsZW1lbnQgPT0gbnVsbCkNCgkJCXJldHVybjsNCgkJCQ0KCQkvL21pY3Jvc29mdCBzdHVmZg0KCQlpZih0aGlzLmFycmF5UGFyYW1ldGVyc1tpbnRQYXJhbUluZGV4XS5zdHJUeXBlID09ICdoaWRkZW4nKQ0KCQl7DQoJCQlpZigJKHRoaXMuYXJyYXlQYXJhbWV0ZXJzW2ludFBhcmFtSW5kZXhdLnN0ck5hbWUgPT0gJ19fRVZFTlRUQVJHRVQnKSB8fA0KCQkJCSh0aGlzLmFycmF5UGFyYW1ldGVyc1tpbnRQYXJhbUluZGV4XS5zdHJOYW1lID09ICdfX0VWRU5UQVJHVU1FTlQnKSB8fA0KCQkJCSh0aGlzLmFycmF5UGFyYW1ldGVyc1tpbnRQYXJhbUluZGV4XS5zdHJOYW1lID09ICdfX1ZJRVdTVEFURScpIHx8DQoJCQkJKHRoaXMuYXJyYXlQYXJhbWV0ZXJzW2ludFBhcmFtSW5kZXhdLnN0ck5hbWUgPT0gJ19fRVZFTlRWQUxJREFUSU9OJykgKQ0KCQkJCXRoaXMuYXJyYXlQYXJhbWV0ZXJzW2ludFBhcmFtSW5kZXhdLmludEVzY2FwZU1ldGhvZCA9IDE7DQoJCX0NCgkJCQ0KCQlzd2l0Y2godGhpcy5hcnJheVBhcmFtZXRlcnNbaW50UGFyYW1JbmRleF0uc3RyVHlwZSkNCgkJew0KCQkJY2FzZSAidGV4dCI6IGNhc2UgInBhc3N3b3JkIjogY2FzZSAiaGlkZGVuIjogY2FzZSAicmVhZG9ubHkiOiBjYXNlICJzdWJtaXQiOg0KCQkJCXRoaXMuYXJyYXlQYXJhbWV0ZXJzW2ludFBhcmFtSW5kZXhdLmFycmF5VXNlclNlbGVjdGVkVmFsdWVzCQk9IG5ldyBBcnJheSgpOw0KCQkJCXRoaXMuYXJyYXlQYXJhbWV0ZXJzW2ludFBhcmFtSW5kZXhdLmFycmF5U2VsZWN0YWJsZVZhbHVlcwk9IG5ldyBBcnJheSgpOw0KCQkJCXRoaXMuYXJyYXlQYXJhbWV0ZXJzW2ludFBhcmFtSW5kZXhdLmFycmF5VXNlclNlbGVjdGVkVmFsdWVzLnB1c2goZWxlbWVudC52YWx1ZSk7DQoJCQkJdGhpcy5hcnJheVBhcmFtZXRlcnNbaW50UGFyYW1JbmRleF0uYXJyYXlTZWxlY3RhYmxlVmFsdWVzLnB1c2goZWxlbWVudC52YWx1ZSk7DQoJCQlicmVhazsNCgkJCWNhc2UgImNoZWNrYm94IjoNCgkJCQl0aGlzLmFycmF5UGFyYW1ldGVyc1tpbnRQYXJhbUluZGV4XS5hcnJheVVzZXJTZWxlY3RlZFZhbHVlcwkJPSBuZXcgQXJyYXkoKTsNCgkJCQl0aGlzLmFycmF5UGFyYW1ldGVyc1tpbnRQYXJhbUluZGV4XS5hcnJheVNlbGVjdGFibGVWYWx1ZXMJPSBuZXcgQXJyYXkoKTsNCgkJCQlpZihlbGVtZW50LmNoZWNrZWQpDQoJCQkJCXRoaXMuYXJyYXlQYXJhbWV0ZXJzW2ludFBhcmFtSW5kZXhdLmFycmF5VXNlclNlbGVjdGVkVmFsdWVzLnB1c2goZWxlbWVudC52YWx1ZSk7CQkJCQ0KCQkJCXRoaXMuYXJyYXlQYXJhbWV0ZXJzW2ludFBhcmFtSW5kZXhdLmFycmF5U2VsZWN0YWJsZVZhbHVlcy5wdXNoKGVsZW1lbnQudmFsdWUpOw0KCQkJCXRoaXMuYXJyYXlQYXJhbWV0ZXJzW2ludFBhcmFtSW5kZXhdLmJvb2xTZW5kUGFyYW1ldGVyCQk9IGVsZW1lbnQuY2hlY2tlZDsNCgkJCWJyZWFrOw0KCQkJY2FzZSAicmFkaW8iOg0KCQkJCXRoaXMuYXJyYXlQYXJhbWV0ZXJzW2ludFBhcmFtSW5kZXhdLmFycmF5VXNlclNlbGVjdGVkVmFsdWVzID0gbmV3IEFycmF5KCk7DQoJCQkJdGhpcy5hcnJheVBhcmFtZXRlcnNbaW50UGFyYW1JbmRleF0uYXJyYXlTZWxlY3RhYmxlVmFsdWVzID0gbmV3IEFycmF5KCk7DQoJCQkJdmFyIGZvcm1FbGVtZW50ID0gb2JqUGFnZURvY3VtZW50LmdldEVsZW1lbnRCeUlkKHRoaXMuc3RySWQpOw0KCQkJCWlmIChmb3JtRWxlbWVudCA9PSBudWxsKQ0KCQkJCQlicmVhazsNCgkJCQl2YXIgZWxlbWVudHMgPSBmb3JtRWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgiaW5wdXQiKTsNCgkJCQlmb3IodmFyIGkgPSAwOyBpIDwgZWxlbWVudHMubGVuZ3RoIDsgaSsrKQ0KCQkJCXsNCgkJCQkJaWYoIWVsZW1lbnRzW2ldLmhhc0F0dHJpYnV0ZSgibmFtZSIpKSBjb250aW51ZTsNCgkJCQkJaWYoIGVsZW1lbnRzW2ldLmdldEF0dHJpYnV0ZSgibmFtZSIpICE9IHRoaXMuYXJyYXlQYXJhbWV0ZXJzW2ludFBhcmFtSW5kZXhdLnN0ck5hbWUpIGNvbnRpbnVlOw0KCQkJCQlpZighZWxlbWVudHNbaV0uaGFzQXR0cmlidXRlKCJ0eXBlIikpIGNvbnRpbnVlOw0KCQkJCQlpZiggZWxlbWVudHNbaV0uZ2V0QXR0cmlidXRlKCJ0eXBlIikudG9Mb3dlckNhc2UoKSAhPSAicmFkaW8iKSBjb250aW51ZTsNCgkJCQkJaWYoIGVsZW1lbnRzW2ldLmNoZWNrZWQpDQoJCQkJCXsNCgkJCQkJCXRoaXMuYXJyYXlQYXJhbWV0ZXJzW2ludFBhcmFtSW5kZXhdLmFycmF5VXNlclNlbGVjdGVkVmFsdWVzID0gbmV3IEFycmF5KCk7DQoJCQkJCQl0aGlzLmFycmF5UGFyYW1ldGVyc1tpbnRQYXJhbUluZGV4XS5hcnJheVVzZXJTZWxlY3RlZFZhbHVlcy5wdXNoKGVsZW1lbnRzW2ldLnZhbHVlKTsNCgkJCQkJfQ0KCQkJCQl0aGlzLmFycmF5UGFyYW1ldGVyc1tpbnRQYXJhbUluZGV4XS5hcnJheVNlbGVjdGFibGVWYWx1ZXMucHVzaChlbGVtZW50c1tpXS52YWx1ZSk7ICAgICAgICAgICAgICAgICAgIA0KCQkJCX0NCgkJCWJyZWFrOw0KCQkJY2FzZSAidGV4dGFyZWEiOg0KCQkJCXRoaXMuYXJyYXlQYXJhbWV0ZXJzW2ludFBhcmFtSW5kZXhdLmFycmF5VXNlclNlbGVjdGVkVmFsdWVzCQk9IG5ldyBBcnJheSgpOw0KCQkJCXRoaXMuYXJyYXlQYXJhbWV0ZXJzW2ludFBhcmFtSW5kZXhdLmFycmF5U2VsZWN0YWJsZVZhbHVlcwk9IG5ldyBBcnJheSgpOw0KCQkJCXRoaXMuYXJyYXlQYXJhbWV0ZXJzW2ludFBhcmFtSW5kZXhdLmFycmF5VXNlclNlbGVjdGVkVmFsdWVzLnB1c2goZWxlbWVudC52YWx1ZSk7DQoJCQkJdGhpcy5hcnJheVBhcmFtZXRlcnNbaW50UGFyYW1JbmRleF0uYXJyYXlTZWxlY3RhYmxlVmFsdWVzLnB1c2goZWxlbWVudC52YWx1ZSk7DQoJCQlicmVhazsNCgkJCWNhc2UgImJ1dHRvbiI6DQoJCQkJdGhpcy5hcnJheVBhcmFtZXRlcnNbaW50UGFyYW1JbmRleF0uYXJyYXlVc2VyU2VsZWN0ZWRWYWx1ZXMJCT0gbmV3IEFycmF5KCk7DQoJCQkJdGhpcy5hcnJheVBhcmFtZXRlcnNbaW50UGFyYW1JbmRleF0uYXJyYXlTZWxlY3RhYmxlVmFsdWVzCT0gbmV3IEFycmF5KCk7DQoJCQkJdGhpcy5hcnJheVBhcmFtZXRlcnNbaW50UGFyYW1JbmRleF0uYXJyYXlVc2VyU2VsZWN0ZWRWYWx1ZXMucHVzaChlbGVtZW50LnZhbHVlKTsNCgkJCQl0aGlzLmFycmF5UGFyYW1ldGVyc1tpbnRQYXJhbUluZGV4XS5hcnJheVNlbGVjdGFibGVWYWx1ZXMucHVzaChlbGVtZW50LnZhbHVlKTsNCgkJCWJyZWFrOw0KCQkJY2FzZSAic2VsZWN0IjoNCgkJCQl0aGlzLmFycmF5UGFyYW1ldGVyc1tpbnRQYXJhbUluZGV4XS5hcnJheVVzZXJTZWxlY3RlZFZhbHVlcwkJPSBuZXcgQXJyYXkoKTsNCgkJCQl0aGlzLmFycmF5UGFyYW1ldGVyc1tpbnRQYXJhbUluZGV4XS5hcnJheVNlbGVjdGFibGVWYWx1ZXMJPSBuZXcgQXJyYXkoKTsNCgkJCQl2YXIgb3B0aW9uRWxlbWVudHMgCT0gZWxlbWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgib3B0aW9uIik7DQoJCQkJZm9yKHZhciBpID0gMDsgaSA8IG9wdGlvbkVsZW1lbnRzLmxlbmd0aDsgaSsrKQ0KCQkJCXsNCgkJCQkJaWYgKG9wdGlvbkVsZW1lbnRzW2ldLnNlbGVjdGVkKQ0KCQkJCQkJdGhpcy5hcnJheVBhcmFtZXRlcnNbaW50UGFyYW1JbmRleF0uYXJyYXlVc2VyU2VsZWN0ZWRWYWx1ZXMucHVzaChvcHRpb25FbGVtZW50c1tpXS52YWx1ZSk7DQoJCQkJCXRoaXMuYXJyYXlQYXJhbWV0ZXJzW2ludFBhcmFtSW5kZXhdLmFycmF5U2VsZWN0YWJsZVZhbHVlcy5wdXNoKG9wdGlvbkVsZW1lbnRzW2ldLnZhbHVlKTsNCgkJCQl9DQoJCQlicmVhazsNCgkJCWNhc2UgImNvb2tpZSI6DQoJCQkJdGhpcy5hcnJheVBhcmFtZXRlcnNbaW50UGFyYW1JbmRleF0uYXJyYXlVc2VyU2VsZWN0ZWRWYWx1ZXMgPSBuZXcgQXJyYXkoKTsNCgkJCQl0aGlzLmFycmF5UGFyYW1ldGVyc1tpbnRQYXJhbUluZGV4XS5hcnJheVNlbGVjdGFibGVWYWx1ZXMgPSBuZXcgQXJyYXkoKTsNCgkJCQlhcnJheUNvb2tpZXMgPSB0aGlzLm9ialBhZ2VEb2N1bWVudC5jb29raWUuc3BsaXQoJzsnKTsNCgkJCQlmb3IodmFyIGkgPSAwOyBpIDwgYXJyYXlDb29raWVzLmxlbmd0aDsgaSsrKQ0KCQkJCXsNCgkJCQkJdmFyIGNvb2tpZSA9IGFycmF5Q29va2llc1tpXS5zcGxpdCgnPScsMik7DQoJCQkJCWlmIChjb29raWUubGVuZ3RoIDwgMikgY29va2llLnB1c2goJycpOw0KCQkJCQl0aGlzLmFycmF5UGFyYW1ldGVyc1tpbnRQYXJhbUluZGV4XS5hcnJheVVzZXJTZWxlY3RlZFZhbHVlcy5wdXNoKGNvb2tpZVsxXS5yZXBsYWNlKC9eXHMrfFxzKyQvZywiIikpOw0KCQkJCQl0aGlzLmFycmF5UGFyYW1ldGVyc1tpbnRQYXJhbUluZGV4XS5hcnJheVNlbGVjdGFibGVWYWx1ZXMucHVzaChjb29raWVbMV0ucmVwbGFjZSgvXlxzK3xccyskL2csIiIpKTsJDQoJCQkJfQ0KCQkJYnJlYWs7DQoJCX0NCgl9DQoNCgl0aGlzLmdldFBhcmFtZXRlcldpdGhHaXZlbklEID0gZnVuY3Rpb24oaW50SUQpDQoJew0KCQlmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5hcnJheVBhcmFtZXRlcnMubGVuZ3RoOyBpKyspDQoJCQlpZih0aGlzLmFycmF5UGFyYW1ldGVyc1tpXS5pbnRJRCA9PSBpbnRJRCkNCgkJCQlyZXR1cm4odGhpcy5hcnJheVBhcmFtZXRlcnNbaV0pOw0KCQlyZXR1cm4obnVsbCk7DQoJfQ0KDQoJdGhpcy5yZWR1Y2VBcnJheVRlc3RMaXN0ID0gZnVuY3Rpb24oaW50SW5kZXhGcm9tLCBpbnRUZXN0SW5kZXgpDQoJew0KCQl2YXIgaSA9IGludEluZGV4RnJvbTsNCgkJd2hpbGUoaSA8IHRoaXMuYXJyYXlPZkdlbmVyYXRlZFRlc3RDb21iaW5hdGlvbnMubGVuZ3RoKQ0KCQl7DQoJCQlpZih0aGlzLmFycmF5T2ZHZW5lcmF0ZWRUZXN0Q29tYmluYXRpb25zW2ldLmludFRlc3RlZFBhcmFtZXRlckluZGV4ID09IGludFRlc3RJbmRleCkNCgkJCXsNCgkJCQl0aGlzLmFycmF5T2ZHZW5lcmF0ZWRUZXN0Q29tYmluYXRpb25zLnNwbGljZShpLDEpOw0KCQkJfQ0KCQkJZWxzZQ0KCQkJew0KCQkJCWkrKzsNCgkJCX0NCgkJfQ0KCQlyZXR1cm4odGhpcy5hcnJheU9mR2VuZXJhdGVkVGVzdENvbWJpbmF0aW9ucy5sZW5ndGgpOw0KCX0NCgkNCgl0aGlzLmdlbmVyYXRlUGFyYW1ldGVyTWFubmlwdWxhdGlvbkNvbWJpbmF0aW9ucyA9IGZ1bmN0aW9uKCkNCgl7DQoJCWxvZ1RvRmlsZSgiZ2VuZXJhdGVQYXJhbWV0ZXJNYW5uaXB1bGF0aW9uQ29tYmluYXRpb25zOiBTdGFydCIpOw0KCQkNCgkJdmFyIGFycmF5UGFyYW1ldGVyQ29tYmluYXRpb25EZXNjcmlwdG9yID0gbmV3IEFycmF5KCk7DQoJCXZhciBpbnRDb21iTnVtYmVyID0gMDsNCgkJDQoJCS8vYm9vbElzU2VsZWN0aW9uRm9yY2VkIGlzIHRydWUgaWYgd2UgaGF2ZSBxdWljayBzY2FuIHdpdGggZXh0ZW5zaXZlIGVuYWJsZWQNCgkJdmFyIGJvb2xJc1NlbGVjdGlvbkZvcmNlZCA9IGFjdW5ldGl4d2Vic2Nhbm5lci5vYmpTY2FubmluZ1Byb2Nlc3NTdGF0dXMuYm9vbElzUXVpY2tTY2FuICYmIGFjdW5ldGl4d2Vic2Nhbm5lci5vYmpNb3pQcmVmcy5nZXRCb29sUHJlZigiYm9vbEVuYWJsZUFsbENvbWJpbmF0aW9uIik7DQoJCQ0KCQkvL3RoaXMgYXJyYXkgY29udGFpbiB0aGUgd2hhdCBjb21iaW5hdGlvbiB2YWx1ZSByZXByZXNlbnQgMCAtIGZpeGVkKCBmcm9tIHVzZXIgc2VsZWN0ZWQgdmFsdWVzKSwgMSAtIHNpbmdsZSBpbmRleCAoZnJvbSBzZWxlY3RhYmxlIHZhbHVlcyksIDIgLSBpbmRleCBncm91cCAoZnJvbSBzZWxlY3RhYmxlIHZhbHVlcykNCgkJdmFyIGFycmF5UGFyYW1ldGVyQ29tYmluYXRpb25UeXBlID0gbmV3IEFycmF5KCk7DQoJCWZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLmFycmF5UGFyYW1ldGVycy5sZW5ndGg7IGkrKykNCgkJew0KCQkJdmFyIGludENvbWJpbmF0aW9uVHlwZSA9IDA7IC8vdXNlciBzZWxlY3RlZA0KCQkJDQoJCQlpZih0aGlzLmFycmF5UGFyYW1ldGVyc1tpXS5hcnJheVNlbGVjdGFibGVWYWx1ZXMubGVuZ3RoID4gMSkNCgkJCXsNCgkJCQlpZih0aGlzLmFycmF5UGFyYW1ldGVyc1tpXS5ib29sU2VsZWN0aW9uQ2hhbmdlYWJsZSkNCgkJCQkJaW50Q29tYmluYXRpb25UeXBlID0gMTsgLy9zaW5nbGUgaW5kZXgNCgkJCQlpZihib29sSXNTZWxlY3Rpb25Gb3JjZWQpDQoJCQkJCWludENvbWJpbmF0aW9uVHlwZSA9IDE7IC8vc2luZ2xlIGluZGV4DQoJCQl9DQoJCQkNCgkJCWlmKHRoaXMuYXJyYXlQYXJhbWV0ZXJzW2ldLmJvb2xNdWx0aXBsZVNlbGVjdGlvbkNvbnRyb2xsKQ0KCQkJew0KCQkJCWlmKGJvb2xJc1NlbGVjdGlvbkZvcmNlZCkNCgkJCQkJaW50Q29tYmluYXRpb25UeXBlID0gMjsgLy9ncm91cCBpbmRleA0KCQkJCWlmKHRoaXMuYXJyYXlQYXJhbWV0ZXJzW2ldLmJvb2xTZWxlY3Rpb25DaGFuZ2VhYmxlKQ0KCQkJCQlpZih0aGlzLmFycmF5UGFyYW1ldGVyc1tpXS5ib29sQWxsb3dNdWx0aXBsZVNlbGVjdGlvbikNCgkJCQkJCWludENvbWJpbmF0aW9uVHlwZSA9IDI7IC8vZ3JvdXAgaW5kZXgNCgkJCX0NCgkJCQ0KCQkJYXJyYXlQYXJhbWV0ZXJDb21iaW5hdGlvblR5cGUucHVzaChpbnRDb21iaW5hdGlvblR5cGUpOw0KCQl9DQoJCQ0KCQlsb2dUb0ZpbGUoImdlbmVyYXRlUGFyYW1ldGVyTWFubmlwdWxhdGlvbkNvbWJpbmF0aW9ucyA9ID4gMCAtIGZpeGVkKCBmcm9tIHVzZXIgc2VsZWN0ZWQgdmFsdWVzKSwgMSAtIHNpbmdsZSBpbmRleCAoZnJvbSBzZWxlY3RhYmxlIHZhbHVlcyksIDIgLSBpbmRleCBncm91cCAoZnJvbSBzZWxlY3RhYmxlIHZhbHVlcykiLCAyKTsNCgkJbG9nVG9GaWxlKGR1bXBPYmplY3QoYXJyYXlQYXJhbWV0ZXJDb21iaW5hdGlvblR5cGUsImFycmF5UGFyYW1ldGVyQ29tYmluYXRpb25UeXBlIiksIDIpOw0KCQkNCgkJLy9nZW5lcmF0aW5nIGEgbGlzdCB3aXRoIG1pbmltdW0gYW5kIG1heGltdW0gY29tYmluYXRpb24gaW5kZXggcGVyIHBhcmFtZXRlcg0KCQlmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5hcnJheVBhcmFtZXRlcnMubGVuZ3RoOyBpKyspDQoJCXsNCgkJCWlmKHRoaXMuYXJyYXlQYXJhbWV0ZXJzW2ldLmJvb2xTZW5kUGFyYW1ldGVyIHx8IGFjdW5ldGl4d2Vic2Nhbm5lci5vYmpTY2FubmluZ1Byb2Nlc3NTdGF0dXMuYm9vbElzUXVpY2tTY2FuKQ0KCQkJew0KCQkJCWlmIChhcnJheVBhcmFtZXRlckNvbWJpbmF0aW9uVHlwZVtpXSA9PSAyKSAvL2dlbmVyYXRlIG11bHRpcGxlIHNlbGVjdGlvbnMNCgkJCQl7DQoJCQkJCQl2YXIgb2JqVG1wCQkJPSBuZXcgY2xhc3NNdWx0aXBsZVNlbGVjdGlvbkNvbWJpbmF0aW9uR2VuZXJhdG9yKCk7DQoJCQkJCQlpbnRDb21iTnVtYmVyCQk9IG9ialRtcC5nZXRBbGxQb3NzaWJibGVDb21iaW5hdGlvbnNOdW1iZXIodGhpcy5hcnJheVBhcmFtZXRlcnNbaV0uYXJyYXlTZWxlY3RhYmxlVmFsdWVzLmxlbmd0aCk7DQoJCQkJCQlpbnRDb21iTnVtYmVyCQk9IE1hdGgubWluKGFjdW5ldGl4d2Vic2Nhbm5lci5vYmpNb3pQcmVmcy5nZXRJbnRQcmVmKCJpbnRNYXhpbXVtQ29tYmluYXRpb25zR2VuZXJhdGVkUGVySW5wdXQiKSxpbnRDb21iTnVtYmVyKTsNCgkJCQkJCWFycmF5UGFyYW1ldGVyQ29tYmluYXRpb25EZXNjcmlwdG9yLnB1c2goe2ludE1pblZhbCA6IDEsIGludE1heFZhbCA6IGludENvbWJOdW1iZXJ9KTsNCgkJCQkJCW9ialRtcAkJCQk9IG51bGw7IC8vZnJlZSBtZW1vcnkNCgkJCQl9DQoJCQkJaWYgKGFycmF5UGFyYW1ldGVyQ29tYmluYXRpb25UeXBlW2ldID09IDEpIC8vZ2VuZXJhdGUgYWx0ZXJuYXRpdmUgc2VsZWN0aW9ucw0KCQkJCXsNCgkJCQkJaW50Q29tYk51bWJlcgkJPSB0aGlzLmFycmF5UGFyYW1ldGVyc1tpXS5hcnJheVNlbGVjdGFibGVWYWx1ZXMubGVuZ3RoOw0KCQkJCQlpbnRDb21iTnVtYmVyCQk9IE1hdGgubWluKGFjdW5ldGl4d2Vic2Nhbm5lci5vYmpNb3pQcmVmcy5nZXRJbnRQcmVmKCJpbnRNYXhpbXVtQ29tYmluYXRpb25zR2VuZXJhdGVkUGVySW5wdXQiKSxpbnRDb21iTnVtYmVyKTsNCgkJCQkJYXJyYXlQYXJhbWV0ZXJDb21iaW5hdGlvbkRlc2NyaXB0b3IucHVzaCh7aW50TWluVmFsIDogMSwgaW50TWF4VmFsIDogaW50Q29tYk51bWJlcn0pOw0KCQkJCX0NCgkJCQlpZiAoYXJyYXlQYXJhbWV0ZXJDb21iaW5hdGlvblR5cGVbaV0gPT0gMCkgLy91c2VyIHNlbGVjdGVkIGluZGV4DQoJCQkJew0KCQkJCQlpbnRDb21iTnVtYmVyID0gMTsNCgkJCQkJYXJyYXlQYXJhbWV0ZXJDb21iaW5hdGlvbkRlc2NyaXB0b3IucHVzaCh7aW50TWluVmFsIDogMSwgaW50TWF4VmFsIDogaW50Q29tYk51bWJlcn0pOw0KCQkJCX0NCgkJCX0NCgkJCWVsc2UNCgkJCXsNCgkJCQlhcnJheVBhcmFtZXRlckNvbWJpbmF0aW9uRGVzY3JpcHRvci5wdXNoKHtpbnRNaW5WYWwgOiAtMSwgaW50TWF4VmFsIDogLTF9KTsNCgkJCX0NCgkJfQ0KCQkNCgkJbG9nVG9GaWxlKCJnZW5lcmF0ZVBhcmFtZXRlck1hbm5pcHVsYXRpb25Db21iaW5hdGlvbnMgPSBtaW5pbXVtIGFuZCBtYXhpbXVtIGNvbWJpbmF0aW9uIGluZGV4IHBlciBwYXJhbWV0ZXIiLCAyKTsNCgkJbG9nVG9GaWxlKGR1bXBPYmplY3QoYXJyYXlQYXJhbWV0ZXJDb21iaW5hdGlvbkRlc2NyaXB0b3IsImFycmF5UGFyYW1ldGVyQ29tYmluYXRpb25EZXNjcmlwdG9yIiksIDIpOw0KCQkNCgkJLy9nZW5lcmF0ZSBwYXJhbWV0ZXJDb21iaW5hdGlvbnMJCQ0KCQl2YXIgYXJyYXlQYXJhbWV0ZXJDb21iaW5hdGlvbnMgPSBnZW5lcmF0ZUNvbWJpbmF0aW9uRnJvbUNvbWJpbmF0aW9uUmVmZXJlbmNlTGlzdChhcnJheVBhcmFtZXRlckNvbWJpbmF0aW9uRGVzY3JpcHRvcik7DQoJCQ0KCQlsb2dUb0ZpbGUoZHVtcE9iamVjdChhcnJheVBhcmFtZXRlckNvbWJpbmF0aW9ucywiYXJyYXlQYXJhbWV0ZXJDb21iaW5hdGlvbnMiKSwgMik7DQoJCQ0KCQkvL3JlZHVjZSB0aGUgcGFyYW1ldGVyQ29tYmluYXRpb25zIGZvciB0ZXN0YWJsZSBjb21iaW5hdGlvbnMNCgkJLy90aGlzIHJlZHVjZXMgY29tYmluYXRpb25zIHdpY2ggZG9lcyBub3QgaGF2ZSBhbnkgdGVzdCBlbmFibGVkDQoJCWZ1bmN0aW9uIHJlZHVjZUFycmF5UGFyYW1ldGVyQ29tYmluYXRpb25zKGFycmF5UGFyYW1ldGVycykNCgkJew0KCQkJZm9yKHZhciBpID0gMDsgaSA8IGFycmF5UGFyYW1ldGVyQ29tYmluYXRpb25zLmxlbmd0aDsgaSsrKQ0KCQkJew0KCQkJCWlmKGFycmF5UGFyYW1ldGVyQ29tYmluYXRpb25zW2ldLmxlbmd0aCA9PSAwKQ0KCQkJCXsNCgkJCQkJLy8gcGFyYW1ldGVyIGNvbWJpbmF0aW9uIGxlbmd0aCA9IDAgc28gdGhlcmUgaXMgbm90aGluZyB0byB0ZXN0DQoJCQkJCWFycmF5UGFyYW1ldGVyQ29tYmluYXRpb25zLnNwbGljZShpLDEpOw0KCQkJCQlyZWR1Y2VBcnJheVBhcmFtZXRlckNvbWJpbmF0aW9ucyhhcnJheVBhcmFtZXRlcnMpOw0KCQkJCQlyZXR1cm47DQoJCQkJfQ0KCQkJCQ0KCQkJCXZhciBib29sVGVzdGFibGUgPSBmYWxzZTsNCgkJCQkNCgkJCQlmb3IodmFyIGogPSAwOyBqIDwgYXJyYXlQYXJhbWV0ZXJDb21iaW5hdGlvbnNbaV0ubGVuZ3RoOyBqKyspDQoJCQkJew0KCQkJCQlpZiggYXJyYXlQYXJhbWV0ZXJDb21iaW5hdGlvbnNbaV1bal0gPj0gMCkNCgkJCQkJew0KCQkJCQkJaWYoYXJyYXlQYXJhbWV0ZXJzW2pdLmJvb2xBcHBseVRlc3RQYXRlcm5zKSAvL3RoaXMgb25lIGlzIHRlc3RhYmxlDQoJCQkJCQl7DQoJCQkJCQkJYm9vbFRlc3RhYmxlID0gdHJ1ZTsNCgkJCQkJCQlicmVhazsNCgkJCQkJCX0NCgkJCQkJCWlmKGFjdW5ldGl4d2Vic2Nhbm5lci5vYmpTY2FubmluZ1Byb2Nlc3NTdGF0dXMuYm9vbElzUXVpY2tTY2FuKSAvL3RoaXMgb25lIGlzIHRlc3RhYmxlDQoJCQkJCQl7DQoJCQkJCQkJYm9vbFRlc3RhYmxlID0gdHJ1ZTsNCgkJCQkJCQlicmVhazsNCgkJCQkJCX0NCgkJCQkJfQ0KCQkJCX0NCgkJCQlpZighYm9vbFRlc3RhYmxlKQ0KCQkJCXsgCS8vIG5vIHRlc3RhYmxlIHBhcmFtZXRlciBmb3VuZCBzbyB3ZSBjYW4gcmVkdWNlIHRoaXMgb25lIHRvbw0KCQkJCQlhcnJheVBhcmFtZXRlckNvbWJpbmF0aW9ucy5zcGxpY2UoaSwxKTsNCgkJCQkJcmVkdWNlQXJyYXlQYXJhbWV0ZXJDb21iaW5hdGlvbnMoYXJyYXlQYXJhbWV0ZXJzKTsNCgkJCQkJcmV0dXJuOw0KCQkJCX0NCgkJCX0NCgkJfQ0KCQkNCgkJcmVkdWNlQXJyYXlQYXJhbWV0ZXJDb21iaW5hdGlvbnModGhpcy5hcnJheVBhcmFtZXRlcnMpOw0KCQkNCgkJbG9nVG9GaWxlKGR1bXBPYmplY3QoYXJyYXlQYXJhbWV0ZXJDb21iaW5hdGlvbnMsIlJlZHVjZWQgQXJyYXlQYXJhbWV0ZXJDb21iaW5hdGlvbnMiKSwgMik7DQoJCQ0KCQkvL2V4cGFuZCBhcnJheVBhcmFtZXRlckNvbWJpbmF0aW9ucyA9PiB0aGVyZSBhcmUgY29tYmluYXRpb25zIG9uIHBhcmFtZXRlciAobXVsdGlwbGUgdmFsdWVzIHBlciBwYXJhbWV0ZXIpDQoJCXZhciBhcnJheVJlcXVlc3REZXNjcmlwdG9yID0gbmV3IEFycmF5KCk7DQoJCQ0KCQlmb3IodmFyIGkgPSAwOyBpIDwgYXJyYXlQYXJhbWV0ZXJDb21iaW5hdGlvbnMubGVuZ3RoOyBpKyspDQoJCXsNCgkJCXZhciByZXF1ZXN0RGVzY3JpcHRvciA9IG5ldyBBcnJheSgpOyAvL1twYXJhbWV0ZXJJbmRleF1bdmFsdWVJbmRleF0NCgkJCQ0KCQkJZm9yKHZhciBqID0gMDsgaiA8IGFycmF5UGFyYW1ldGVyQ29tYmluYXRpb25zW2ldLmxlbmd0aDsgaisrKQ0KCQkJew0KCQkJCWxvZ1RvRmlsZSgiQ29tYmluYXRpb246ICIgKyBpICsgIiwgUGFyYW1ldGVyIGluZGV4OiAiICsgaiwgMik7DQoJCQkJaWYoYXJyYXlQYXJhbWV0ZXJDb21iaW5hdGlvbnNbaV1bal0gPCAwKQkvL3RoaXMgcGFyYW1ldGVyIHdpbGwgbm90IGJlIHNlbnQNCgkJCQkJY29udGludWU7DQoJCQkJDQoJCQkJc3dpdGNoIChhcnJheVBhcmFtZXRlckNvbWJpbmF0aW9uVHlwZVtqXSkNCgkJCQl7DQoJCQkJCWNhc2UgMCA6CS8vdXNlciBzZWxlY3RlZA0KCQkJCQkJbG9nVG9GaWxlKCJ1c2VyIHNlbGVjdGVkIiwgMik7DQoJCQkJCQl2YXIgYm9vbEZvdW5kID0gZmFsc2U7DQoJCQkJCQlmb3IoIHZhciBsID0gMCA7IGwgPCB0aGlzLmFycmF5UGFyYW1ldGVyc1tqXS5hcnJheVVzZXJTZWxlY3RlZFZhbHVlcy5sZW5ndGg7IGwrKykNCgkJCQkJCXsNCgkJCQkJCQlmb3IodmFyIGsgPSAwOyBrIDwgdGhpcy5hcnJheVBhcmFtZXRlcnNbal0uYXJyYXlTZWxlY3RhYmxlVmFsdWVzLmxlbmd0aDsgaysrKQ0KCQkJCQkJCXsNCgkJCQkJCQkJaWYodGhpcy5hcnJheVBhcmFtZXRlcnNbal0uYXJyYXlTZWxlY3RhYmxlVmFsdWVzW2tdID09IHRoaXMuYXJyYXlQYXJhbWV0ZXJzW2pdLmFycmF5VXNlclNlbGVjdGVkVmFsdWVzW2xdKQ0KCQkJCQkJCQl7DQoJCQkJCQkJCQlyZXF1ZXN0RGVzY3JpcHRvci5wdXNoKHtwYXJhbSA6IGosIGluZGV4IDoga30pOw0KCQkJCQkJCQkJYm9vbEZvdW5kID0gdHJ1ZTsNCgkJCQkJCQkJCWJyZWFrOw0KCQkJCQkJCQl9DQoJCQkJCQkJfQ0KCQkJCQkJCS8vIGV2ZW4gaWYgd2UgZG8gbm90IGhhdmUgdXNlciBzZWxlY3RlZCB2YWx1ZSAoZWcuIGZvciBjb21ibyBib3hlcykgYnV0IHRoZSBwYXJhbWV0ZXIgaXMgbWFya2VkIHRvIGJlIHRlc3RlZCB0aGUgd2Ugd2lsbCBpbnRyb2R1Y2UgYSB0ZXN0IHZhbHVlIGFueXdheQ0KCQkJCQkJCWlmKCghYm9vbEZvdW5kKSAmJiAodGhpcy5hcnJheVBhcmFtZXRlcnNbal0uYm9vbEFwcGx5VGVzdFBhdGVybnMgfHwgYWN1bmV0aXh3ZWJzY2FubmVyLm9ialNjYW5uaW5nUHJvY2Vzc1N0YXR1cy5ib29sSXNRdWlja1NjYW4pKQ0KCQkJCQkJCQlyZXF1ZXN0RGVzY3JpcHRvci5wdXNoKHtwYXJhbSA6IGosIGluZGV4IDogMH0pOw0KCQkJCQkJfQ0KCQkJCQkJYnJlYWs7DQoJCQkJCWNhc2UgMSA6CS8vc2luZ2xlIGZpeGVkIGluZGV4DQoJCQkJCQlsb2dUb0ZpbGUoInNpbmdsZSBmaXhlZCBpbmRleCIsIDIpOw0KCQkJCQkJcmVxdWVzdERlc2NyaXB0b3IucHVzaCgge3BhcmFtIDogaiwgaW5kZXggOiBhcnJheVBhcmFtZXRlckNvbWJpbmF0aW9uc1tpXVtqXX0pOw0KCQkJCQkJYnJlYWs7DQoJCQkJCWNhc2UgMiA6CS8vIG11bHRpcGxlIHNlbGVjdGlvbg0KCQkJCQkJbG9nVG9GaWxlKCJtdWx0aXBsZSBzZWxlY3Rpb24iLCAyKTsNCgkJCQkJCXZhciBvYmpNUyA9IG5ldyBjbGFzc011bHRpcGxlU2VsZWN0aW9uQ29tYmluYXRpb25HZW5lcmF0b3IoKTsNCgkJCQkJCXZhciBhcnJheUNvbWJpbmF0aW9uID0gb2JqTVMuZ2V0Q29tYmluYXRpb25CeUluZGV4KHRoaXMuYXJyYXlQYXJhbWV0ZXJzW2pdLmFycmF5U2VsZWN0YWJsZVZhbHVlcy5sZW5ndGgsIGFycmF5UGFyYW1ldGVyQ29tYmluYXRpb25zW2ldW2pdKTsNCgkJCQkJCWZvciggdmFyIGwgPSAwIDsgbCA8IGFycmF5Q29tYmluYXRpb24ubGVuZ3RoOyBsKyspDQoJCQkJCQkJcmVxdWVzdERlc2NyaXB0b3IucHVzaCh7cGFyYW0gOiBqLCBpbmRleCA6IGFycmF5Q29tYmluYXRpb25bbF19KTsNCgkJCQkJCWJyZWFrOw0KCQkJCX0NCgkJCX0NCgkJCWFycmF5UmVxdWVzdERlc2NyaXB0b3IucHVzaChyZXF1ZXN0RGVzY3JpcHRvcik7DQoJCX0NCgkJDQoJCWxvZ1RvRmlsZSgiRm9ybWF0OiBjb21iOnggPSB7aXRlbTp5ID17cGFyYW06eiwgaW5kZXg6d30gfSApIiwgMik7DQoJCWxvZ1RvRmlsZShkdW1wT2JqZWN0KGFycmF5UmVxdWVzdERlc2NyaXB0b3IsImV4cGFuZGVkIDogYXJyYXlSZXF1ZXN0RGVzY3JpcHRvciIpLCAyKTsNCgkJDQoJCS8vZXhwYW5kIGFycmF5UmVxdWVzdERlc2NyaXB0b3IgdG8gZmluYWwgdGVzdCBhcnJheQ0KCQl0aGlzLmFycmF5T2ZHZW5lcmF0ZWRUZXN0Q29tYmluYXRpb25zCT0gbmV3IEFycmF5KCk7DQoJCWZvcih2YXIgaSA9IDA7IGkgPCBhcnJheVJlcXVlc3REZXNjcmlwdG9yLmxlbmd0aDsgaSsrKQ0KCQl7DQoJCQlmb3IodmFyIGogPSAwOyBqIDwgYXJyYXlSZXF1ZXN0RGVzY3JpcHRvcltpXS5sZW5ndGg7IGorKykNCgkJCXsNCgkJCQlsb2dUb0ZpbGUoIkNvbWI6ICIgKyBpICsgIiBpdGVtOiAiICsgaiArICIgaXRlbUluZGV4OiAiICsgYXJyYXlSZXF1ZXN0RGVzY3JpcHRvcltpXVtqXS5wYXJhbSArICIgYXBwbHk6ICIgKyB0aGlzLmFycmF5UGFyYW1ldGVyc1thcnJheVJlcXVlc3REZXNjcmlwdG9yW2ldW2pdLnBhcmFtXS5ib29sQXBwbHlUZXN0UGF0ZXJucywgMik7DQoJCQkJaWYodGhpcy5hcnJheVBhcmFtZXRlcnNbYXJyYXlSZXF1ZXN0RGVzY3JpcHRvcltpXVtqXS5wYXJhbV0uYm9vbEFwcGx5VGVzdFBhdGVybnMgfHwgYWN1bmV0aXh3ZWJzY2FubmVyLm9ialNjYW5uaW5nUHJvY2Vzc1N0YXR1cy5ib29sSXNRdWlja1NjYW4pDQoJCQkJCXRoaXMuYXJyYXlPZkdlbmVyYXRlZFRlc3RDb21iaW5hdGlvbnMucHVzaCh7YXJyYXlQYXJhbWV0ZXJzOiBhcnJheVJlcXVlc3REZXNjcmlwdG9yW2ldLCBpbnRUZXN0ZWRQYXJhbWV0ZXJJbmRleDogYXJyYXlSZXF1ZXN0RGVzY3JpcHRvcltpXVtqXS5wYXJhbX0pDQoJCQl9DQoJCX0NCgkJbG9nVG9GaWxlKGR1bXBPYmplY3QodGhpcy5hcnJheU9mR2VuZXJhdGVkVGVzdENvbWJpbmF0aW9ucywiZXhwYW5kZWQgOiB0aGlzLmFycmF5T2ZHZW5lcmF0ZWRUZXN0Q29tYmluYXRpb25zIiksIDIpOw0KCQlyZXR1cm4odGhpcy5hcnJheU9mR2VuZXJhdGVkVGVzdENvbWJpbmF0aW9ucy5sZW5ndGgpOw0KCX0NCg0KCS8vIHJldHVybiB0cnVlIGlmIHBhcmFtZXRlciBpbnNlcnRlZA0KCXRoaXMuYWRkTmV3UmVxdWVzdFBhcnJhbWV0ZXIgPSBmdW5jdGlvbihvYmpSZXF1ZXN0UGFyYW1ldGVyKQ0KCXsNCgkJdmFyIHggPSB0aGlzLmhhdmVSZXF1ZXN0UGFyYW1ldGVyKG9ialJlcXVlc3RQYXJhbWV0ZXIpOw0KCQlpZih4IDwgMCkNCgkJew0KCQkJdGhpcy5hcnJheVBhcmFtZXRlcnMucHVzaChvYmpSZXF1ZXN0UGFyYW1ldGVyKTsNCgkJCXJldHVybih0cnVlKTsNCgkJfQkJDQoJCS8vdG9kbzogY29tcGFjdCBwYXJhbWV0ZXJzDQoJCXJldHVybihmYWxzZSk7DQoJfQ0KDQoJdGhpcy5oYXZlUmVxdWVzdFBhcmFtZXRlciA9IGZ1bmN0aW9uKG9ialJlcXVlc3RQYXJhbWV0ZXIpDQoJew0KCQlmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5hcnJheVBhcmFtZXRlcnMubGVuZ3RoOyBpKyspDQoJCQlpZih0aGlzLmFycmF5UGFyYW1ldGVyc1tpXS5pc0VxdWl2YWxlbnRXaXRoKG9ialJlcXVlc3RQYXJhbWV0ZXIpKQ0KCQkJCXJldHVybihpKQ0KCQlyZXR1cm4oLTEpOw0KCX0NCg0KCXRoaXMuY29tcGFyZVdpdGggPSBmdW5jdGlvbihvYmpSZXF1ZXN0KQ0KCXsJDQoJCWlmKHRoaXMub2JqQWN0aW9uLmdldFVSTCgpLnRvTG93ZXJDYXNlKCkgIT0gb2JqUmVxdWVzdC5vYmpBY3Rpb24uZ2V0VVJMKCkudG9Mb3dlckNhc2UoKSkNCgkJCXJldHVybigiZGlmZmVyZW50Iik7DQoJCQ0KCQl2YXIgYm9vbEFsbG9ialBhcmFtZXRlckluY2x1ZGVkSW5UaGlzID0gdHJ1ZTsJCQ0KCQlmb3IodmFyIGkgPSAwOyBpIDwgb2JqUmVxdWVzdC5hcnJheVBhcmFtZXRlcnMubGVuZ3RoOyBpKyspDQoJCXsNCgkJCWlmKHRoaXMuaGF2ZVJlcXVlc3RQYXJhbWV0ZXIob2JqUmVxdWVzdC5hcnJheVBhcmFtZXRlcnNbaV0pIDwgMCkNCgkJCXsNCgkJCQlib29sQWxsb2JqUGFyYW1ldGVySW5jbHVkZWRJblRoaXMgPSBmYWxzZTsNCgkJCQlicmVhazsNCgkJCX0NCgkJfQ0KCQkNCgkJdmFyIGJvb2xBbGxUaGlzSW5jbHVkZWRJbk9ialBhcmFtZXRlciA9IHRydWU7CQ0KCQlmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5hcnJheVBhcmFtZXRlcnMubGVuZ3RoOyBpKyspDQoJCXsNCgkJCWlmKG9ialJlcXVlc3QuaGF2ZVJlcXVlc3RQYXJhbWV0ZXIodGhpcy5hcnJheVBhcmFtZXRlcnNbaV0pIDwgMCkNCgkJCXsNCgkJCQlib29sQWxsVGhpc0luY2x1ZGVkSW5PYmpQYXJhbWV0ZXIgPSBmYWxzZTsNCgkJCQlicmVhazsNCgkJCX0NCgkJfQ0KCQkNCgkJaWYoYm9vbEFsbFRoaXNJbmNsdWRlZEluT2JqUGFyYW1ldGVyICYmIGJvb2xBbGxvYmpQYXJhbWV0ZXJJbmNsdWRlZEluVGhpcykgcmV0dXJuICgiZXF1aXZhbGVudCIpOw0KCQlpZihib29sQWxsVGhpc0luY2x1ZGVkSW5PYmpQYXJhbWV0ZXIgJiYgKCFib29sQWxsb2JqUGFyYW1ldGVySW5jbHVkZWRJblRoaXMpICkgcmV0dXJuICgiaW5jbHVkZWQiKTsNCgkJaWYoYm9vbEFsbG9ialBhcmFtZXRlckluY2x1ZGVkSW5UaGlzICYmICghYm9vbEFsbFRoaXNJbmNsdWRlZEluT2JqUGFyYW1ldGVyKSApIHJldHVybiAoImNvbnRhaW4iKTsNCgkJcmV0dXJuKCJkaWZmZXJlbnQiKTsNCgl9DQoJCQ0KCQ0KCQ0KCXRoaXMuZ2V0UGFyYW1zRnJvbVVSTFBhcnNlciA9IGZ1bmN0aW9uKG9ialVybHBhcnNlcikNCgl7DQoJCXZhciBvYmpRdWVyeSA9IG5ldyBjbGFzc1BhcmFtZXRlckxpc3Qob2JqVXJscGFyc2VyLnN0clF1ZXJ5KTsNCgkJDQoJCWZvcih2YXIgaSA9IDA7IGkgPCBvYmpRdWVyeS5hcnJheVBhcmFtZXRlcnMubGVuZ3RoOyBpKysgKQ0KCQl7DQoJCQlpZihvYmpRdWVyeS5HZXRQYXJhbWV0ZXJOYW1lKGkpID09ICcnKSBjb250aW51ZTsNCgkJCQ0KCQkJdmFyIG9ialJlcVBhcmFtCQkJCQkJCT0gbmV3IGNsYXNzUmVxdWVzdFBhcmFtZXRlcigpOw0KCQkJb2JqUmVxUGFyYW0uaW50SUQJCQkJCQk9IGFjdW5ldGl4d2Vic2Nhbm5lci5pbnRQYXJhbWV0ZXJJbmRleCArKzsNCgkJCW9ialJlcVBhcmFtLnN0cklkCQkJCQkJPSB0aGlzLnN0cklkOw0KCQkJb2JqUmVxUGFyYW0uc3RyTmFtZQkJCQkJCT0gb2JqUXVlcnkuR2V0UGFyYW1ldGVyTmFtZShpKTsNCgkJCW9ialJlcVBhcmFtLnN0clR5cGUJCQkJCQk9ICJhdGV4dCI7DQoJCQlvYmpSZXFQYXJhbS5zdHJSZXF1ZXN0VHlwZQkJCQk9ICJHRVQiOw0KCQkJb2JqUmVxUGFyYW0uYm9vbE11bHRpcGxlU2VsZWN0aW9uQ29udHJvbGwgPSBmYWxzZTsNCgkJCW9ialJlcVBhcmFtLmJvb2xTZW5kUGFyYW1ldGVyIAkJCT0gdHJ1ZTsNCgkJCQ0KCQkJb2JqUmVxUGFyYW0uYXJyYXlVc2VyU2VsZWN0ZWRWYWx1ZXMucHVzaChvYmpRdWVyeS5HZXRQYXJhbWV0ZXJWYWx1ZShpKSk7DQoJCQlvYmpSZXFQYXJhbS5hcnJheVNlbGVjdGFibGVWYWx1ZXMucHVzaChvYmpRdWVyeS5HZXRQYXJhbWV0ZXJWYWx1ZShpKSk7DQoJCQkNCgkJCXRoaXMuYWRkTmV3UmVxdWVzdFBhcnJhbWV0ZXIob2JqUmVxUGFyYW0pOw0KCQl9DQoJfQ0KCQ0KCWZ1bmN0aW9uIGNoZWNrSWZPYmV5TG9jYXRpb25SdWxlKG9ialJlZmVyZW5jZUFuY2hvciwgb2JqQW5jaG9yKQ0KCXsNCgkJaWYgKCBvYmpSZWZlcmVuY2VBbmNob3IuY29tcGFyZVdpdGgob2JqQW5jaG9yKSA+PSBhY3VuZXRpeHdlYnNjYW5uZXIub2JqTW96UHJlZnMuZ2V0SW50UHJlZigiaW50UmVxdWVzdEV4dHJhY3RvclJ1bGVMb2NhdGlvbiIpKQ0KCQkJcmV0dXJuKHRydWUpOw0KCQllbHNlDQoJCQlyZXR1cm4oZmFsc2UpOwkNCgl9DQoNCgl0aGlzLmZlZWRDb250YWluZXJGcm9tRWxlbWVudFdpdGhSZWZlcmVuY2UgPSBmdW5jdGlvbihvYmpIVE1MRWxlbWVudCwgc3RyUmVmZXJlbmNlTmFtZSwgc3RyRWxlbWVudE5hbWUpDQoJewkNCgkJbG9nVG9GaWxlKCJjbGFzc1JlcXVlc3RDb250YWluZXIvZmVlZENvbnRhaW5lckZyb21FbGVtZW50V2l0aFJlZmVyZW5jZSIpOwkNCgkJdGhpcy5zdHJSZXF1ZXN0T3JpZ2luCT0gIlJlZmVyZW5jZSBvZjogIiArIHN0ckVsZW1lbnROYW1lOwkNCgkJdGhpcy5zdHJSZXF1ZXN0TWV0aG9kCT0gIkdFVCI7DQoJCXRoaXMuc3RySWQJCQkJPSBnZXRFbGVtZW50SURPckdlbmVyYXRlT25lKG9iakhUTUxFbGVtZW50KTsNCg0KCQl0aGlzLm9iakFjdGlvbi5QYXJzZVVybCh0aGlzLnN0ckRvY3VtZW50TG9jYXRpb24pOw0KCQkNCgkJbG9nVG9GaWxlKCJjbGFzc1JlcXVlc3RDb250YWluZXIvZmVlZENvbnRhaW5lckZyb21FbGVtZW50V2l0aFJlZmVyZW5jZSAiICsgdGhpcy5vYmpBY3Rpb24pOwkNCg0KCQl0aGlzLm9iakFjdGlvbi5jb2xlcmF0ZVdpdGhTdHJpbmdVUkwob2JqSFRNTEVsZW1lbnQuaGFzQXR0cmlidXRlKHN0clJlZmVyZW5jZU5hbWUpID8gb2JqSFRNTEVsZW1lbnQuZ2V0QXR0cmlidXRlKHN0clJlZmVyZW5jZU5hbWUpIDogIiIpOw0KCQkNCgkJbG9nVG9GaWxlKCJjbGFzc1JlcXVlc3RDb250YWluZXIvZmVlZENvbnRhaW5lckZyb21FbGVtZW50V2l0aFJlZmVyZW5jZSAiICsgdGhpcy5vYmpBY3Rpb24pOwkNCg0KCQlpZighY2hlY2tJZk9iZXlMb2NhdGlvblJ1bGUobmV3IGNsYXNzVXJsUGFyc2VyKHRoaXMuc3RyT3JpZ2luYWxMb2NhdGlvbiksIHRoaXMub2JqQWN0aW9uICkpDQoJCQlyZXR1cm4oZmFsc2UpOw0KDQoJCXRoaXMuZ2V0UGFyYW1zRnJvbVVSTFBhcnNlcih0aGlzLm9iakFjdGlvbik7DQoJCQ0KCQlpZih0aGlzLmFycmF5UGFyYW1ldGVycy5sZW5ndGggPiAwKQ0KCQl7DQoJCQlpZihhY3VuZXRpeHdlYnNjYW5uZXIub2JqTW96UHJlZnMuZ2V0Qm9vbFByZWYoImJvb2xSZXF1ZXN0RXh0cmFjdG9yUnVsZUV4dHJhY3RDb29raWUiKSkNCgkJCQl0aGlzLmV4dHJhY3RDb29raWVQYXJhbXMoKTsNCgkJCXRoaXMuaW5zZXJ0SGVhZGVWYXJpYWJsZXMoKTsNCgkJfQ0KCQlyZXR1cm4odHJ1ZSk7DQoJfQ0KCQkNCgl0aGlzLmZlZWRDb250YWluZXJGcm9tRm9ybSA9IGZ1bmN0aW9uKG9iakZvcm0pDQoJew0KCQlsb2dUb0ZpbGUoImNsYXNzUmVxdWVzdENvbnRhaW5lci9mZWVkQ29udGFpbmVyRnJvbUZvcm0gIiArIHRoaXMub2JqQWN0aW9uKTsNCgkJdHJ5IHtpZiAob2JqRm9ybS5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICE9ICJmb3JtIikgcmV0dXJuKGZhbHNlKTt9Y2F0Y2ggKGUpe3JldHVybihmYWxzZSl9DQoJCQ0KCQl0aGlzLnN0cklkCQkJCT0gZ2V0RWxlbWVudElET3JHZW5lcmF0ZU9uZShvYmpGb3JtKTsNCiAgICAgICAgdGhpcy5zdHJSZXF1ZXN0T3JpZ2luCT0gIkZvcm0iOw0KCQl0aGlzLnN0clJlcXVlc3RNZXRob2QJPSAiR0VUIjsNCgkJDQogICAgICAgIGlmIChvYmpGb3JtLmhhc0F0dHJpYnV0ZSgibWV0aG9kIikpIHRoaXMuc3RyUmVxdWVzdE1ldGhvZCA9IG9iakZvcm0uZ2V0QXR0cmlidXRlKCJtZXRob2QiKS50b1VwcGVyQ2FzZSgpOw0KDQoJCXRoaXMub2JqQWN0aW9uLlBhcnNlVXJsKHRoaXMuc3RyRG9jdW1lbnRMb2NhdGlvbik7DQoJCXRoaXMub2JqQWN0aW9uLmNvbGVyYXRlV2l0aFN0cmluZ1VSTChvYmpGb3JtLmhhc0F0dHJpYnV0ZSgiYWN0aW9uIik/b2JqRm9ybS5nZXRBdHRyaWJ1dGUoImFjdGlvbiIpOiIiKTsNCgkJDQoJCWlmKCFjaGVja0lmT2JleUxvY2F0aW9uUnVsZShuZXcgY2xhc3NVcmxQYXJzZXIodGhpcy5zdHJPcmlnaW5hbExvY2F0aW9uKSx0aGlzLm9iakFjdGlvbikpDQoJCQlyZXR1cm4oZmFsc2UpOw0KCQkNCgkJdGhpcy5nZXRQYXJhbXNGcm9tVVJMUGFyc2VyKHRoaXMub2JqQWN0aW9uKTsNCg0KCQl0aGlzLnN0ck5hbWUJCT0gb2JqRm9ybS5oYXNBdHRyaWJ1dGUoIm5hbWUiKSA/IG9iakZvcm0uZ2V0QXR0cmlidXRlKCJuYW1lIikgOiAiIjsNCgkJdmFyIGlucHV0RWxlbWVudHMJPSBvYmpGb3JtLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJpbnB1dCIpOw0KDQoJCWZvcih2YXIgaSA9IDA7IGkgPCBpbnB1dEVsZW1lbnRzLmxlbmd0aDsgaSsrKQ0KCQl7DQoJCQlpZighaW5wdXRFbGVtZW50c1tpXS5oYXNBdHRyaWJ1dGUoIm5hbWUiKSkgY29udGludWU7DQoJCQkNCgkJCXZhciBvYmpSZXFQYXJhbQkJCQk9IG5ldyBjbGFzc1JlcXVlc3RQYXJhbWV0ZXIoKTsNCgkJCW9ialJlcVBhcmFtLnN0cklkCQkJPSBnZXRFbGVtZW50SURPckdlbmVyYXRlT25lKGlucHV0RWxlbWVudHNbaV0pOw0KCQkJb2JqUmVxUGFyYW0uaW50SUQJCQk9IGFjdW5ldGl4d2Vic2Nhbm5lci5pbnRQYXJhbWV0ZXJJbmRleCArKzsNCgkJCW9ialJlcVBhcmFtLnN0clJlcXVlc3RUeXBlCT0gdGhpcy5zdHJSZXF1ZXN0TWV0aG9kOw0KCQkJb2JqUmVxUGFyYW0uc3RyTmFtZQkJCT0gaW5wdXRFbGVtZW50c1tpXS5nZXRBdHRyaWJ1dGUoIm5hbWUiKTsNCgkJCW9ialJlcVBhcmFtLnN0clR5cGUJCQk9IChpbnB1dEVsZW1lbnRzW2ldLmhhc0F0dHJpYnV0ZSgidHlwZSIpKSA/IGlucHV0RWxlbWVudHNbaV0uZ2V0QXR0cmlidXRlKCJ0eXBlIikudG9Mb3dlckNhc2UoKSA6ICJ0ZXh0IjsNCgkJCQ0KCQkJc3dpdGNoKG9ialJlcVBhcmFtLnN0clR5cGUpDQoJCQl7DQoJCQkJY2FzZSAidGV4dCI6IGNhc2UgInBhc3N3b3JkIjogY2FzZSAiaGlkZGVuIjogY2FzZSAicmVhZG9ubHkiOiBjYXNlICJzdWJtaXQiOg0KCQkJCQlvYmpSZXFQYXJhbS5ib29sTXVsdGlwbGVTZWxlY3Rpb25Db250cm9sbCA9IGZhbHNlOw0KCQkJCQlvYmpSZXFQYXJhbS5ib29sU2VuZFBhcmFtZXRlciA9IHRydWU7DQoJCQkJCWJyZWFrOw0KCQkJCWNhc2UgImNoZWNrYm94IjoNCgkJCQkJb2JqUmVxUGFyYW0uYm9vbE11bHRpcGxlU2VsZWN0aW9uQ29udHJvbGwgPSBmYWxzZTsNCiAgICAgICAgICAgICAgICAgICAgb2JqUmVxUGFyYW0uYm9vbFNlbmRQYXJhbWV0ZXIgPSBpbnB1dEVsZW1lbnRzW2ldLmNoZWNrZWQ7DQoJCQkJCWJyZWFrOw0KCQkJCWNhc2UgInJhZGlvIjoNCgkJCQkJLy9yYWRpbyBpdGVtcyB3aXRoIHRoZSBzYW1lIG5hbWUgd2lsbCBjcmVhdGUganVzdCBvbmUgUmVxdWVzdFBhcmFtZXRlciBpdGVtDQoJCQkJCS8vY2hlY2sgaWYgdGhlcmUgaXMgYSByYWRpbyBwYXJhbWV0ZXIgcmVnaXN0ZXJlZCBhbHJlYWR5IHdpdGggdGhlIHNhbWUgbmFtZQ0KCQkJCQl2YXIgZm91bmQgPSBmYWxzZTsNCgkJCQkJZm9yKHZhciBqID0gMDsgaiA8IHRoaXMuYXJyYXlQYXJhbWV0ZXJzLmxlbmd0aDsgaisrKQ0KCQkJCQl7DQoJCQkJCQlpZigodGhpcy5hcnJheVBhcmFtZXRlcnNbal0uc3RyVHlwZSA9PSBvYmpSZXFQYXJhbS5zdHJUeXBlKSYmKHRoaXMuYXJyYXlQYXJhbWV0ZXJzW2pdLnN0ck5hbWUgPT0gb2JqUmVxUGFyYW0uc3RyTmFtZSApKQ0KCQkJCQkJew0KCQkJCQkJCW9ialJlcVBhcmFtID0gdGhpcy5hcnJheVBhcmFtZXRlcnNbal07DQoJCQkJCQkJZm91bmQgPSB0cnVlOw0KCQkJCQkJCWJyZWFrOw0KCQkJCQkJfQ0KCQkJCQl9DQoJCQkJCWlmKGlucHV0RWxlbWVudHNbaV0uY2hlY2tlZCkNCgkJCQkJew0KCQkJCQkJb2JqUmVxUGFyYW0uYXJyYXlVc2VyU2VsZWN0ZWRWYWx1ZXMgPSBuZXcgQXJyYXkoKTsNCgkJCQkJCW9ialJlcVBhcmFtLmFycmF5VXNlclNlbGVjdGVkVmFsdWVzLnB1c2goaW5wdXRFbGVtZW50c1tpXS52YWx1ZSk7DQoJCQkJCX0NCgkJCQkJb2JqUmVxUGFyYW0uYm9vbE11bHRpcGxlU2VsZWN0aW9uQ29udHJvbGwgPSBmYWxzZTsNCgkJCQkJb2JqUmVxUGFyYW0uYXJyYXlTZWxlY3RhYmxlVmFsdWVzLnB1c2goaW5wdXRFbGVtZW50c1tpXS52YWx1ZSk7DQoJCQkJCW9ialJlcVBhcmFtLmJvb2xTZW5kUGFyYW1ldGVyID0gdHJ1ZTsNCgkJCQkJaWYgKGZvdW5kKSBjb250aW51ZTsNCgkJCQkJYnJlYWs7DQoJCQkJZGVmYXVsdDoNCgkJCQkJY29udGludWU7DQoJCQl9DQoJCQl0aGlzLmFkZE5ld1JlcXVlc3RQYXJyYW1ldGVyKG9ialJlcVBhcmFtKTsNCgkJfQkNCgkJDQoJCXZhciBpbnB1dEVsZW1lbnRzID0gb2JqRm9ybS5nZXRFbGVtZW50c0J5VGFnTmFtZSgidGV4dGFyZWEiKTsNCgkJZm9yKHZhciBpPTA7IGk8aW5wdXRFbGVtZW50cy5sZW5ndGg7IGkrKykNCgkJew0KCQkJaWYoIWlucHV0RWxlbWVudHNbaV0uaGFzQXR0cmlidXRlKCJuYW1lIikpIGNvbnRpbnVlOw0KCQkJdmFyIG9ialJlcVBhcmFtCQkJCT0gbmV3IGNsYXNzUmVxdWVzdFBhcmFtZXRlcigpOw0KCQkJb2JqUmVxUGFyYW0uc3RySWQJCQk9IGdldEVsZW1lbnRJRE9yR2VuZXJhdGVPbmUoaW5wdXRFbGVtZW50c1tpXSk7DQoJCQlvYmpSZXFQYXJhbS5pbnRJRAkJCT0gYWN1bmV0aXh3ZWJzY2FubmVyLmludFBhcmFtZXRlckluZGV4ICsrOw0KCQkJb2JqUmVxUGFyYW0uc3RyUmVxdWVzdFR5cGUJPSB0aGlzLnN0clJlcXVlc3RNZXRob2Q7CQ0KCQkJb2JqUmVxUGFyYW0uc3RyTmFtZQkJCT0gaW5wdXRFbGVtZW50c1tpXS5nZXRBdHRyaWJ1dGUoIm5hbWUiKTsJDQoJCQlvYmpSZXFQYXJhbS5zdHJUeXBlCQkJPSAidGV4dGFyZWEiOw0KCQkJb2JqUmVxUGFyYW0uYm9vbE11bHRpcGxlU2VsZWN0aW9uQ29udHJvbGwgPSBmYWxzZTsNCgkJCW9ialJlcVBhcmFtLmJvb2xTZW5kUGFyYW1ldGVyID0gdHJ1ZTsNCgkJCXRoaXMuYWRkTmV3UmVxdWVzdFBhcnJhbWV0ZXIob2JqUmVxUGFyYW0pOw0KCQl9DQoJCQ0KCQl2YXIgaW5wdXRFbGVtZW50cyA9IG9iakZvcm0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoImJ1dHRvbiIpOw0KCQlmb3IodmFyIGk9MDsgaTxpbnB1dEVsZW1lbnRzLmxlbmd0aDsgaSsrKQ0KCQl7DQoJCQlpZighaW5wdXRFbGVtZW50c1tpXS5oYXNBdHRyaWJ1dGUoIm5hbWUiKSkgY29udGludWU7DQoJCQlpZighaW5wdXRFbGVtZW50c1tpXS5oYXNBdHRyaWJ1dGUoInR5cGUiKSkgY29udGludWU7DQoJCQlpZihpbnB1dEVsZW1lbnRzW2ldLmdldEF0dHJpYnV0ZSgidHlwZSIpIT0gInN1Ym1pdCIpIGNvbnRpbnVlOw0KCQkJDQoJCQl2YXIgb2JqUmVxUGFyYW0JCQkJPSBuZXcgY2xhc3NSZXF1ZXN0UGFyYW1ldGVyKCk7DQoJCQlvYmpSZXFQYXJhbS5zdHJJZAkJCT0gZ2V0RWxlbWVudElET3JHZW5lcmF0ZU9uZShpbnB1dEVsZW1lbnRzW2ldKTsNCgkJCW9ialJlcVBhcmFtLmludElECQkJPSBhY3VuZXRpeHdlYnNjYW5uZXIuaW50UGFyYW1ldGVySW5kZXggKys7DQoJCQlvYmpSZXFQYXJhbS5zdHJSZXF1ZXN0VHlwZQk9IHRoaXMuc3RyUmVxdWVzdE1ldGhvZDsNCgkJCW9ialJlcVBhcmFtLnN0ck5hbWUJCQk9IGlucHV0RWxlbWVudHNbaV0uZ2V0QXR0cmlidXRlKCJuYW1lIik7DQoJCQlvYmpSZXFQYXJhbS5zdHJUeXBlCQkJPSAiYnV0dG9uX3N1Ym1pdCI7DQoJCQlvYmpSZXFQYXJhbS5ib29sTXVsdGlwbGVTZWxlY3Rpb25Db250cm9sbCA9IGZhbHNlOw0KCQkJb2JqUmVxUGFyYW0uYm9vbFNlbmRQYXJhbWV0ZXIgPSB0cnVlOw0KCQkJdGhpcy5hZGROZXdSZXF1ZXN0UGFycmFtZXRlcihvYmpSZXFQYXJhbSk7DQoJCX0NCgkJDQoJCXZhciBpbnB1dEVsZW1lbnRzID0gb2JqRm9ybS5nZXRFbGVtZW50c0J5VGFnTmFtZSgic2VsZWN0Iik7DQoJCWZvcih2YXIgaT0wOyBpPGlucHV0RWxlbWVudHMubGVuZ3RoOyBpKyspDQoJCXsNCgkJCWlmKCFpbnB1dEVsZW1lbnRzW2ldLmhhc0F0dHJpYnV0ZSgibmFtZSIpKSBjb250aW51ZTsNCgkJCXZhciBvYmpSZXFQYXJhbQkJCQk9IG5ldyBjbGFzc1JlcXVlc3RQYXJhbWV0ZXIoKTsNCgkJCW9ialJlcVBhcmFtLnN0cklkCQkJPSBnZXRFbGVtZW50SURPckdlbmVyYXRlT25lKGlucHV0RWxlbWVudHNbaV0pOw0KCQkJb2JqUmVxUGFyYW0uaW50SUQJCQk9IGFjdW5ldGl4d2Vic2Nhbm5lci5pbnRQYXJhbWV0ZXJJbmRleCArKzsNCgkJCW9ialJlcVBhcmFtLnN0clJlcXVlc3RUeXBlCT0gdGhpcy5zdHJSZXF1ZXN0TWV0aG9kOwkNCgkJCW9ialJlcVBhcmFtLnN0ck5hbWUJCQk9IGlucHV0RWxlbWVudHNbaV0uZ2V0QXR0cmlidXRlKCJuYW1lIik7DQoJCQlvYmpSZXFQYXJhbS5zdHJUeXBlCQkJPSAic2VsZWN0IjsNCgkJCW9ialJlcVBhcmFtLmJvb2xTZW5kUGFyYW1ldGVyID0gdHJ1ZTsNCgkJCW9ialJlcVBhcmFtLmJvb2xNdWx0aXBsZVNlbGVjdGlvbkNvbnRyb2xsID0gaW5wdXRFbGVtZW50c1tpXS5oYXNBdHRyaWJ1dGUoIk1VTFRJUExFIik7DQoJCQl0aGlzLmFkZE5ld1JlcXVlc3RQYXJyYW1ldGVyKG9ialJlcVBhcmFtKTsNCgkJfQ0KCQkNCgkJaWYodGhpcy5hcnJheVBhcmFtZXRlcnMubGVuZ3RoID4gMCkNCgkJew0KCQkJaWYoYWN1bmV0aXh3ZWJzY2FubmVyLm9iak1velByZWZzLmdldEJvb2xQcmVmKCJib29sUmVxdWVzdEV4dHJhY3RvclJ1bGVFeHRyYWN0Q29va2llIikpDQoJCQkJdGhpcy5leHRyYWN0Q29va2llUGFyYW1zKCk7DQoJCQl0aGlzLmluc2VydEhlYWRlVmFyaWFibGVzKCk7DQoJCX0NCgkJdGhpcy5yZWZyZXNoUGFyYW1ldGVyc0RhdGEoKTsNCgkJcmV0dXJuKHRydWUpOw0KCX0NCg0KCXRoaXMudG9TdHJpbmcgPSBmdW5jdGlvbigpDQoJew0KCQl2YXIgcmVzdWx0ID0gbmV3IFN0cmluZygpOw0KCQlyZXN1bHQgPSByZXN1bHQgKyAiUmVxdWVzdCBpZDogIiArIHRoaXMuc3RySWQgKyAiIG5hbWU6ICIgKyB0aGlzLnN0ck5hbWUgKyAiIG1ldGhvZDogIiArIHRoaXMuc3RyUmVxdWVzdE1ldGhvZCArICIgYWN0aW9uOiAiK3RoaXMub2JqQWN0aW9uLmdldFVSTCgpICsgIlxyXG4iOw0KCQlmb3IoaSA9IDAgOyBpIDwgdGhpcy5hcnJheVBhcmFtZXRlcnMubGVuZ3RoIDsgaSsrKQ0KCQkJcmVzdWx0ID0gcmVzdWx0ICsgdGhpcy5hcnJheVBhcmFtZXRlcnNbaV07DQoJCXJlc3VsdCA9cmVzdWx0ICsgIlxyXG4iOw0KCQlyZXR1cm4ocmVzdWx0KQ0KCX0NCg0KCXRoaXMucmVuZGVyID1mdW5jdGlvbigpDQoJew0KCQl2YXIgcmVzdWx0ID0gbmV3IFN0cmluZygpOw0KCQlyZXN1bHQgPSByZXN1bHQgKyAnPGdyb3VwYm94IGlkPSJyZXF1ZXN0X2dyb3VwXycgKyB0aGlzLnN0cklkICsgJyIgPic7DQoJCXJlc3VsdCA9IHJlc3VsdCArICc8bGFiZWwgaWQ9InNjYW5uZXJfc3RhdHVzXycgKyB0aGlzLnN0cklkICsgJyIgdmFsdWU9IiIvPicNCgkJcmVzdWx0ID0gcmVzdWx0ICsgCSc8Y2FwdGlvbiBsYWJlbD0iJyArIHRoaXMuc3RyUmVxdWVzdE9yaWdpbiArICIgaWQ6ICIrIHRoaXMuc3RySWQ7DQoJCWlmICh0aGlzLnN0ck5hbWUgIT0gJycpIHJlc3VsdCA9IHJlc3VsdCArICIsIG5hbWU6ICIgKyB0aGlzLnN0ck5hbWU7DQoJCXJlc3VsdCA9IHJlc3VsdCArCQkJIiwgbWV0aG9kOiAiICsgdGhpcy5zdHJSZXF1ZXN0TWV0aG9kOw0KCQlyZXN1bHQgPSByZXN1bHQgKwkJCSIsIGFjdGlvbjogIiArIHRoaXMub2JqQWN0aW9uLmdldFVSTCgpOw0KCQlyZXN1bHQgPSByZXN1bHQgKwkJCSciLz4nOw0KCQlyZXN1bHQgPSByZXN1bHQgKwknPHZib3ggPic7DQoJCXJlc3VsdCA9IHJlc3VsdCArCQknPHRvb2xiYXIgZmxleD0iMSIgPic7DQoJCXJlc3VsdCA9IHJlc3VsdCArCQkJJzx0b29sYmFyYnV0dG9uCWNsYXNzID0gImFjdW5ldGl4VG9vbGJhckJ1dG9uLXRlc3QiICc7DQoJCXJlc3VsdCA9IHJlc3VsdCArCQkJCQknbGFiZWwgPSAiJyArIGFjdW5ldGl4d2Vic2Nhbm5lci5zdHJpbmdzLmdldFN0cmluZygicmVxdWVzUGFubmVsLnJlcXVlc3QuYnV0dG9uVGVzdF9yZXF1ZXN0LmxhYmVsIikgKyAnIiAnOw0KCQlyZXN1bHQgPSByZXN1bHQgKwkJCQkJJ2lkPSJyZXF1ZXN0X3Rlc3RfJyArIHRoaXMuc3RySWQgKyAnIiBvbmNvbW1hbmQ9ImFjdW5ldGl4d2Vic2Nhbm5lci50ZXN0R2l2ZW5SZXF1ZXN0KFwnJyt0aGlzLnN0cklkKydcJyk7IiAvPic7DQoJCQ0KCQlyZXN1bHQgPSByZXN1bHQgKwkJCSc8dG9vbGJhcmJ1dHRvbiBjbGFzcyA9ICJhY3VuZXRpeFRvb2xiYXJCdXRvbi1yZWxvYWQiICc7DQoJCXJlc3VsdCA9IHJlc3VsdCArCQkJCSdsYWJlbCA9ICInICsgYWN1bmV0aXh3ZWJzY2FubmVyLnN0cmluZ3MuZ2V0U3RyaW5nKCJyZXF1ZXNQYW5uZWwucmVxdWVzdC5idXR0b25SZWxvYWRfcmVxdWVzdC5sYWJlbCIpICsgJyIgJzsNCgkJcmVzdWx0ID0gcmVzdWx0ICsJCQkJJ2lkPSJyZXF1ZXN0X3JlbG9hZF8nICsgdGhpcy5zdHJJZCArICciIG9uY29tbWFuZD0iYWN1bmV0aXh3ZWJzY2FubmVyLnJlbG9hZERhdGFGb3JHaXZlblJlcXVlc3QoXCcnK3RoaXMuc3RySWQrJ1wnKTsiIC8+JzsNCgkJDQoJCXJlc3VsdCA9IHJlc3VsdCArCQkJJzx0b29sYmFyYnV0dG9uIGNsYXNzID0gImFjdW5ldGl4VG9vbGJhckJ1dG9uLWFkZCIgJzsNCgkJcmVzdWx0ID0gcmVzdWx0ICsJCQkJJ2xhYmVsPSInICsgYWN1bmV0aXh3ZWJzY2FubmVyLnN0cmluZ3MuZ2V0U3RyaW5nKCJyZXF1ZXNQYW5uZWwucmVxdWVzdC5idXR0b25Ub2dnbGVPbi5sYWJlbCIpICsgJyIgJzsNCgkJcmVzdWx0ID0gcmVzdWx0ICsJCQkJJ2lkPSJyZXF1ZXN0X3RvZ2dsZW9uXycgKyB0aGlzLnN0cklkICsgJyIgb25jb21tYW5kPSJhY3VuZXRpeHdlYnNjYW5uZXIudG9nbGVHaXZlblJlcXVlc3RPTihcJycrdGhpcy5zdHJJZCsnXCcpOyIvPic7DQoJCXJlc3VsdCA9IHJlc3VsdCArCQkJJzx0b29sYmFyYnV0dG9uIGNsYXNzID0gImFjdW5ldGl4VG9vbGJhckJ1dG9uLXJlbW92ZSIgJzsNCgkJcmVzdWx0ID0gcmVzdWx0ICsJCQknbGFiZWw9IicgKyBhY3VuZXRpeHdlYnNjYW5uZXIuc3RyaW5ncy5nZXRTdHJpbmcoInJlcXVlc1Bhbm5lbC5yZXF1ZXN0LmJ1dHRvblRvZ2dsZU9mZi5sYWJlbCIpICsgJyIgJzsNCgkJcmVzdWx0ID0gcmVzdWx0ICsJCQknaWQ9InJlcXVlc3RfdG9nZ2xlb2ZmXycgKyB0aGlzLnN0cklkICsgJyIgb25jb21tYW5kPSJhY3VuZXRpeHdlYnNjYW5uZXIudG9nbGVHaXZlblJlcXVlc3RPRkYoXCcnK3RoaXMuc3RySWQrJ1wnKTsiLz4nOw0KCQlyZXN1bHQgPSByZXN1bHQgKwkJJzwvdG9vbGJhcj4nOw0KCQkNCgkJcmVzdWx0ID0gcmVzdWx0ICsJJzxoYm94Pic7DQoJCXJlc3VsdCA9IHJlc3VsdCArCQknPGdyaWQgZmxleD0iMSI+JzsNCgkJcmVzdWx0ID0gcmVzdWx0ICsJCQknPGNvbHVtbnM+JzsNCgkJcmVzdWx0ID0gcmVzdWx0ICsJCQkJJzxjb2x1bW4gZmxleD0iMiIvPic7DQoJCXJlc3VsdCA9IHJlc3VsdCArCQkJCSc8Y29sdW1uIGZsZXg9IjEiLz4nOw0KCQlyZXN1bHQgPSByZXN1bHQgKwkJCQknPGNvbHVtbiBmbGV4PSIxIi8+JzsNCgkJcmVzdWx0ID0gcmVzdWx0ICsJCQkJJzxjb2x1bW4gZmxleD0iMSIvPic7DQoJCXJlc3VsdCA9IHJlc3VsdCArCQkJCSc8Y29sdW1uIGZsZXg9IjEiLz4nOw0KCQlyZXN1bHQgPSByZXN1bHQgKwkJCQknPGNvbHVtbiBmbGV4PSIxIi8+JzsNCgkJcmVzdWx0ID0gcmVzdWx0ICsJCQkJJzxjb2x1bW4gZmxleD0iMSIvPic7DQoJCXJlc3VsdCA9IHJlc3VsdCArCQkJJzwvY29sdW1ucz4nOw0KCQlyZXN1bHQgPSByZXN1bHQgKwkJCSc8cm93cz4nOw0KCQlyZXN1bHQgPSByZXN1bHQgKwkJCQknPHJvdz4nOw0KCQlyZXN1bHQgPSByZXN1bHQgKwkJCQkJJzxsYWJlbCB2YWx1ZT0iUGFyYW0uTmFtZSIvPic7DQoJCXJlc3VsdCA9IHJlc3VsdCArCQkJCQknPGxhYmVsIHZhbHVlPSJQYXJhbS5UeXBlIi8+JzsNCgkJcmVzdWx0ID0gcmVzdWx0ICsJCQkJCSc8bGFiZWwgdmFsdWU9IlRlc3QgbWV0aG9kIi8+JzsNCgkJcmVzdWx0ID0gcmVzdWx0ICsJCQkJCSc8c3BhY2VyLz4nOw0KCQlyZXN1bHQgPSByZXN1bHQgKwkJCQkJJzxzcGFjZXIvPic7DQoJCXJlc3VsdCA9IHJlc3VsdCArCQkJCQknPHNwYWNlci8+JzsNCgkJcmVzdWx0ID0gcmVzdWx0ICsJCQkJCSc8c3BhY2VyLz4nOw0KCQlyZXN1bHQgPSByZXN1bHQgKwkJCQknPC9yb3c+JzsNCg0KCQlmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5hcnJheVBhcmFtZXRlcnMubGVuZ3RoIDsgaSsrKQ0KCQkJcmVzdWx0ID0gcmVzdWx0ICsgdGhpcy5hcnJheVBhcmFtZXRlcnNbaV0ucmVuZGVyKCk7DQoNCgkJcmVzdWx0ID0gcmVzdWx0ICsJCQknPC9yb3dzPic7DQoJCXJlc3VsdCA9IHJlc3VsdCArCQknPC9ncmlkPic7DQoJCXJlc3VsdCA9IHJlc3VsdCArCSc8L2hib3g+JzsNCgkJcmVzdWx0ID0gcmVzdWx0ICsJJzwvdmJveD4nOw0KCQlyZXN1bHQgPSByZXN1bHQgKyAnPC9ncm91cGJveD4nOw0KDQoJCXJldHVybihyZXN1bHQpOw0KCX0NCn0=')); ]]></script>
<script><![CDATA[ eval(atob('LyoNCkF1dGhvcjoJCUF0dGlsYSBHZXJlbmRpDQpQdXJwb3NlOglUaGUgY2xhc3NSZXF1ZXN0UGFyYW1ldGVyDQoqLw0KDQpmdW5jdGlvbiBjbGFzc1JlcXVlc3RQYXJhbWV0ZXIob2JqUGFnZURvY3VtZW50KSANCnsNCgl0aGlzLnN0ck5hbWUJCQkJCQk9IG5ldyBTdHJpbmcoKTsNCgl0aGlzLnN0clR5cGUJCQkJCQk9IG5ldyBTdHJpbmcoKTsNCgl0aGlzLmludElECQkJCQkJCT0gMDsNCgl0aGlzLnN0cklkCQkJCQkJCT0gbmV3IFN0cmluZygpOw0KCXRoaXMuc3RyUmVxdWVzdFR5cGUgCQkJCT0gbmV3IFN0cmluZygpOw0KCXRoaXMuaW50RXNjYXBlTWV0aG9kCQkJCT0gMTsNCgl0aGlzLmJvb2xTZW5kUGFyYW1ldGVyCQkJCT0gdHJ1ZTsNCgl0aGlzLmJvb2xNdWx0aXBsZVNlbGVjdGlvbkNvbnRyb2xsCT0gZmFsc2U7DQoJdGhpcy5ib29sQXBwbHlUZXN0UGF0ZXJucwkJCT0gZmFsc2U7DQoJdGhpcy5ib29sU2VsZWN0aW9uQ2hhbmdlYWJsZQkJPSBmYWxzZTsNCgl0aGlzLmJvb2xBbGxvd011bHRpcGxlU2VsZWN0aW9uCQk9IGZhbHNlOw0KCXRoaXMuYXJyYXlVc2VyU2VsZWN0ZWRWYWx1ZXMJCT0gbmV3IEFycmF5KCk7DQoJdGhpcy5hcnJheVNlbGVjdGFibGVWYWx1ZXMgCQkJPSBuZXcgQXJyYXkoKTsNCgkJDQoJdGhpcy50b1N0cmluZyA9IGZ1bmN0aW9uKCkNCgl7DQoJCXJlc3VsdCA9ICIiDQoJCXJlc3VsdCA9IHJlc3VsdCArICJQYXJhbWV0ZXI6ICIgKyB0aGlzLnN0clR5cGUgKyAiICIgKyB0aGlzLnN0ck5hbWUgKyAiICgiICsgdGhpcy5zdHJJZCArIilcclxuIjsNCgkJaWYodGhpcy5ib29sU2VuZFBhcmFtZXRlcikNCgkJCXJlc3VsdCA9IHJlc3VsdCArICIgYm9vbFNlbmRQYXJhbWV0ZXIiDQoJCWlmKHRoaXMuYm9vbE11bHRpcGxlU2VsZWN0aW9uQ29udHJvbGwpDQoJCQlyZXN1bHQgPSByZXN1bHQgKyAiIGJvb2xNdWx0aXBsZVNlbGVjdGlvbkNvbnRyb2xsIg0KCQlpZih0aGlzLmJvb2xBcHBseVRlc3RQYXRlcm5zKQ0KCQkJcmVzdWx0ID0gcmVzdWx0ICsgIiBib29sQXBwbHlUZXN0UGF0ZXJucyINCgkJaWYodGhpcy5ib29sU2VsZWN0aW9uQ2hhbmdlYWJsZSkNCgkJCXJlc3VsdCA9IHJlc3VsdCArICIgYm9vbFNlbGVjdGlvbkNoYW5nZWFibGUiDQoJCWlmKHRoaXMuYm9vbEFsbG93TXVsdGlwbGVTZWxlY3Rpb24pDQoJCQlyZXN1bHQgPSByZXN1bHQgKyAiIGJvb2xBbGxvd011bHRpcGxlU2VsZWN0aW9uIg0KCQlyZXN1bHQgPSByZXN1bHQgKyAiXHJcbiI7DQoJCXJlc3VsdCA9IHJlc3VsdCArICJcdCBhcnJheVVzZXJTZWxlY3RlZFZhbHVlcyA9ICIgKyB0aGlzLmFycmF5VXNlclNlbGVjdGVkVmFsdWVzICsgIlxyXG4iOw0KCQlyZXN1bHQgPSByZXN1bHQgKyAiXHQgYXJyYXlTZWxlY3RhYmxlVmFsdWVzID0gIiArIHRoaXMuYXJyYXlTZWxlY3RhYmxlVmFsdWVzKyAiXHJcbiI7DQoJCXJldHVybihyZXN1bHQpOw0KCX0NCgkNCgl0aGlzLmNvbXBhY3RQYXJhbWV0ZXJzID0gZnVuY3Rpb24ob2JqUGFyYW1ldGVyKQ0KCXsNCgkJdmFyIGNvbXBhY3RpbmdPY3VyZWQgPSBmYWxzZTsNCgkJaWYodGhpcy5pc0VxdWl2YWxlbnRXaXRoKG9ialBhcmFtZXRlcikpDQoJCXsNCgkJCWZvcih2YXIgaSA9IDA7IGkgPCBvYmpQYXJhbWV0ZXIuYXJyYXlTZWxlY3RhYmxlVmFsdWVzLmxlbmd0aDsgaSsrKQ0KCQkJCWlmKHRoaXMuYXJyYXlTZWxlY3RhYmxlVmFsdWVzLmluZGV4T2Yob2JqUGFyYW1ldGVyLmFycmF5U2VsZWN0YWJsZVZhbHVlc1tpXSkgPCAwKQ0KCQkJCXsNCgkJCQkJdGhpcy5hcnJheVNlbGVjdGFibGVWYWx1ZXMucHVzaChvYmpQYXJhbWV0ZXIuYXJyYXlTZWxlY3RhYmxlVmFsdWVzW2ldKTsNCgkJCQkJY29tcGFjdGluZ09jdXJlZCA9IHRydWU7DQoJCQkJfQ0KCQl9DQoJCXJldHVybiAoY29tcGFjdGluZ09jdXJlZCk7DQoJfQ0KDQoJdGhpcy5jb21wYXJlVXNlclNlbGVjdGVkRGF0YVdpdGggPSBmdW5jdGlvbihvYmpQYXJhbWV0ZXIpDQoJew0KCQlib29sQWxsVGhpc0luY2x1ZGVkSW5PYmpQYXJhbWV0ZXIgPSB0cnVlOw0KCQlmb3IodmFyIGkgPSAwOyBpIDwgdGhpcy5hcnJheVVzZXJTZWxlY3RlZFZhbHVlcy5sZW5ndGg7IGkrKykNCgkJew0KCQkJaWYob2JqUGFyYW1ldGVyLmFycmF5VXNlclNlbGVjdGVkVmFsdWVzLmluZGV4T2YodGhpcy5hcnJheVVzZXJTZWxlY3RlZFZhbHVlc1tpXSkgPCAwKQ0KCQkJew0KCQkJCWJvb2xBbGxUaGlzSW5jbHVkZWRJbk9ialBhcmFtZXRlciA9IGZhbHNlOw0KCQkJCWJyZWFrOw0KCQkJfQ0KCQl9DQoJCWJvb2xBbGxvYmpQYXJhbWV0ZXJJbmNsdWRlZEluVGhpcyA9IHRydWU7DQoJCWZvcih2YXIgaSA9IDA7IGkgPCBvYmpQYXJhbWV0ZXIuYXJyYXlVc2VyU2VsZWN0ZWRWYWx1ZXMubGVuZ3RoOyBpKyspDQoJCXsNCgkJCWlmKHRoaXMuYXJyYXlVc2VyU2VsZWN0ZWRWYWx1ZXMuaW5kZXhPZih0aGlzLmFycmF5VXNlclNlbGVjdGVkVmFsdWVzW2ldKSA8IDApDQoJCQl7DQoJCQkJYm9vbEFsbG9ialBhcmFtZXRlckluY2x1ZGVkSW5UaGlzID0gZmFsc2U7DQoJCQkJYnJlYWs7DQoJCQl9DQoJCX0NCgkJaWYoYm9vbEFsbFRoaXNJbmNsdWRlZEluT2JqUGFyYW1ldGVyICYmIGJvb2xBbGxvYmpQYXJhbWV0ZXJJbmNsdWRlZEluVGhpcykgcmV0dXJuICgiZXF1aXZhbGVudCIpOw0KCQlpZihib29sQWxsVGhpc0luY2x1ZGVkSW5PYmpQYXJhbWV0ZXIgJiYgKCFib29sQWxsb2JqUGFyYW1ldGVySW5jbHVkZWRJblRoaXMpICkgcmV0dXJuICgiaW5jbHVkZWQiKTsNCgkJaWYoYm9vbEFsbG9ialBhcmFtZXRlckluY2x1ZGVkSW5UaGlzICYmICghYm9vbEFsbFRoaXNJbmNsdWRlZEluT2JqUGFyYW1ldGVyKSApIHJldHVybiAoImNvbnRhaW4iKTsNCgkJcmV0dXJuKCJkaWZmZXJlbnQiKTsNCgl9DQoJDQoJdGhpcy5jb21wYXJlU2VsZWN0YWJsZURhdGFXaXRoID0gZnVuY3Rpb24ob2JqUGFyYW1ldGVyKQ0KCXsNCgkJYm9vbEFsbFRoaXNJbmNsdWRlZEluT2JqUGFyYW1ldGVyID0gdHJ1ZTsNCgkJZm9yKHZhciBpID0gMDsgaSA8IHRoaXMuYXJyYXlTZWxlY3RhYmxlVmFsdWVzLmxlbmd0aDsgaSsrKQ0KCQl7DQoJCQlpZihvYmpQYXJhbWV0ZXIuYXJyYXlTZWxlY3RhYmxlVmFsdWVzLmluZGV4T2YodGhpcy5hcnJheVNlbGVjdGFibGVWYWx1ZXNbaV0pIDwgMCkNCgkJCXsNCgkJCQlib29sQWxsVGhpc0luY2x1ZGVkSW5PYmpQYXJhbWV0ZXIgPSBmYWxzZTsNCgkJCQlicmVhazsNCgkJCX0NCgkJfQ0KCQlib29sQWxsb2JqUGFyYW1ldGVySW5jbHVkZWRJblRoaXMgPSB0cnVlOw0KCQlmb3IodmFyIGkgPSAwOyBpIDwgb2JqUGFyYW1ldGVyLmFycmF5U2VsZWN0YWJsZVZhbHVlcy5sZW5ndGg7IGkrKykNCgkJew0KCQkJaWYodGhpcy5hcnJheVNlbGVjdGFibGVWYWx1ZXMuaW5kZXhPZih0aGlzLmFycmF5U2VsZWN0YWJsZVZhbHVlc1tpXSkgPCAwKQ0KCQkJew0KCQkJCWJvb2xBbGxvYmpQYXJhbWV0ZXJJbmNsdWRlZEluVGhpcyA9IGZhbHNlOw0KCQkJCWJyZWFrOw0KCQkJfQ0KCQl9DQoJCWlmKGJvb2xBbGxUaGlzSW5jbHVkZWRJbk9ialBhcmFtZXRlciAmJiBib29sQWxsb2JqUGFyYW1ldGVySW5jbHVkZWRJblRoaXMpIHJldHVybiAoImVxdWl2YWxlbnQiKTsNCgkJaWYoYm9vbEFsbFRoaXNJbmNsdWRlZEluT2JqUGFyYW1ldGVyICYmICghYm9vbEFsbG9ialBhcmFtZXRlckluY2x1ZGVkSW5UaGlzKSApIHJldHVybiAoImluY2x1ZGVkIik7DQoJCWlmKGJvb2xBbGxvYmpQYXJhbWV0ZXJJbmNsdWRlZEluVGhpcyAmJiAoIWJvb2xBbGxUaGlzSW5jbHVkZWRJbk9ialBhcmFtZXRlcikgKSByZXR1cm4gKCJjb250YWluIik7DQoJCXJldHVybigiZGlmZmVyZW50Iik7DQoJfQ0KCQ0KCS8vIGVxdWl2YWxlbmN5IHRlc3QgYmV0d2VuIHRoaXMgYW5kIGEgc2VjY29uZCBSZXF1ZXN0UGFyYW1hdGVyDQoJdGhpcy5pc0VxdWl2YWxlbnRXaXRoID0gZnVuY3Rpb24ob2JqUmVxdWVzdFBhcmFtZXRlcikNCgl7DQoJCWlmKHRoaXMuc3RyTmFtZS50b0xvd2VyQ2FzZSgpICE9IG9ialJlcXVlc3RQYXJhbWV0ZXIuc3RyTmFtZS50b0xvd2VyQ2FzZSgpKQ0KCQkJcmV0dXJuIChmYWxzZSk7DQoJCWlmKHRoaXMuc3RyUmVxdWVzdFR5cGUudG9Mb3dlckNhc2UoKSAhPSBvYmpSZXF1ZXN0UGFyYW1ldGVyLnN0clJlcXVlc3RUeXBlLnRvTG93ZXJDYXNlKCkpDQoJCQlyZXR1cm4gKGZhbHNlKTsNCgkJcmV0dXJuKHRydWUpOw0KCX0NCgkNCgkvLyByZW5kZXIgdGhlIGNsYXNzIHRvIGJlIHNob3duIGluIGZpcmVmb3gNCgl0aGlzLnJlbmRlciA9IGZ1bmN0aW9uKCkNCgl7DQoJCXZhciBzdHJSZXN1bHQgPSBuZXcgU3RyaW5nKCk7DQoJCXN0clJlc3VsdCA9IHN0clJlc3VsdCArJzxyb3c+JzsNCgkJc3RyUmVzdWx0ID0gc3RyUmVzdWx0ICsJCSc8dmJveCBwYWNrPSJzdGFydCI+PHRleHRib3ggcmVhZG9ubHk9InRydWUiIHNpemUgPSAiMTAiIHZhbHVlPSInDQoJCQkJCQkJCQkJKyB0aGlzLnN0ck5hbWUNCgkJCQkJCQkJCQkrICciIG9ubW91c2VvdmVyPSJhY3VuZXRpeHdlYnNjYW5uZXIub2JqSGlnaGxpZ2h0ZXIuaGlnaGxpZ2h0SXRlbShcJycgKyB0aGlzLnN0cklkICsgJ1wnLHRydWUpIiBvbm1vdXNlb3V0PSJhY3VuZXRpeHdlYnNjYW5uZXIub2JqSGlnaGxpZ2h0ZXIuaGlnaGxpZ2h0SXRlbShcJycgKyB0aGlzLnN0cklkICsgJ1wnLGZhbHNlKSIvPjwvdmJveD4nOw0KCQlzdHJSZXN1bHQgPSBzdHJSZXN1bHQgKwkJJzx2Ym94IHBhY2s9InN0YXJ0Ij48dGV4dGJveCByZWFkb25seT0idHJ1ZSIgdmFsdWU9IicNCgkJCQkJCQkJCQkrIHRoaXMuc3RyUmVxdWVzdFR5cGUgKyAnOicgKyB0aGlzLnN0clR5cGUgKyAnIiBzaXplID0gIjEwIi8+PC92Ym94Pic7DQoJCXN0clJlc3VsdCA9IHN0clJlc3VsdCArCQknPHZib3ggcGFjaz0ic3RhcnQiPic7DQoJCXN0clJlc3VsdCA9IHN0clJlc3VsdCArCQkJJzxjaGVja2JveCAnOw0KCQlzdHJSZXN1bHQgPSBzdHJSZXN1bHQgKwkJCQknaWQgPSAiYXBwbHlUZXN0UGF0dGVybnNfJyArIHRoaXMuc3RySWQgKyciIGxhYmVsPSJUZXN0IiBjaGVja2VkPSInICsgdGhpcy5ib29sQXBwbHlUZXN0UGF0ZXJucyArICciIG9uY29tbWFuZCA9ICJhY3VuZXRpeHdlYnNjYW5uZXIuY21kQ2hhbmdlUmVxdWVzdFBhcmFtZXRlcihcJycgKyB0aGlzLmludElEICsgJ1wnLFwnYm9vbEFwcGx5VGVzdFBhdGVybnNcJyx0aGlzLmNoZWNrZWQpIiAvPic7DQoJCXN0clJlc3VsdCA9IHN0clJlc3VsdCArCQknPC92Ym94Pic7DQoJCXN0clJlc3VsdCA9IHN0clJlc3VsdCArCQknPHZib3ggcGFjaz0ic3RhcnQiPic7DQoJCXN0clJlc3VsdCA9IHN0clJlc3VsdCArCQkJJzxjaGVja2JveCAnOw0KCQlzdHJSZXN1bHQgPSBzdHJSZXN1bHQgKwkJCQknbGFiZWw9IicrYWN1bmV0aXh3ZWJzY2FubmVyLnN0cmluZ3MuZ2V0U3RyaW5nKCJyZXF1ZXNQYW5uZWwucGFyYW1ldGVyLmNiQ2hhbmdlU2VsZWN0aW9ucyIpKyciICc7DQoJCXN0clJlc3VsdCA9IHN0clJlc3VsdCArCQkJCSdjaGVja2VkPSInICsgdGhpcy5ib29sU2VsZWN0aW9uQ2hhbmdlYWJsZSArICciIGRpc2FibGVkPSInICsgKHRoaXMuYXJyYXlTZWxlY3RhYmxlVmFsdWVzLmxlbmd0aCA8PSAxKSArICciIG9uY29tbWFuZCA9ICJhY3VuZXRpeHdlYnNjYW5uZXIuY21kQ2hhbmdlUmVxdWVzdFBhcmFtZXRlcihcJycgKyB0aGlzLmludElEICsgJ1wnLFwnYm9vbFNlbGVjdGlvbkNoYW5nZWFibGVcJyx0aGlzLmNoZWNrZWQpIiAvPic7DQoJCXN0clJlc3VsdCA9IHN0clJlc3VsdCArCQknPC92Ym94Pic7DQoJCXN0clJlc3VsdCA9IHN0clJlc3VsdCArCQknPHZib3ggcGFjaz0ic3RhcnQiPic7DQoJCXN0clJlc3VsdCA9IHN0clJlc3VsdCArCQkJJzxjaGVja2JveCAnOw0KCQlzdHJSZXN1bHQgPSBzdHJSZXN1bHQgKwkJCQknbGFiZWw9IicrYWN1bmV0aXh3ZWJzY2FubmVyLnN0cmluZ3MuZ2V0U3RyaW5nKCJyZXF1ZXNQYW5uZWwucGFyYW1ldGVyLmNiTXVsdGlwbGVTZWxlY3Rpb25zIikrJyIgJzsNCgkJc3RyUmVzdWx0ID0gc3RyUmVzdWx0ICsJCQkJJ2Rpc2FibGVkPSInICsgIXRoaXMuYm9vbE11bHRpcGxlU2VsZWN0aW9uQ29udHJvbGwgKyAnIiBjaGVja2VkPSInICsgdGhpcy5ib29sQWxsb3dNdWx0aXBsZVNlbGVjdGlvbiArICciIG9uY29tbWFuZCA9ICJhY3VuZXRpeHdlYnNjYW5uZXIuY21kQ2hhbmdlUmVxdWVzdFBhcmFtZXRlcihcJycgKyB0aGlzLmludElEICsgJ1wnLFwnYm9vbEFsbG93TXVsdGlwbGVTZWxlY3Rpb25cJyx0aGlzLmNoZWNrZWQpIi8+JzsNCgkJc3RyUmVzdWx0ID0gc3RyUmVzdWx0ICsJCSc8L3Zib3g+JzsNCgkJc3RyUmVzdWx0ID0gc3RyUmVzdWx0ICsJCSc8dmJveCBwYWNrPSJzdGFydCI+JzsNCgkJc3RyUmVzdWx0ID0gc3RyUmVzdWx0ICsJCQknPGNoZWNrYm94ICc7DQoJCXN0clJlc3VsdCA9IHN0clJlc3VsdCArCQkJCSdsYWJlbD0iJythY3VuZXRpeHdlYnNjYW5uZXIuc3RyaW5ncy5nZXRTdHJpbmcoInJlcXVlc1Bhbm5lbC5wYXJhbWV0ZXIuY2JTZW5kIikrJyIgJzsNCgkJc3RyUmVzdWx0ID0gc3RyUmVzdWx0ICsJCQkJJ2NoZWNrZWQ9IicgKyB0aGlzLmJvb2xTZW5kUGFyYW1ldGVyICsgJyIgb25jb21tYW5kID0gImFjdW5ldGl4d2Vic2Nhbm5lci5jbWRDaGFuZ2VSZXF1ZXN0UGFyYW1ldGVyKFwnJyArIHRoaXMuaW50SUQgKyAnXCcsXCdib29sU2VuZFBhcmFtZXRlclwnLHRoaXMuY2hlY2tlZCkiLz4nDQoJCXN0clJlc3VsdCA9IHN0clJlc3VsdCArCQknPC92Ym94Pic7DQoJCXN0clJlc3VsdCA9IHN0clJlc3VsdCArCSc8c3BhY2VyIGZsZXg9IjEwMDAwIiAvPic7DQoJCXN0clJlc3VsdCA9IHN0clJlc3VsdCArJzwvcm93Pic7DQoJCXJldHVybihzdHJSZXN1bHQpOw0KCX0NCn0=')); ]]></script>
<script><![CDATA[ eval(atob('LyoNCkF1dGhvcjoJCUF0dGlsYSBHZXJlbmRpDQpQdXJwb3NlOglUaGUgQ2xhc3NUZXN0UmVxdWVzdCwgdGhlIGJhc2Ugb2YgYWxsIHBhcmFtZXRlciBtYW5uaXB1bGF0aW9uIHRlc3QNCiovDQoNCmZ1bmN0aW9uIENsYXNzVGVzdFJlcXVlc3QoKQ0Kew0KCXRoaXMuc3RyUmVxdWVzdFVSTAkJCQk9ICIiOw0KCXRoaXMuc3RyUmVxdWVzdE1ldGhvZAkJCT0gIiINCgl0aGlzLnN0clVzZXJuYW1lCQkJCT0gIiI7DQoJdGhpcy5zdHJQYXNzd29yZAkJCQk9ICIiOw0KCXRoaXMuYm9vbERlbGV0ZU9yaWdpbmFsQ29va2llCT0gZmFsc2U7DQoJdGhpcy5ib29sRGVsZXRlT3JpZ2luYWxIZWFkZXJzCT0gZmFsc2U7DQoJdGhpcy5pbnRSZWRpcmVjdGlvbkxpbWl0CQk9IDIwOw0KCQ0KCXRoaXMuYXJyYXlBY2NlcHRlZENvbnRlbnRUeXBlcwk9IG5ldyBBcnJheSgpOw0KDQoJdGhpcy5vYmpHZXRQYXJhbXMJCQkJPSBuZXcgY2xhc3NQYXJhbWV0ZXJMaXN0KCIiLCImIik7DQoJdGhpcy5vYmpQb3N0UGFyYW1zCQkJCT0gbmV3IGNsYXNzUGFyYW1ldGVyTGlzdCgiIiwiJiIpOw0KCXRoaXMub2JqQ29va2llUGFyYW1zCQkJPSBuZXcgY2xhc3NQYXJhbWV0ZXJMaXN0KCIiLCI7Iik7DQoJdGhpcy5vYmpIZWFkZXJzCQkJCQk9IG5ldyBjbGFzc1BhcmFtZXRlckxpc3QoIiIsIlxyXG4iKTsNCgkNCgl0aGlzLmJvb2xBc2luY3JvblJlcXVlc3RBYm9ydGVkID0gMDsNCgl0aGlzLmJvb2xIZWFkZXJzUmVjb3JkZWQJCT0gZmFsc2U7DQoJdGhpcy5vYmpDYWxsZXJDbGFzcyAJCQk9IG51bGw7DQoJdGhpcy5vYmpIVFRQUmVxIAkJCQk9IG51bGw7DQoJDQoJdGhpcy5pbnRSZXRyeU51bWJlcgkJCQk9IDA7DQoJdGhpcy5ib29sRW5hYmxlUmV0cnkJCQk9IHRydWU7DQoJDQoJdGhpcy50b1N0cmluZwkJCQkJPSB0b1N0cmluZzsNCgl0aGlzLmNyZWF0ZUNvcHkJCQkJCT0gY3JlYXRlQ29weTsNCgl0aGlzLmRvQXNpbmNyb25SZXF1ZXN0CQkJPSBkb0FzaW5jcm9uUmVxdWVzdDsNCgkNCglmdW5jdGlvbiBhYm9ydEN1cnJlbnRSZXF1ZXN0KCkNCgl7DQoJCXRoaXMuYm9vbEFzaW5jcm9uUmVxdWVzdEFib3J0ZWQgPSAxOw0KCQlhY3VuZXRpeHdlYnNjYW5uZXIuZ2VuZXJhbFRpbWVyLmNhbmNlbCgpOw0KCQl0aGlzLm9iakhUVFBSZXEuYWJvcnQoKTsNCgl9DQoJDQoJLyoNCglpbnRFcnJvckNvZGUgPT0gLTEgYWJvcnRlZCBieSBlcnJvcg0KCWludEVycm9yQ29kZSA9PSAxIGFib3J0ZWQgYnkgdXNlcg0KCWludEVycm9yQ29kZSA9PSAyIGFib3J0ZWQgYnkgdGltZW91dA0KCWludEVycm9yQ29kZSA9PSAzIGFib3J0ZWQgYnkgZXJyb3IgKG51IHByZWEgY3JlZCBjYSBpZXNlIHBlIGFpY2kgdnJlb2RhdGEpDQoJaW50RXJyb3JDb2RlID09IDQgYWJvcnRlZCBiZWNhdXNlIGxlbmd0aA0KCWludEVycm9yQ29kZSA9PSA1IGFib3J0ZWQgYmVjYXVzZSBjb250ZW50IHR5cGUNCgkqLwkNCgkNCglmdW5jdGlvbiBkb0FzaW5jcm9uUmVxdWVzdChvYmpDYWxsZXJDbGFzcykNCgl7DQoJCXRoaXMuYm9vbEFzaW5jcm9uUmVxdWVzdEFib3J0ZWQgPSAwOw0KCQl0aGlzLmJvb2xIZWFkZXJzUmVjb3JkZWQJCT0gZmFsc2U7DQoJCQ0KCQlpZihvYmpDYWxsZXJDbGFzcyAhPSBudWxsKQ0KCQl7DQoJCQl0aGlzLm9iakNhbGxlckNsYXNzID0gb2JqQ2FsbGVyQ2xhc3M7DQoJCX0NCgkJDQoJCXZhciBzdHJSZXF1ZXN0VVJMIAk9IHRoaXMuc3RyUmVxdWVzdFVSTDsNCgkJdGhpcy5vYmpIVFRQUmVxCQk9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOw0KCQkNCgkJDQoJCWZ1bmN0aW9uIG9ucmVhZHlzdGF0ZWNoYW5nZSgpDQoJCXsNCgkJCQkJCQ0KCQkJLy90aGlzLnBhcmVudC5vYmpIVFRQUmVxLmFib3J0KCk7IHdpbGwgcmV0cmlnZ2VyIHRoaXMgZnVuY3Rpb24sIG5leHQgdGltZSB3ZSB3aWxsIGp1c3QgZXhpdA0KCQkJaWYodGhpcy5wYXJlbnQuYm9vbEFzaW5jcm9uUmVxdWVzdEFib3J0ZWQgPT0gMSkNCgkJCQlyZXR1cm47DQoJCQkNCgkJCWlmKHRoaXMucGFyZW50Lm9iakNhbGxlckNsYXNzLm9iakNhbGxlckNsYXNzLmJvb2xUZXN0ZXJNYXJrZWRUb0RpZSkNCgkJCS8vaWYoYWN1bmV0aXh3ZWJzY2FubmVyLm9ialNjYW5uaW5nUHJvY2Vzc1N0YXR1cy5ib29sQWJvcnRTY2FuKQ0KCQkJew0KCQkJCWxvZ1RvRmlsZSgiL2RvQXNpbmNyb25SZXF1ZXN0L29ucmVhZHlzdGF0ZWNoYW5nZSA9PiB1c2VyQWJvcnRSZXF1ZXN0IGRldGVjdGVkIChib29sQWJvcnRTY2FuID0gdHJ1ZSkiKTsNCgkJCQl0aGlzLnBhcmVudC5ib29sQXNpbmNyb25SZXF1ZXN0QWJvcnRlZCA9IDE7DQoJCQkJYWN1bmV0aXh3ZWJzY2FubmVyLmdlbmVyYWxUaW1lci5jYW5jZWwoKTsNCgkJCQl0aGlzLnBhcmVudC5vYmpIVFRQUmVxLmFib3J0KCk7DQoJCQkJcmV0dXJuOw0KCQkJfQ0KCQkJDQoJCQlpZiAodGhpcy5wYXJlbnQuYm9vbEFzaW5jcm9uUmVxdWVzdEFib3J0ZWQgPiAwKQ0KCQkJew0KCQkJCWxvZ1RvRmlsZSgiL2RvQXNpbmNyb25SZXF1ZXN0L29ucmVhZHlzdGF0ZWNoYW5nZSA9PiBhYm9ydGVkOiAiICsgdGhpcy5wYXJlbnQuYm9vbEFzaW5jcm9uUmVxdWVzdEFib3J0ZWQpOw0KCQkJCXN3aXRjaCh0aGlzLnBhcmVudC5ib29sQXNpbmNyb25SZXF1ZXN0QWJvcnRlZCkNCgkJCQl7DQoJCQkJCWNhc2UgMTogLy8gYWJvcnRlZCBieSB1c2VyDQoJCQkJCQl0aGlzLnBhcmVudC5vYmpDYWxsZXJDbGFzcy5vYmpUYXNrUmVzdWx0LmludEVycm9yQ29kZQkJCT0gdGhpcy5wYXJlbnQuYm9vbEFzaW5jcm9uUmVxdWVzdEFib3J0ZWQ7DQoJCQkJCQl0aGlzLnBhcmVudC5vYmpDYWxsZXJDbGFzcy5vYmpUYXNrUmVzdWx0LnN0ckVycm9yVGV4dAkJCT0gIkFib3J0ZWQiOw0KCQkJCQkJYnJlYWs7DQoJCQkJCWNhc2UgMzogLy8gdGhpcyBjYXNlIChlcnJvciBnZW5lcmF0ZWQgaW4gdGhlIHJlcXVlc3QgdHJ5IGNhdGNoKSBpcyBhbHJlYWR5IGhhbmRsZWQNCgkJCQkJCXJldHVybjsNCgkJCQkJY2FzZSAyOiAvLyBhYm9ydGVkIGJ5IHRpbWVvdXQNCgkJCQkJCWlmKCh0aGlzLnBhcmVudC5ib29sRW5hYmxlUmV0cnkpICYmICh0aGlzLnBhcmVudC5pbnRSZXRyeU51bWJlciA8IGFjdW5ldGl4d2Vic2Nhbm5lci5vYmpNb3pQcmVmcy5nZXRJbnRQcmVmKCJpbnRNYXhpbXVtUmV0cnkiKSkpDQoJCQkJCQl7DQoJCQkJCQkJdGhpcy5wYXJlbnQuaW50UmV0cnlOdW1iZXIgKys7DQoJCQkJCQkJbG9nVG9GaWxlKCIvZG9Bc2luY3JvblJlcXVlc3Qvb25yZWFkeXN0YXRlY2hhbmdlID0+IFJldHJpaW5nIGJ5IHRpbWVvdXQ6ICIgKyB0aGlzLnBhcmVudC5pbnRSZXRyeU51bWJlcik7DQoJCQkJCQkJdGhpcy5wYXJlbnQuZG9Bc2luY3JvblJlcXVlc3QoKTsNCgkJCQkJCQlyZXR1cm47CQ0KCQkJCQkJfQ0KCQkJCQkJdGhpcy5wYXJlbnQub2JqQ2FsbGVyQ2xhc3Mub2JqVGFza1Jlc3VsdC5pbnRFcnJvckNvZGUJCQk9IC0xOw0KCQkJCQkJdGhpcy5wYXJlbnQub2JqQ2FsbGVyQ2xhc3Mub2JqVGFza1Jlc3VsdC5zdHJFcnJvclRleHQJCQk9ICJUaW1lb3V0ICgiICsgYWN1bmV0aXh3ZWJzY2FubmVyLm9iak1velByZWZzLmdldEludFByZWYoImludFJlcXVlc3RUaW1lT3V0IikgKyAiKSI7DQoJCQkJCQlhY3VuZXRpeHdlYnNjYW5uZXIub2JqU2Nhbm5pbmdQcm9jZXNzU3RhdHVzLm9uZU1vcmVFcnJvckZvdW5kKCk7DQoJCQkJCQlicmVhazsNCgkJCQkJZGVmYXVsdDogLy9hYm9ydGVkIGJ5IGZpbHRlcnMNCgkJCQkJCWJyZWFrOw0KCQkJCX0NCgkJCQlpZiAodGhpcy5wYXJlbnQuYm9vbEFzaW5jcm9uUmVxdWVzdEFib3J0ZWQgPT0gMykgLy8gdGhpcyBjYXNlIChlcnJvciBnZW5lcmF0ZWQgaW4gcmVxdWVzdCB0cnkgY2F0Y2gpIGlzIGFscmVhZHkgaGFuZGxlZA0KCQkJCQlyZXR1cm47DQoJCQkJDQoJCQkJLy9FWElUUE9JTlQNCgkJCQlhY3VuZXRpeHdlYnNjYW5uZXIub2JqU2Nhbm5pbmdQcm9jZXNzU3RhdHVzLm9uZU1vcmVSZXF1ZXN0SGFuZGxlZCgpIDsNCgkJCQlhY3VuZXRpeHdlYnNjYW5uZXIuZ2VuZXJhbFRpbWVyLmluaXRXaXRoQ2FsbGJhY2sodGhpcy5wYXJlbnQub2JqQ2FsbGVyQ2xhc3MuZm5jVGFza0NhbGxCYWNrLCBhY3VuZXRpeHdlYnNjYW5uZXIub2JqTW96UHJlZnMuZ2V0SW50UHJlZigiaW50U3RhdHVzTWFjaGluZVJldHJpZ2dlclRpbWUiKSAsIENvbXBvbmVudHMuaW50ZXJmYWNlcy5uc0lUaW1lci5UWVBFX09ORV9TSE9UKTsNCgkJCQlyZXR1cm47CQkJCQ0KCQkJfQ0KCQkJZWxzZQ0KCQkJew0KCQkJCWlmKHRoaXMucGFyZW50Lm9iakhUVFBSZXEucmVhZHlTdGF0ZSA9PSAxKQ0KCQkJCXsNCgkJCQkJLy9sb2dUb0ZpbGUoIj0+IGRvQXNpbmNyb25SZXF1ZXN0ID0+IG9ucmVhZHlzdGF0ZWNoYW5nZSA9PiByZWFkeVN0YXRlID0gMSIpOw0KCQkJCX0NCgkJCQllbHNlDQoJCQkJaWYodGhpcy5wYXJlbnQub2JqSFRUUFJlcS5yZWFkeVN0YXRlID09IDIpDQoJCQkJew0KCQkJCQkvL2hlcmUgd2UgaGF2ZSB0aGUgcmVxdWVzdCBoZWFkZXIgZm9ybWVkIA0KCQkJCQlsb2dUb0ZpbGUoIj0+IGRvQXNpbmNyb25SZXF1ZXN0ID0+IG9ucmVhZHlzdGF0ZWNoYW5nZSA9PiByZWFkeVN0YXRlID0gMiIpOw0KCQkJCQl2YXIgc3RyUmVxdWVzdEhlYWRlciA9IHRoaXMucGFyZW50LnN0clJlcXVlc3RNZXRob2QgKyAnICc7DQoJCQkJCXN0clJlcXVlc3RIZWFkZXIgPSBzdHJSZXF1ZXN0SGVhZGVyICsgdGhpcy5wYXJlbnQuc3RyUmVxdWVzdFVSTDsNCgkJCQkJaWYoIHRoaXMucGFyZW50Lm9iakdldFBhcmFtcy50b1N0cmluZygpICE9ICIiKQ0KCQkJCQkJc3RyUmVxdWVzdEhlYWRlciA9IHN0clJlcXVlc3RIZWFkZXIgKyAiPyIgKyB0aGlzLnBhcmVudC5vYmpHZXRQYXJhbXMudG9TdHJpbmcoKTsNCgkJCQkJc3RyUmVxdWVzdEhlYWRlciA9IHN0clJlcXVlc3RIZWFkZXIgKyAnIEhUVFAvMS4xXHJcbicgKyB0aGlzLnBhcmVudC5vYmpIVFRQUmVxLnN0clJlcXVlc3RIZWFkZXJzICsgJ1xyXG4nOw0KCQkJCQlpZih0aGlzLnBhcmVudC5zdHJSZXF1ZXN0TWV0aG9kID09ICdQT1NUJykNCgkJCQkJew0KCQkJCQkJc3RyUmVxdWVzdEhlYWRlciA9IHN0clJlcXVlc3RIZWFkZXIgKyB0aGlzLnBhcmVudC5vYmpQb3N0UGFyYW1zLnRvU3RyaW5nKCk7DQoJCQkJCX0NCgkJCQkJdGhpcy5wYXJlbnQub2JqQ2FsbGVyQ2xhc3Mub2JqVGFza1Jlc3VsdC5zdHJSZXF1ZXN0SGVhZGVyCT0gc3RyUmVxdWVzdEhlYWRlcjsNCgkJCQl9DQoJCQkJZWxzZQ0KCQkJCWlmKHRoaXMucGFyZW50Lm9iakhUVFBSZXEucmVhZHlTdGF0ZSA9PSAzKQ0KCQkJCXsNCgkJCQkJLy8gaGVyZSB3ZSBoYXZlIHJlc3BvbnNlLCBhbmQgdGhlIHJlc3BvbnNlIGhlYWRlciBmb3JtZWQNCgkJCQkJbG9nVG9GaWxlKCI9PiBkb0FzaW5jcm9uUmVxdWVzdCA9PiBvbnJlYWR5c3RhdGVjaGFuZ2UgPT4gcmVhZHlTdGF0ZSA9IDMiKTsJCQ0KCQkJCQl2YXIgc3RyUmVzcG9uc2VIZWFkZXIgPSAnSFRUUC8xLjEgJyArIHRoaXMucGFyZW50Lm9iakhUVFBSZXEuc3RhdHVzICsgJyAnICsgdGhpcy5wYXJlbnQub2JqSFRUUFJlcS5zdGF0dXNUZXh0ICsgJ1xyXG4nICsgdGhpcy5wYXJlbnQub2JqSFRUUFJlcS5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKTsNCgkJCQkJdGhpcy5wYXJlbnQub2JqQ2FsbGVyQ2xhc3Mub2JqVGFza1Jlc3VsdC5zdHJSZXNwb25zZUhlYWRlcgk9IHN0clJlc3BvbnNlSGVhZGVyOw0KCQkJCQl0aGlzLnBhcmVudC5ib29sSGVhZGVyc1JlY29yZGVkID0gdHJ1ZTsNCgkJCQkJDQoJCQkJCXZhciBsZW5ndGggPSB0aGlzLnBhcmVudC5vYmpIVFRQUmVxLmdldFJlc3BvbnNlSGVhZGVyKCJDb250ZW50LUxlbmd0aCIpOw0KCQkJCQlpZiggbGVuZ3RoID4gYWN1bmV0aXh3ZWJzY2FubmVyLm9iak1velByZWZzLmdldEludFByZWYoImludE1heGltdW1SZXNwb25zZUFsb3dlZCIpKQ0KCQkJCQl7DQoJCQkJCQlsb2dUb0ZpbGUoIi9kb0FzaW5jcm9uUmVxdWVzdC9vbnJlYWR5c3RhdGVjaGFuZ2UgPT4gQWJvcnRpbmc6IHJlc3BvbnNlIHRvbyBiaWciKTsNCgkJCQkJCXRoaXMucGFyZW50Lm9iakNhbGxlckNsYXNzLm9ialRhc2tSZXN1bHQuc3RyUmVzcG9uc2VUZXh0ID0gIltSRVNQT05TRSBERUxFVEVEIChUb28gQmlnKV0iDQoJCQkJCQl0aGlzLnBhcmVudC5ib29sQXNpbmNyb25SZXF1ZXN0QWJvcnRlZCA9IDQ7DQoJCQkJCQlhY3VuZXRpeHdlYnNjYW5uZXIuZ2VuZXJhbFRpbWVyLmNhbmNlbCgpOw0KCQkJCQkJdGhpcy5wYXJlbnQub2JqSFRUUFJlcS5hYm9ydCgpOw0KCQkJCQl9DQoJCQkJCQ0KCQkJCQl2YXIgY29udGVudFR5cGUgPSB0aGlzLnBhcmVudC5vYmpIVFRQUmVxLmdldFJlc3BvbnNlSGVhZGVyKCJDb250ZW50LVR5cGUiKTsNCgkJCQkJdmFyIGJvb2xGb3VuZCA9IGZhbHNlOw0KCQkJCQkNCgkJCQkJaWYgKCh0aGlzLnBhcmVudC5hcnJheUFjY2VwdGVkQ29udGVudFR5cGVzID09IG51bGwpIHx8ICh0aGlzLnBhcmVudC5hcnJheUFjY2VwdGVkQ29udGVudFR5cGVzLmxlbmd0aCA9PSAwKSkNCgkJCQkJCWJvb2xGb3VuZCA9IHRydWU7DQoJCQkJCWVsc2UNCgkJCQkJew0KCQkJCQkJZm9yKHZhciBpID0gMDsgaSA8IHRoaXMucGFyZW50LmFycmF5QWNjZXB0ZWRDb250ZW50VHlwZXMubGVuZ3RoOyBpKyspDQoJCQkJCQl7DQoJCQkJCQkJaWYoY29udGVudFR5cGUuc2VhcmNoKHRoaXMucGFyZW50LmFycmF5QWNjZXB0ZWRDb250ZW50VHlwZXNbaV0pICE9IC0xKQ0KCQkJCQkJCXsNCgkJCQkJCQkJYm9vbEZvdW5kID0gdHJ1ZTsNCgkJCQkJCQkJYnJlYWs7DQoJCQkJCQkJfQ0KCQkJCQkJfQ0KCQkJCQl9DQoJCQkJCWlmKCFib29sRm91bmQpDQoJCQkJCXsNCgkJCQkJCWxvZ1RvRmlsZSgiL2RvQXNpbmNyb25SZXF1ZXN0L29ucmVhZHlzdGF0ZWNoYW5nZSA9PiBBYm9ydGluZzogY29udGVudCB0eXBlIG5vdCBhbG93ZWQgKCIgKyBjb250ZW50VHlwZSArICIpIik7DQoJCQkJCQl0aGlzLnBhcmVudC5vYmpDYWxsZXJDbGFzcy5vYmpUYXNrUmVzdWx0LnN0clJlc3BvbnNlVGV4dCA9ICJbUkVTUE9OU0UgREVMRVRFRCAoQ29udGVudC1UeXBlIE5vdCBBbG93ZWQpXSINCgkJCQkJCXRoaXMucGFyZW50LmJvb2xBc2luY3JvblJlcXVlc3RBYm9ydGVkID0gNTsNCgkJCQkJCWFjdW5ldGl4d2Vic2Nhbm5lci5nZW5lcmFsVGltZXIuY2FuY2VsKCk7DQoJCQkJCQl0aGlzLnBhcmVudC5vYmpIVFRQUmVxLmFib3J0KCk7DQoJCQkJCX0NCgkJCQl9DQoJCQkJZWxzZQ0KCQkJCWlmKHRoaXMucGFyZW50Lm9iakhUVFBSZXEucmVhZHlTdGF0ZSA9PSA0KQ0KCQkJCXsNCgkJCQkJYWN1bmV0aXh3ZWJzY2FubmVyLmdlbmVyYWxUaW1lci5jYW5jZWwoKTsNCgkJCQkJDQoJCQkJCWxvZ1RvRmlsZSgiZG9Bc2luY3JvblJlcXVlc3Qvb25yZWFkeXN0YXRlY2hhbmdlID0+IHJlYWR5U3RhdGUgPSBPSyAoNCkiKTsNCgkJCQkJCQkJDQoJCQkJCXRyeSAvL3dlIG5lZWQgdG8gaGFuZGxlIHRoaXMgd2F5IGJlY2F1c2UgZmlyZWZveCB3ZWlyZCBiZWhhdmlvciB0byBpbiBjYXNlIG9mIGVycm9yIGZpcnN0IGNhbGwgb25yZWFkeVN0YXRlIHdpdGggcmVhZHlTdGF0ZSA9IDQgYWZ0ZXIgdGhhdCBvbmVycm9yLi4uLg0KCQkJCQl7DQoJCQkJCQlpZiAoIXRoaXMucGFyZW50LmJvb2xIZWFkZXJzUmVjb3JkZWQpDQoJCQkJCQl7DQoJCQkJCQkJdmFyIHN0clJlc3BvbnNlSGVhZGVyID0gJ0hUVFAvMS4xICcgKyB0aGlzLnBhcmVudC5vYmpIVFRQUmVxLnN0YXR1cyArICcgJyArIHRoaXMucGFyZW50Lm9iakhUVFBSZXEuc3RhdHVzVGV4dCArICdcclxuJyArIHRoaXMucGFyZW50Lm9iakhUVFBSZXEuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCk7DQoJCQkJCQkJdGhpcy5wYXJlbnQub2JqQ2FsbGVyQ2xhc3Mub2JqVGFza1Jlc3VsdC5zdHJSZXNwb25zZUhlYWRlcgk9IHN0clJlc3BvbnNlSGVhZGVyOw0KCQkJCQkJfQ0KCQkJCQkJDQoJCQkJCQl0aGlzLnBhcmVudC5vYmpDYWxsZXJDbGFzcy5vYmpUYXNrUmVzdWx0LmludEVycm9yQ29kZQkJPSAwOw0KCQkJCQkJdGhpcy5wYXJlbnQub2JqQ2FsbGVyQ2xhc3Mub2JqVGFza1Jlc3VsdC5zdHJFcnJvclRleHQJCT0gIiI7DQoJCQkJCQl0aGlzLnBhcmVudC5vYmpDYWxsZXJDbGFzcy5vYmpUYXNrUmVzdWx0LmludFJlcG9uc2VTdGF0dXMJPSB0aGlzLnBhcmVudC5vYmpIVFRQUmVxLnN0YXR1czsNCgkJCQkJCXRoaXMucGFyZW50Lm9iakNhbGxlckNsYXNzLm9ialRhc2tSZXN1bHQuc3RyUmVzcG9uc2VUZXh0CT0gdGhpcy5wYXJlbnQub2JqSFRUUFJlcS5yZXNwb25zZVRleHQ7CQkJCQkJDQoJCQkJCX0NCgkJCQkJY2F0Y2goZSkNCgkJCQkJew0KCQkJCQkJaWYoKHRoaXMucGFyZW50LmJvb2xFbmFibGVSZXRyeSkgJiYgKHRoaXMucGFyZW50LmludFJldHJ5TnVtYmVyIDwgYWN1bmV0aXh3ZWJzY2FubmVyLm9iak1velByZWZzLmdldEludFByZWYoImludE1heGltdW1SZXRyeSIpKSkNCgkJCQkJCXsNCgkJCQkJCQl0aGlzLnBhcmVudC5pbnRSZXRyeU51bWJlciArKzsNCgkJCQkJCQlsb2dUb0ZpbGUoIi9kb0FzaW5jcm9uUmVxdWVzdC9vbnJlYWR5c3RhdGVjaGFuZ2UgPT4gUmV0cnlpbmcgYnkgdGltZW91dDogIiArIHRoaXMucGFyZW50LmludFJldHJ5TnVtYmVyKTsNCgkJCQkJCQl0aGlzLnBhcmVudC5kb0FzaW5jcm9uUmVxdWVzdCgpOw0KCQkJCQkJCXJldHVybjsJDQoJCQkJCQl9DQoJCQkJCQl0aGlzLnBhcmVudC5vYmpDYWxsZXJDbGFzcy5vYmpUYXNrUmVzdWx0LmludEVycm9yQ29kZQkJPSAtMTsNCgkJCQkJCXRoaXMucGFyZW50Lm9iakNhbGxlckNsYXNzLm9ialRhc2tSZXN1bHQuc3RyRXJyb3JUZXh0CQk9IGU7DQoJCQkJCQkNCgkJCQkJCWFjdW5ldGl4d2Vic2Nhbm5lci5vYmpTY2FubmluZ1Byb2Nlc3NTdGF0dXMub25lTW9yZUVycm9yRm91bmQoKTsNCgkJCQkJCQ0KCQkJCQkJbG9nVG9GaWxlKCI9PiBkb0FzaW5jcm9uUmVxdWVzdCA9PiBvbnJlYWR5c3RhdGVjaGFuZ2UgPT4gY29ubmVjdGlvbiBlcnJvciBvciAiICsgZSk7DQoJCQkJCX0NCgkJCQkJCQkJCQkNCgkJCQkJLy9FWElUUE9JTlQNCgkJCQkJYWN1bmV0aXh3ZWJzY2FubmVyLm9ialNjYW5uaW5nUHJvY2Vzc1N0YXR1cy5vbmVNb3JlUmVxdWVzdEhhbmRsZWQoKSA7DQoJCQkJCWFjdW5ldGl4d2Vic2Nhbm5lci5nZW5lcmFsVGltZXIuaW5pdFdpdGhDYWxsYmFjayh0aGlzLnBhcmVudC5vYmpDYWxsZXJDbGFzcy5mbmNUYXNrQ2FsbEJhY2ssIGFjdW5ldGl4d2Vic2Nhbm5lci5vYmpNb3pQcmVmcy5nZXRJbnRQcmVmKCJpbnRTdGF0dXNNYWNoaW5lUmV0cmlnZ2VyVGltZSIpICwgQ29tcG9uZW50cy5pbnRlcmZhY2VzLm5zSVRpbWVyLlRZUEVfT05FX1NIT1QpOw0KCQkJCQlyZXR1cm47DQoJCQkJfQ0KCQkJfQ0KCQl9DQoJCQ0KCQl2YXIgdGltZW91dENhbGxCYWNrID0NCgkJew0KCQkJbm90aWZ5OiBmdW5jdGlvbih0aW1lcikNCgkJCXsNCgkJCQlsb2dUb0ZpbGUoIi9kb0FzaW5jcm9uUmVxdWVzdC90aW1lb3V0Q2FsbEJhY2siKTsNCgkJCQl0aGlzLnBhcmVudC5ib29sQXNpbmNyb25SZXF1ZXN0QWJvcnRlZCA9IDI7DQoJCQkJYWN1bmV0aXh3ZWJzY2FubmVyLmdlbmVyYWxUaW1lci5jYW5jZWwoKTsNCgkJCQl0aGlzLnBhcmVudC5vYmpIVFRQUmVxLmFib3J0KCk7DQoJCQl9DQoJCX0NCg0KCQlpZiggdGhpcy5vYmpHZXRQYXJhbXMudG9TdHJpbmcoKSAhPSAiIikNCgkJCXN0clJlcXVlc3RVUkwgPSBzdHJSZXF1ZXN0VVJMICsgIj8iICsgdGhpcy5vYmpHZXRQYXJhbXMudG9TdHJpbmcoKTsNCgkJCQ0KCQl0aGlzLm9iakNhbGxlckNsYXNzLm9ialRhc2tSZXN1bHQuaW50UmVwb25zZVN0YXR1cwkJPSAiIjsNCgkJdGhpcy5vYmpDYWxsZXJDbGFzcy5vYmpUYXNrUmVzdWx0LnN0clJlc3BvbnNlVGV4dAkJPSAiIjsNCgkJdGhpcy5vYmpDYWxsZXJDbGFzcy5vYmpUYXNrUmVzdWx0LnN0clJlc3BvbnNlSGVhZGVyCQk9ICIiOw0KCQl0aGlzLm9iakNhbGxlckNsYXNzLm9ialRhc2tSZXN1bHQuc3RyUmVxdWVzdEhlYWRlcgkJPSAiIjsNCgkJdGhpcy5vYmpDYWxsZXJDbGFzcy5vYmpUYXNrUmVzdWx0LnN0clJlcXVlc3RVUkwJCQk9IHRoaXMuc3RyUmVxdWVzdFVSTDsNCgkJCQ0KCQl0cnkNCgkJewkNCgkJCXRoaXMub2JqSFRUUFJlcS5vcGVuKHRoaXMuc3RyUmVxdWVzdE1ldGhvZCwgc3RyUmVxdWVzdFVSTCwgdHJ1ZSwgdGhpcy5zdHJVc2VybmFtZSwgdGhpcy5zdHJQYXNzd29yZCk7ICAgICAgICAgICAgDQoJCQluZXcgY2xhc3NYTUxIVFRQUmVxdWVzdEhvb2sodGhpcy5vYmpIVFRQUmVxLCB0aGlzLm9iakNvb2tpZVBhcmFtcywgdGhpcy5vYmpIZWFkZXJzLCB0aGlzLmludFJlZGlyZWN0aW9uTGltaXQsIHRoaXMuYm9vbERlbGV0ZU9yaWdpbmFsQ29va2llLCB0aGlzLmJvb2xEZWxldGVPcmlnaW5hbEhlYWRlcnMpOw0KCQkJCQ0KCQkJb25yZWFkeXN0YXRlY2hhbmdlLnBhcmVudCAJPSB0aGlzOw0KCQkJLy8gZm9yIHNvbWUgcmVhc29uIGluIHRoZSBmaXJlZm94IDMuMCB0aGUgcGFyZW50IGlzIGxvc2VkIGlmIHdlIHVzZSBsaWtlIGFib3ZlLCBzbyB3ZSBhbHNvIGFkIHRoaXMgdG8gdGhlIHhtbEhUVFBSZXF1ZXN0IG9iamVjdA0KCQkJdGhpcy5vYmpIVFRQUmVxLnBhcmVudCAJCT0gdGhpczsNCgkJCQ0KCQkJdGltZW91dENhbGxCYWNrLnBhcmVudCAJCT0gdGhpczsNCgkJCQ0KCQkJdGhpcy5vYmpIVFRQUmVxLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IG9ucmVhZHlzdGF0ZWNoYW5nZTsNCgkJCS8vdGhpcy5vYmpIVFRQUmVxLm9uZXJyb3IgPSBvbkVycm9yOw0KCQkJDQoJCQlhY3VuZXRpeHdlYnNjYW5uZXIuZ2VuZXJhbFRpbWVyLmluaXRXaXRoQ2FsbGJhY2sodGltZW91dENhbGxCYWNrLCBhY3VuZXRpeHdlYnNjYW5uZXIub2JqTW96UHJlZnMuZ2V0SW50UHJlZigiaW50UmVxdWVzdFRpbWVPdXQiKSAsIENvbXBvbmVudHMuaW50ZXJmYWNlcy5uc0lUaW1lci5UWVBFX09ORV9TSE9UKTsNCgkJCWlmICh0aGlzLnN0clJlcXVlc3RNZXRob2QudG9VcHBlckNhc2UoKSA9PSAiUE9TVCIpDQoJCQl7DQoJCQkJdGhpcy5vYmpIVFRQUmVxLnNldFJlcXVlc3RIZWFkZXIoJ0NvbnRlbnQtVHlwZScsJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZCcpOyAgICAgDQoJCQkJdGhpcy5vYmpIVFRQUmVxLnNlbmQodGhpcy5vYmpQb3N0UGFyYW1zLnRvU3RyaW5nKCkpOw0KCQkJfQ0KCQkJZWxzZQ0KCQkJCXRoaXMub2JqSFRUUFJlcS5zZW5kKG51bGwpOw0KCQl9DQoJCWNhdGNoKGUpDQoJCXsNCgkJCWxvZ1RvRmlsZSgiL2RvQXNpbmNyb25SZXF1ZXN0L0Vycm9yIGludCB0aGUgWE1MSFRUUFJlcXVlc3QgY29yZSAoQWJvcnRpbmcgdGhpcyBvbmUpIik7DQoJCQl0aGlzLmJvb2xBc2luY3JvblJlcXVlc3RBYm9ydGVkID0gMzsNCgkJCWFjdW5ldGl4d2Vic2Nhbm5lci5nZW5lcmFsVGltZXIuY2FuY2VsKCk7DQoJCQl0aGlzLm9iakNhbGxlckNsYXNzLm9ialRhc2tSZXN1bHQuc3RyRXJyb3JUZXh0ID0gZTsNCgkJCXRoaXMub2JqQ2FsbGVyQ2xhc3Mub2JqVGFza1Jlc3VsdC5pbnRFcnJvckNvZGUgPSAtMTsNCgkJCS8vdGhpcyBpcyBhIHJlcXVlc3QgbWVjaGFuaXptIGVycm9yIHNvIHdlIGFyZSBub3QgcmV0aWluZyB0aGlzIG9uZSEhDQoJCQkNCgkJCS8vRVhJVFBPSU5UDQoJCQlhY3VuZXRpeHdlYnNjYW5uZXIub2JqU2Nhbm5pbmdQcm9jZXNzU3RhdHVzLm9uZU1vcmVFcnJvckZvdW5kKCk7DQoJCQlhY3VuZXRpeHdlYnNjYW5uZXIub2JqU2Nhbm5pbmdQcm9jZXNzU3RhdHVzLm9uZU1vcmVSZXF1ZXN0SGFuZGxlZCgpIDsNCgkJCWFjdW5ldGl4d2Vic2Nhbm5lci5nZW5lcmFsVGltZXIuaW5pdFdpdGhDYWxsYmFjayh0aGlzLm9iakNhbGxlckNsYXNzLmZuY1Rhc2tDYWxsQmFjaywgYWN1bmV0aXh3ZWJzY2FubmVyLm9iak1velByZWZzLmdldEludFByZWYoImludFN0YXR1c01hY2hpbmVSZXRyaWdnZXJUaW1lIikgLCBDb21wb25lbnRzLmludGVyZmFjZXMubnNJVGltZXIuVFlQRV9PTkVfU0hPVCk7DQoJCX0NCgkJDQoJfQ0KCQ0KCWZ1bmN0aW9uIHRvU3RyaW5nKCkNCgl7DQoJCXJlc3VsdCA9ICIiOzsNCgkJcmVzdWx0ID0gcmVzdWx0ICsgIlJlcXVlc3Q6XHRodHRwOi8vIjsNCgkJaWYoKHRoaXMuc3RyVXNlcm5hbWUgIT0gIiIpJiYodGhpcy5zdHJQYXNzd29yZCAhPSAiIikpDQoJCQlyZXN1bHQgPSByZXN1bHQgKyB0aGlzLnN0clVzZXJuYW1lICsgIkAiICsgdGhpcy5zdHJQYXNzd29yZDsNCgkJcmVzdWx0ID0gcmVzdWx0ICsgdGhpcy5zdHJSZXF1ZXN0VVJMICsgIlxyXG4iOw0KCQlyZXN1bHQgPSByZXN1bHQgKyAiR2V0UGFyYW1zOlx0IiArIHRoaXMub2JqR2V0UGFyYW1zICsgIlxyXG4iOw0KCQlyZXN1bHQgPSByZXN1bHQgKyAiUG9zdFBhcmFtczpcdCIgKyB0aGlzLm9ialBvc3RQYXJhbXMgKyAiXHJcbiI7DQoJCXJlc3VsdCA9IHJlc3VsdCArICJDb29raWU6XHQiICsgdGhpcy5vYmpDb29raWVQYXJhbXMgKyAiXHJcbiI7DQoJCXJlc3VsdCA9IHJlc3VsdCArICJIZWFkZXJzOlx0IiArIHRoaXMub2JqSGVhZGVycyArICJcclxuIjsNCgkJcmV0dXJuKHJlc3VsdCk7DQoJfQ0KDQoJZnVuY3Rpb24gY3JlYXRlQ29weSgpDQoJew0KCQlvYmoJCQkJCQkJCT0gbmV3IENsYXNzVGVzdFJlcXVlc3QoKTsNCgkJb2JqLnN0clJlcXVlc3RVUkwJCQkJPSB0aGlzLnN0clJlcXVlc3RVUkw7DQoJCW9iai5zdHJSZXF1ZXN0TWV0aG9kCQkJPSB0aGlzLnN0clJlcXVlc3RNZXRob2Q7DQoJCW9iai5zdHJQYXNzd29yZAkJCQkJPSB0aGlzLnN0clBhc3N3b3JkOw0KCQlvYmouYm9vbERlbGV0ZU9yaWdpbmFsSGVhZGVycwk9IHRoaXMuYm9vbERlbGV0ZU9yaWdpbmFsSGVhZGVyczsNCgkJb2JqLmJvb2xEZWxldGVPcmlnaW5hbENvb2tpZQk9IHRoaXMuYm9vbERlbGV0ZU9yaWdpbmFsQ29va2llOw0KCQlvYmouaW50UmVkaXJlY3Rpb25MaW1pdAkJCT0gdGhpcy5pbnRSZWRpcmVjdGlvbkxpbWl0Ow0KCQlvYmoub2JqR2V0UGFyYW1zCQkJCT0gdGhpcy5vYmpHZXRQYXJhbXMuY3JlYXRlQ29weSgpOw0KCQlvYmoub2JqUG9zdFBhcmFtcwkJCQk9IHRoaXMub2JqUG9zdFBhcmFtcy5jcmVhdGVDb3B5KCk7DQoJCW9iai5vYmpDb29raWVQYXJhbXMJCQkJPSB0aGlzLm9iakNvb2tpZVBhcmFtcy5jcmVhdGVDb3B5KCk7DQoJCW9iai5vYmpIZWFkZXJzCQkJCQk9IHRoaXMub2JqSGVhZGVycy5jcmVhdGVDb3B5KCk7DQoJCXJldHVybihvYmopDQoJfQ0KfQ0KDQovLyB0aGlzIGlzIHRoZSBURVNURVIgY2xhc3MgcGFyZW50LCBldmVyeSB0ZXN0IHNob3VsZCBkZXJpdmF0ZSBmcm9tIHRoaXMgYW5kIGV4cG9ydCB0aGUgc2FtZSBwcm9wZXJ0eS1lcyBhbmQgbWV0aG9kcw0KZnVuY3Rpb24gY2xhc3NHZW5lcmljVGVzdGVyKCkNCnsNCgkNCgl0aGlzLm9iakNhbGxlckNsYXNzCQk9IG51bGw7DQoJdGhpcy5mbmNUYXNrQ2FsbEJhY2sJPSBudWxsOw0KCXRoaXMub2JqVGFza1Jlc3VsdAkJPSB7fTsNCgkNCgl0aGlzLnN0clhVTE1lbnVJZAkJCT0gIiINCgl0aGlzLnN0clhVTE1lbnVUZXh0CQkJPSAiIg0KCXRoaXMuc3RyWFVMTWVudUhpbnQJCQk9ICIiDQoJdGhpcy5zdHJYVUxNZW51QWNjZXNza2V5CT0gIiINCgl0aGlzLnN0clR5cGUJCQkJPSAiIjsNCgl0aGlzLnN0clRlc3ROYW1lCQkJPSAiIjsNCgl0aGlzLnNldmVyaXR5CQkJCT0gIiI7DQoJdGhpcy5zdHJEZXNjcmlwdGlvbgkJCT0gIiI7DQoJCQ0KCXRoaXMubXllc2NhcGUgPSBmdW5jdGlvbihzdHJUb0VzY2FwZVN0cmluZyxpbnRFc2NhcGVNZXRob2QpDQoJew0KCQlzd2l0Y2goaW50RXNjYXBlTWV0aG9kKQ0KCQl7DQoJCQljYXNlIDI6DQoJCQkJcmV0dXJuKGVzY2FwZShzdHJUb0VzY2FwZVN0cmluZykpOw0KCQkJY2FzZSAxOg0KCQkJCXZhciByZXR2YWwgPSAiIjsNCgkJCQlmb3IodmFyIGkgPSAwOyBpIDwgc3RyVG9Fc2NhcGVTdHJpbmcubGVuZ3RoOyBpKyspDQoJCQkJew0KCQkJCQlpZiggKChzdHJUb0VzY2FwZVN0cmluZ1tpXSA+PSAnMCcpICYmIChzdHJUb0VzY2FwZVN0cmluZ1tpXSA8PSAnOScpKSB8fA0KCQkJCQkJKChzdHJUb0VzY2FwZVN0cmluZ1tpXSA+PSAnQScpICYmIChzdHJUb0VzY2FwZVN0cmluZ1tpXSA8PSAnWicpKSB8fA0KCQkJCQkJKChzdHJUb0VzY2FwZVN0cmluZ1tpXSA+PSAnYScpICYmIChzdHJUb0VzY2FwZVN0cmluZ1tpXSA8PSAneicpKQ0KCQkJCQkJKQ0KCQkJCQkJcmV0dmFsID0gcmV0dmFsICsgc3RyVG9Fc2NhcGVTdHJpbmdbaV07DQoJCQkJCWVsc2UNCgkJCQkJew0KCQkJCQkJdmFyIGMgPSBzdHJUb0VzY2FwZVN0cmluZy5jaGFyQ29kZUF0KGkpLnRvU3RyaW5nKDE2KTsNCgkJCQkJCWlmIChjLmxlbmd0aCA8IDIpIGMgPSAiMCIgKyBjOw0KCQkJCQkJcmV0dmFsID0gcmV0dmFsICsgIiUiICsgYzsNCgkJCQkJfQ0KCQkJCX0NCgkJCQlyZXR1cm4ocmV0dmFsKTsNCgkJCS8vdG9kbzogSW1wbGVtZW50IG1vcmUgZXNjYXBpbmcgbWV0aG9kcw0KCQkJZGVmYXVsdDoNCgkJCQlyZXR1cm4oc3RyVG9Fc2NhcGVTdHJpbmcpOw0KCQl9DQoJfQ0KCQ0KCXRoaXMuaHRtbFBhcnNlclRlc3RGb3JUYWcgPSBmdW5jdGlvbihzdHJUYWdOYW1lLCBhcnJheVRlc3RTdHJpbmdzKQ0KCXsNCgkJZnVuY3Rpb24gY29tcGFyYXRpb24oc3RyVmFsdWUxLCBzdHJDb21wYXJhdGlvbiwgc3RyVmFsdWUyKQ0KCQl7DQoJCQlpZiAoc3RyVmFsdWUxID09IG51bGwpIHN0clZhbHVlMSA9ICIiOw0KCQkJaWYgKHN0clZhbHVlMiA9PSBudWxsKSBzdHJWYWx1ZTIgPSAiIjsNCgkJCXN3aXRjaChzdHJDb21wYXJhdGlvbikNCgkJCXsNCgkJCQljYXNlICI+IjogLy8gdmFsdWUyIGluY2x1ZGVkIGluIHZhbHVlMQ0KCQkJCQlpZihzdHJWYWx1ZTEudG9Mb3dlckNhc2UoKS5tYXRjaChzdHJWYWx1ZTIudG9Mb3dlckNhc2UoKSkpDQoJCQkJCQlyZXR1cm4odHJ1ZSk7DQoJCQkJY2FzZSAiPCI6IC8vIHZhbHVlMSBpbmNsdWRlZCBpbiB2YWx1ZTINCgkJCQkJaWYoc3RyVmFsdWUyLnRvTG93ZXJDYXNlKCkubWF0Y2goc3RyVmFsdWUxLnRvTG93ZXJDYXNlKCkpKQ0KCQkJCQkJcmV0dXJuKHRydWUpOw0KCQkJCWNhc2UgIj0iOiANCgkJCQkJaWYoc3RyVmFsdWUyLnRvTG93ZXJDYXNlKCkgPT0gc3RyVmFsdWUxLnRvTG93ZXJDYXNlKCkpDQoJCQkJCQlyZXR1cm4odHJ1ZSk7DQoJCQkJCWJyZWFrOw0KCQkJCWNhc2UgIiEiOiANCgkJCQkJaWYoc3RyVmFsdWUyLnRvTG93ZXJDYXNlKCkgIT0gc3RyVmFsdWUxLnRvTG93ZXJDYXNlKCkpDQoJCQkJCQlyZXR1cm4odHJ1ZSk7DQoJCQkJCWJyZWFrOw0KCQkJCWNhc2UgIiMiOg0KCQkJCQl0cnkNCgkJCQkJew0KCQkJCQkJdmFyIHJlZ2V4cCA9IHJlZ2V4cC5jb21waWxlKHN0clZhbHVlMik7DQoJCQkJCQlpZihyZWdleHAuZXhlYyhzdHJWYWx1ZTEpKQ0KCQkJCQkJCXJldHVybih0cnVlKTsNCgkJCQkJfQ0KCQkJCQljYXRjaChlKXt9DQoJCQkJCWJyZWFrOw0KCQkJfQ0KCQkJcmV0dXJuKGZhbHNlKTsNCgkJfQ0KCQkNCgkJdmFyIG9iakJyb3dzZXJDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWN1bmV0aXhfYXBwY29udGVudF9icm93c2VyQ29udGFpbmVyIik7DQoJCWlmIChvYmpCcm93c2VyQ29udGFpbmVyKQ0KCQl7DQoJCQl2YXIgb2JqVGFnICA9IG9iakJyb3dzZXJDb250YWluZXIuY29udGVudERvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKHN0clRhZ05hbWUpOw0KCQkJaWYob2JqVGFnKQ0KCQkJew0KCQkJCWZvcih2YXIgaiA9IDAgOyBqIDwgb2JqVGFnLmxlbmd0aDsgaisrKQ0KCQkJCXsNCgkJCQkJdmFyIGJvb2xyZXR2YWwgPSB0cnVlOw0KCQkJCQlmb3IoIHZhciBpID0gMDsgaSA8IGFycmF5VGVzdFN0cmluZ3MubGVuZ3RoOyBpKyspDQoJCQkJCXsNCgkJCQkJCXZhciByZWdleCA9IC8oLio/KShbPTw+I10pKC4qKS87DQoJCQkJCQl2YXIgbWF0Y2hlcyA9IHJlZ2V4LmV4ZWMoYXJyYXlUZXN0U3RyaW5nc1tpXSk7DQoJCQkJCQlpZigobWF0Y2hlcykgJiYgKG1hdGNoZXMubGVuZ3RoID0gNCkpDQoJCQkJCQl7DQoJCQkJCQkJc3dpdGNoKG1hdGNoZXNbMV0pDQoJCQkJCQkJew0KCQkJCQkJCQljYXNlICJ0ZXh0d2l0aGluIjoNCgkJCQkJCQkJCWJvb2xyZXR2YWwgPSBib29scmV0dmFsICYmIGNvbXBhcmF0aW9uKG9ialRhZ1tqXS5jb250ZW50LCBtYXRjaGVzWzJdLCBtYXRjaGVzWzNdKTsNCgkJCQkJCQkJCWJyZWFrOw0KCQkJCQkJCQlkZWZhdWx0Og0KCQkJCQkJCQkJYm9vbHJldHZhbCA9IGJvb2xyZXR2YWwgJiYgY29tcGFyYXRpb24ob2JqVGFnW2pdLmdldEF0dHJpYnV0ZShtYXRjaGVzWzFdKSwgbWF0Y2hlc1syXSwgbWF0Y2hlc1szXSk7DQoJCQkJCQkJfQ0KCQkJCQkJfQ0KCQkJCQl9DQoJCQkJCWlmIChib29scmV0dmFsKSByZXR1cm4odHJ1ZSk7DQoJCQkJfQ0KCQkJCXJldHVybihmYWxzZSk7DQoJCQl9DQoJCQllbHNlDQoJCQkJcmV0dXJuKGZhbHNlKTsNCgkJfQ0KCQlyZXR1cm4oZmFsc2UpOw0KCX0NCgkNCgl0aGlzLnRlc3RYc3NHZW5lcmF0aW9uQnlJRCA9IGZ1bmN0aW9uKHRlc3RJZCkNCiAgICB7DQogICAgICAgIHZhciBvYmpCcm93c2VyQ29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoImFjdW5ldGl4X2FwcGNvbnRlbnRfYnJvd3NlckNvbnRhaW5lciIpOw0KICAgICAgICBpZiAob2JqQnJvd3NlckNvbnRhaW5lcikNCiAgICAgICAgew0KICAgICAgICAgICAgdmFyIHhzc0VsZW1lbnRzICA9IG9iakJyb3dzZXJDb250YWluZXIuY29udGVudERvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJYU1NUZXN0RWxlbWVudCIpOw0KICAgICAgICAgICAgZm9yKHZhciBpID0gMCA7IGkgPCB4c3NFbGVtZW50cy5sZW5ndGg7IGkrKykNCiAgICAgICAgICAgICAgICBpZiAoeHNzRWxlbWVudHNbaV0ubmFtZSA9PSB0ZXN0SWQpDQogICAgICAgICAgICAgICAgICAgIHJldHVybih0cnVlKTsNCiAgICAgICAgfQ0KICAgICAgICByZXR1cm4oZmFsc2UpOw0KICAgIH0NCgkNCgl0aGlzLmxvYWRTdHJpbmdJblRvVGhlSFRNTFBhcnNlciA9IGZ1bmN0aW9uKHN0clZhbHVlLCBhcnJheUZpbHRlcnMpDQoJew0KCQkvL3RoaXMgZnVuY3Rpb24gd2lsbCBiZSBpbmplY3RlZCBpbiBldmVyeSB0ZXN0ZWQgcGFnZSwgaWYgaXQgaXMgZXhlY3V0ZWQgYW4gWFNTVGVzdEVsZW1lbnQgd2lsbCBiZSBjcmVhdGVkIHdpdGggdGhlIG5hbWUgPSB2YWx1ZQ0KCQlmdW5jdGlvbiBYU1NzZ24odmFsdWUpDQoJCXsNCgkJCXZhciBYU1NUZXN0RWxlbWVudCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoIlhTU1Rlc3RFbGVtZW50Iik7DQoJCQlYU1NUZXN0RWxlbWVudC5uYW1lID0gdmFsdWU7DQoJCQlkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuYXBwZW5kQ2hpbGQoWFNTVGVzdEVsZW1lbnQpOw0KCQl9DQoJCQ0KCQlpZihzdHJWYWx1ZSkNCgkJew0KCQkJdmFyIG9iakJyb3dzZXJDb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWN1bmV0aXhfYXBwY29udGVudF9icm93c2VyQ29udGFpbmVyIik7DQoJCQlpZihvYmpCcm93c2VyQ29udGFpbmVyKQ0KCQkJew0KCQkJCWlmKGFycmF5RmlsdGVycy5pbmRleE9mKCJmaWx0ZXJTY3JpcHQiKSA+PSAwICkNCgkJCQl7DQoJCQkJCXN0clZhbHVlID0gc3RyVmFsdWUucmVwbGFjZSgvc2NyaXB0L2ksInNjcmlwdHgiKTsNCgkJCQl9DQoJCQkJDQoJCQkJaWYoYXJyYXlGaWx0ZXJzLmluZGV4T2YoImluc2VydFhzc1Rlc3RlciIpID49IDAgKQ0KCQkJCXsNCgkJCQkJc3RyVmFsdWUgPSAgIjxzY3JpcHQ+IiArIFhTU3NnbiArICI8L3NjcmlwdD4iICsgc3RyVmFsdWU7DQoJCQkJfQ0KCQkJCQ0KCQkJCWlmKGFycmF5RmlsdGVycy5pbmRleE9mKCJzaWxlbnRBbGVydCIpID49IDAgKQ0KCQkJCXsNCgkJCQkJc3RyVmFsdWUgPSAiPHNjcmlwdD5hbGVydCA9IGZ1bmN0aW9uKGEpe3JldHVybiBmYWxzZTt9PC9zY3JpcHQ+IiArIHN0clZhbHVlOw0KCQkJCX0NCgkJCQkNCgkJCQlpZihhcnJheUZpbHRlcnMuaW5kZXhPZigiZmlsdGVyUmVkaXJlY3QiKSA+PSAwICkNCgkJCQl7CQ0KCQkJCQlzdHJWYWx1ZSA9IHN0clZhbHVlLnJlcGxhY2UoL21ldGEvaSwibWV0YXgiKTsNCgkJCQl9DQoJCQkJDQoJCQkJb2JqQnJvd3NlckNvbnRhaW5lci5jb250ZW50RG9jdW1lbnQub3BlbigpOw0KCQkJCW9iakJyb3dzZXJDb250YWluZXIuY29udGVudERvY3VtZW50LndyaXRlKHN0clZhbHVlKTsNCgkJCQlvYmpCcm93c2VyQ29udGFpbmVyLmNvbnRlbnREb2N1bWVudC5jbG9zZSgpOw0KCQkJCXJldHVybih0cnVlKTsNCgkJCX0NCgkJfQ0KCQlyZXR1cm4oZmFsc2UpOw0KCX0NCgkNCgkNCgl0aGlzLmRvUmVxdWVzdEpzb24gPSBmdW5jdGlvbihvYmpJbnB1dCkNCgl7DQoJCS8qDQoJCXBhcmFtZXRlciBtYW5uaXB1bGFpb24gcmVxdWVzdCBvYmplY3QgZGVmZmluaXRpb246DQoJCXsNCgkJCW9iakNhbGxlckNsYXNzIAkJOiByZXF1aXJlZCwgdGhlIGNhbGxlciBjbGFzcw0KCQkJc3RyVGVzdFN0cmluZwkJOiByZXF1aXJlZA0KCQkJDQoJCQlhcnJheUFjY2VwdGVkQ29udGVudFR5cGVzCToJb3B0aW9uYWwgZGVmYXVsdCAoInRleHQvaHRtbCIsInRleHQveG1sIiwiYXBwbGljYXRpb24veGh0bWwreG1sIikNCgkJCWludFJlZGlyZWN0aW9uTGltaXQJCQk6IAlvcHRpb25hbCBkZWZhdWx0IDIwDQoJCQlib29sRGVsZXRlT3JpZ2luYWxDb29raWUJOglvcHRpb25hbCBkZWZhdWx0IGZhbHNlDQoJCQlib29sRGVsZXRlT3JpZ2luYWxIZWFkZXJzCTogCW9wdGlvbmFsIGRlZmF1bHQgZmFsc2UNCgkJCWludEVzY2FwZU1ldGhvZAkJCQk6IAlvcHRpb25hbCBkZWZhdWx0IDAgKG5vIGVzY2FwaW5nIGZvciB0aGUgdGVzdGVkIHN0clRlc3RTdHJpbmcpDQoJCX0gDQoJCSovDQoJCWlmIChvYmpJbnB1dC5ib29sRW5hYmxlUmV0cnkgPT0gbnVsbCkNCgkJCW9iaklucHV0LmJvb2xFbmFibGVSZXRyeSA9IHRydWU7DQoJCQ0KCQlpZiAob2JqSW5wdXQuaW50UmVkaXJlY3Rpb25MaW1pdCA9PSBudWxsICkNCgkJCW9iaklucHV0LmludFJlZGlyZWN0aW9uTGltaXQgPT0gMjA7DQoJCQkNCgkJaWYgKG9iaklucHV0LmJvb2xEZWxldGVPcmlnaW5hbENvb2tpZSA9PSBudWxsKQ0KCQkJb2JqSW5wdXQuYm9vbERlbGV0ZU9yaWdpbmFsQ29va2llID0gZmFsc2U7DQoJCQkNCgkJaWYgKG9iaklucHV0LmJvb2xEZWxldGVPcmlnaW5hbEhlYWRlcnMgPT0gbnVsbCkNCgkJCW9iaklucHV0LmJvb2xEZWxldGVPcmlnaW5hbEhlYWRlcnMgPSBmYWxzZTsNCgkJDQoJCWlmIChvYmpJbnB1dC5pbnRFc2NhcGVNZXRob2QgPT0gbnVsbCkNCgkJCW9iaklucHV0LmludEVzY2FwZU1ldGhvZCA9IDA7DQoJCQ0KCQkvL25vcm1hbGwgcmVxdWVzdCBmcm9tIHBhcmFtZXRlciBtYW5pcHVsYXRpb24gdHlwZSB0ZXN0CQ0KCQlpZiAoKG9iaklucHV0Lm9iakNhbGxlckNsYXNzICE9IG51bGwpKQ0KCQl7DQoJCQl2YXIgb2JqUmVxdWVzdENsYXNzCT0gb2JqSW5wdXQub2JqQ2FsbGVyQ2xhc3Mub2JqQ2FsbGVyQ2xhc3Mub2JqUmVxdWVzdDsNCgkJCXZhciBjaW5kZXggPSBvYmpJbnB1dC5vYmpDYWxsZXJDbGFzcy5vYmpDYWxsZXJDbGFzcy5pbnRDb21iaW5hdGlvbkluZGV4Ow0KCQkJDQoJCQlvYmpJbnB1dC5vYmpDYWxsZXJDbGFzcy5vYmpUYXNrUmVzdWx0LnN0ckluamVjdGVkVmFsdWUgPSBvYmpJbnB1dC5zdHJUZXN0U3RyaW5nOw0KCQkJDQoJCQl2YXIgb2JqUmVxdWVzdAkJCQkJCT0gbmV3IENsYXNzVGVzdFJlcXVlc3QoKTsNCgkJCW9ialJlcXVlc3QuYm9vbEVuYWJsZVJldHJ5CQkJPSBvYmpJbnB1dC5ib29sRW5hYmxlUmV0cnk7Ow0KCQkJb2JqUmVxdWVzdC5ib29sRGVsZXRlT3JpZ2luYWxDb29raWUJPSBvYmpJbnB1dC5ib29sRGVsZXRlT3JpZ2luYWxDb29raWU7DQoJCQlvYmpSZXF1ZXN0LmJvb2xEZWxldGVPcmlnaW5hbEhlYWRlcnM9IG9iaklucHV0LmJvb2xEZWxldGVPcmlnaW5hbEhlYWRlcnM7DQoJCQkNCgkJCW9ialJlcXVlc3Quc3RyUmVxdWVzdFVSTAkJCT0gb2JqUmVxdWVzdENsYXNzLm9iakFjdGlvbi5nZXRVUkwoZmFsc2UpOw0KCQkJb2JqUmVxdWVzdC5zdHJSZXF1ZXN0TWV0aG9kCQkJPSBvYmpSZXF1ZXN0Q2xhc3Muc3RyUmVxdWVzdE1ldGhvZDsNCgkJCW9ialJlcXVlc3Quc3RyVXNlcm5hbWUJCQkJPSBvYmpSZXF1ZXN0Q2xhc3Mub2JqQWN0aW9uLnN0clVzZXJuYW1lOw0KCQkJb2JqUmVxdWVzdC5zdHJQYXNzd29yZAkJCQk9IG9ialJlcXVlc3RDbGFzcy5vYmpBY3Rpb24uc3RyUGFzc3dvcmQ7DQoJCQlvYmpSZXF1ZXN0LmludFJlZGlyZWN0aW9uTGltaXQJCT0gb2JqSW5wdXQuaW50UmVkaXJlY3Rpb25MaW1pdDsNCgkJCW9ialJlcXVlc3QuYXJyYXlBY2NlcHRlZENvbnRlbnRUeXBlcz0gb2JqSW5wdXQuYXJyYXlBY2NlcHRlZENvbnRlbnRUeXBlczsNCgkJCQkNCgkJCWZvcih2YXIgaSA9IDAgOyAgaSA8IG9ialJlcXVlc3RDbGFzcy5hcnJheU9mR2VuZXJhdGVkVGVzdENvbWJpbmF0aW9uc1tjaW5kZXhdLmFycmF5UGFyYW1ldGVycy5sZW5ndGg7IGkrKykNCgkJCXsNCgkJCQl2YXIgc3RyTmFtZSA9IG9ialJlcXVlc3RDbGFzcy5hcnJheVBhcmFtZXRlcnNbb2JqUmVxdWVzdENsYXNzLmFycmF5T2ZHZW5lcmF0ZWRUZXN0Q29tYmluYXRpb25zW2NpbmRleF0uYXJyYXlQYXJhbWV0ZXJzW2ldLnBhcmFtXS5zdHJOYW1lOw0KCQkJCQ0KCQkJCXZhciBzdHJWYWx1ZSA9ICIiOw0KCQkJCQ0KCQkJCWlmKG9ialJlcXVlc3RDbGFzcy5hcnJheU9mR2VuZXJhdGVkVGVzdENvbWJpbmF0aW9uc1tjaW5kZXhdLmludFRlc3RlZFBhcmFtZXRlckluZGV4ID09IG9ialJlcXVlc3RDbGFzcy5hcnJheU9mR2VuZXJhdGVkVGVzdENvbWJpbmF0aW9uc1tjaW5kZXhdLmFycmF5UGFyYW1ldGVyc1tpXS5wYXJhbSkNCgkJCQl7DQoJCQkJCXN0clZhbHVlID0gdGhpcy5teWVzY2FwZSAob2JqSW5wdXQuc3RyVGVzdFN0cmluZywgb2JqSW5wdXQuaW50RXNjYXBlTWV0aG9kKTsNCgkJCQl9DQoJCQkJZWxzZQ0KCQkJCXsNCgkJCQkJc3RyVmFsdWUgPSB0aGlzLm15ZXNjYXBlICgNCgkJCQkJCQkJCW9ialJlcXVlc3RDbGFzcy5hcnJheVBhcmFtZXRlcnNbb2JqUmVxdWVzdENsYXNzLmFycmF5T2ZHZW5lcmF0ZWRUZXN0Q29tYmluYXRpb25zW2NpbmRleF0uYXJyYXlQYXJhbWV0ZXJzW2ldLnBhcmFtXS5hcnJheVNlbGVjdGFibGVWYWx1ZXNbb2JqUmVxdWVzdENsYXNzLmFycmF5T2ZHZW5lcmF0ZWRUZXN0Q29tYmluYXRpb25zW2NpbmRleF0uYXJyYXlQYXJhbWV0ZXJzW2ldLmluZGV4XSwNCgkJCQkJCQkJCW9ialJlcXVlc3RDbGFzcy5hcnJheVBhcmFtZXRlcnNbb2JqUmVxdWVzdENsYXNzLmFycmF5T2ZHZW5lcmF0ZWRUZXN0Q29tYmluYXRpb25zW2NpbmRleF0uYXJyYXlQYXJhbWV0ZXJzW2ldLnBhcmFtXS5pbnRFc2NhcGVNZXRob2QpOw0KCQkJCX0NCgkNCgkJCQlpZihvYmpSZXF1ZXN0Q2xhc3MuYXJyYXlQYXJhbWV0ZXJzW29ialJlcXVlc3RDbGFzcy5hcnJheU9mR2VuZXJhdGVkVGVzdENvbWJpbmF0aW9uc1tjaW5kZXhdLmFycmF5UGFyYW1ldGVyc1tpXS5wYXJhbV0uc3RyUmVxdWVzdFR5cGUgPT0gJ0dFVCcpDQoJCQkJCW9ialJlcXVlc3Qub2JqR2V0UGFyYW1zLmFkZFBhcmFtZXRlcihzdHJOYW1lLHN0clZhbHVlKTsNCgkJCQlpZihvYmpSZXF1ZXN0Q2xhc3MuYXJyYXlQYXJhbWV0ZXJzW29ialJlcXVlc3RDbGFzcy5hcnJheU9mR2VuZXJhdGVkVGVzdENvbWJpbmF0aW9uc1tjaW5kZXhdLmFycmF5UGFyYW1ldGVyc1tpXS5wYXJhbV0uc3RyUmVxdWVzdFR5cGUgPT0gJ1BPU1QnKQ0KCQkJCQlvYmpSZXF1ZXN0Lm9ialBvc3RQYXJhbXMuYWRkUGFyYW1ldGVyKHN0ck5hbWUsc3RyVmFsdWUpOw0KCQkJCWlmKG9ialJlcXVlc3RDbGFzcy5hcnJheVBhcmFtZXRlcnNbb2JqUmVxdWVzdENsYXNzLmFycmF5T2ZHZW5lcmF0ZWRUZXN0Q29tYmluYXRpb25zW2NpbmRleF0uYXJyYXlQYXJhbWV0ZXJzW2ldLnBhcmFtXS5zdHJSZXF1ZXN0VHlwZSA9PSAnQ09PS0lFJykNCgkJCQkJb2JqUmVxdWVzdC5vYmpDb29raWVQYXJhbXMuYWRkUGFyYW1ldGVyKHN0ck5hbWUsc3RyVmFsdWUpOw0KCQkJCWlmKG9ialJlcXVlc3RDbGFzcy5hcnJheVBhcmFtZXRlcnNbb2JqUmVxdWVzdENsYXNzLmFycmF5T2ZHZW5lcmF0ZWRUZXN0Q29tYmluYXRpb25zW2NpbmRleF0uYXJyYXlQYXJhbWV0ZXJzW2ldLnBhcmFtXS5zdHJSZXF1ZXN0VHlwZSA9PSAnSEVBREVSUycpDQoJCQkJCW9ialJlcXVlc3Qub2JqSGVhZGVycy5hZGRQYXJhbWV0ZXIoc3RyTmFtZSxzdHJWYWx1ZSk7DQoJCQl9DQoJCQlvYmpSZXF1ZXN0LmRvQXNpbmNyb25SZXF1ZXN0KG9iaklucHV0Lm9iakNhbGxlckNsYXNzKTsNCgkJfQ0KCQllbHNlDQoJCXsNCgkJCS8vc2VyaW91cyBlcnJvcg0KCQkJYWxlcnQoIkFjdW5ldGl4IFNjYW5uZXIgSW50ZXJuYWwgZXJyb3IgMDEiKTsNCgkJCS8vdG9kbzogdGhpcyBpcyBhIHNlcmlvdXMgZXJyb3Igc28gaGVyZSB3ZSBjYW4gYW5kIG5lZWQgdG8gYWJvcnQgdGhlIHNjYW5uaW5nIHByb2Nlc3MhIQ0KCQl9DQoJCQ0KCX0NCgkJDQoJdGhpcy5yZWdpc3RlciA9IGZ1bmN0aW9uKCkNCgl7DQoJCWxvZ1RvRmlsZSgiY2xhc3NHZW5lcmljVGVzdGVyL3JlZ2lzdGVyIik7DQoJCQ0KCQlhY3VuZXRpeHdlYnNjYW5uZXIuYXJyYXlPZlRlc3RQcm9jZWR1cmVzLnB1c2godGhpcyk7DQoJCQ0KCQkvL2luY3JlYXNlIHJlZ2lzdGVyZWQgdGVzdCBudW1iZXINCgkJYWN1bmV0aXh3ZWJzY2FubmVyLm9iak1velByZWZzLnNldEludFByZWYoImludFJlZ2lzdGVyZWRUZXN0TnVtYmVyIiwgYWN1bmV0aXh3ZWJzY2FubmVyLmFycmF5T2ZUZXN0UHJvY2VkdXJlcy5sZW5ndGgpOw0KCQkNCgkJYWN1bmV0aXh3ZWJzY2FubmVyLm9iak1velByZWZzLnNldEJvb2xQcmVmKCJib29sVGVzdERlbW8iICsgYWN1bmV0aXh3ZWJzY2FubmVyLmFycmF5T2ZUZXN0UHJvY2VkdXJlcy5sZW5ndGgsICF0aGlzLmVuYWJsZWQpOw0KCQkNCgkJLy9yZWdpc3RlciB0aGUgdGVzdCBidXQgd2l0aCBjYXJlIGlmIGFscmVhZHkgcmVnaXN0ZXJlZCB0byBub3QgcmVzZXQgaGlzIHNldHRpbmdzDQoJCXZhciBzdHJMYXN0VGVzdE5hbWUgPSBhY3VuZXRpeHdlYnNjYW5uZXIub2JqTW96UHJlZnMuZ2V0Q2hhclByZWYoInN0clRlc3ROYW1lIiArIGFjdW5ldGl4d2Vic2Nhbm5lci5hcnJheU9mVGVzdFByb2NlZHVyZXMubGVuZ3RoKTsNCgkJaWYoc3RyTGFzdFRlc3ROYW1lID09IHRoaXMuc3RyVGVzdE5hbWUpDQoJCQlyZXR1cm47DQoJCQ0KCQlhY3VuZXRpeHdlYnNjYW5uZXIub2JqTW96UHJlZnMuc2V0Qm9vbFByZWYoImJvb2xUZXN0RW5hYmxlZCIgKyBhY3VuZXRpeHdlYnNjYW5uZXIuYXJyYXlPZlRlc3RQcm9jZWR1cmVzLmxlbmd0aCwgdGhpcy5lbmFibGVkKTsNCgkJYWN1bmV0aXh3ZWJzY2FubmVyLm9iak1velByZWZzLnNldENoYXJQcmVmKCJzdHJUZXN0TmFtZSIgKyBhY3VuZXRpeHdlYnNjYW5uZXIuYXJyYXlPZlRlc3RQcm9jZWR1cmVzLmxlbmd0aCwgdGhpcy5zdHJUZXN0TmFtZSk7DQoJfQ0KCQ0KCS8vdGVzdCBleGl0IGZ1bmN0aW9uLCB0aGlzIGZ1bmN0aW9uIHdpbGwgY2FsbCB0aGUgcGFyZW50IGNhbGxiY2FrDQoJdGhpcy5mbmNFeGl0VGVzdCA9IGZ1bmN0aW9uKGJvb2xWdWxuZXJhYmxlLCBzdHJUZXN0TmFtZSkNCgl7CQkJDQoJCXRoaXMub2JqQ2FsbGVyQ2xhc3Mub2JqVGFza1Jlc3VsdC5ib29sSXNWdWxlbnJhYmxlID0gYm9vbFZ1bG5lcmFibGU7DQoJCWlmKGJvb2xWdWxuZXJhYmxlKQ0KCQl7DQoJCQl0aGlzLm9iakNhbGxlckNsYXNzLm9ialRhc2tSZXN1bHQuc3RySW5qZWN0ZWRWYWx1ZQk9IHRoaXMub2JqVGFza1Jlc3VsdC5zdHJJbmplY3RlZFZhbHVlOw0KCQkJdGhpcy5vYmpDYWxsZXJDbGFzcy5vYmpUYXNrUmVzdWx0LnN0clRlc3ROYW1lCQk9IHN0clRlc3ROYW1lOw0KCQl9DQoJCWFjdW5ldGl4d2Vic2Nhbm5lci5nZW5lcmFsVGltZXIuaW5pdFdpdGhDYWxsYmFjayh0aGlzLm9iakNhbGxlckNsYXNzLmZuY1Rhc2tDYWxsQmFjaywgYWN1bmV0aXh3ZWJzY2FubmVyLm9iak1velByZWZzLmdldEludFByZWYoImludFN0YXR1c01hY2hpbmVSZXRyaWdnZXJUaW1lIikgLCBDb21wb25lbnRzLmludGVyZmFjZXMubnNJVGltZXIuVFlQRV9PTkVfU0hPVCk7CQ0KCX0sDQoNCgl0aGlzLmRvVGVzdCA9IGZ1bmN0aW9uKG9iakNhbGxlckNsYXNzKQ0KCXsNCgkJLy90aGlzIHRlc3Qgd2lsbCBiZSBvdmVyd3JpdHRlZA0KCQkvLyBtYW5kYXRvcnkgdGhpcyBmdW5jdGlvbiB3aWxsIGhhdmUgdG8gY2FsbCB0aGUgcmV0dXJuIHRpbWVyIG9uY2UgYW5kIG9ubHkgb25jZQ0KCQlhY3VuZXRpeHdlYnNjYW5uZXIuZ2VuZXJhbFRpbWVyLmluaXRXaXRoQ2FsbGJhY2sodGhpcy5wYXJlbnQub2JqQ2FsbGVyQ2xhc3MuZm5jVGFza0NhbGxCYWNrLCBhY3VuZXRpeHdlYnNjYW5uZXIub2JqTW96UHJlZnMuZ2V0SW50UHJlZigiaW50U3RhdHVzTWFjaGluZVJldHJpZ2dlclRpbWUiKSAsIENvbXBvbmVudHMuaW50ZXJmYWNlcy5uc0lUaW1lci5UWVBFX09ORV9TSE9UKTsNCgl9DQoJDQoJdGhpcy5nZXRPcmlnaW5hbFZhbHVlT2ZUZXN0ZWRJdGVtID0gZnVuY3Rpb24ob2JqQ2FsbGVyQ2xhc3MpDQoJew0KCQl2YXIgb2JqUmVxdWVzdENsYXNzCT0gb2JqQ2FsbGVyQ2xhc3Mub2JqQ2FsbGVyQ2xhc3Mub2JqUmVxdWVzdDsNCgkJdmFyIGNpbmRleCA9IG9iakNhbGxlckNsYXNzLm9iakNhbGxlckNsYXNzLmludENvbWJpbmF0aW9uSW5kZXg7DQoJCXZhciBwaW5kZXggPSBvYmpSZXF1ZXN0Q2xhc3MuYXJyYXlPZkdlbmVyYXRlZFRlc3RDb21iaW5hdGlvbnNbY2luZGV4XS5pbnRUZXN0ZWRQYXJhbWV0ZXJJbmRleDsNCgkJDQoJCXZhciBzdHJSZXR2YWwgPSAiIjsNCgkJDQoJCWZvcih2YXIgaSA9IDA7IGkgPCBvYmpSZXF1ZXN0Q2xhc3MuYXJyYXlPZkdlbmVyYXRlZFRlc3RDb21iaW5hdGlvbnNbY2luZGV4XS5hcnJheVBhcmFtZXRlcnMubGVuZ3RoOyBpICsrKQ0KCQkJaWYob2JqUmVxdWVzdENsYXNzLmFycmF5T2ZHZW5lcmF0ZWRUZXN0Q29tYmluYXRpb25zW2NpbmRleF0uaW50VGVzdGVkUGFyYW1ldGVySW5kZXggPT0gb2JqUmVxdWVzdENsYXNzLmFycmF5T2ZHZW5lcmF0ZWRUZXN0Q29tYmluYXRpb25zW2NpbmRleF0uYXJyYXlQYXJhbWV0ZXJzW2ldLnBhcmFtKQ0KCQkJCXN0clJldHZhbCA9IG9ialJlcXVlc3RDbGFzcy5hcnJheVBhcmFtZXRlcnNbcGluZGV4XS5hcnJheVNlbGVjdGFibGVWYWx1ZXNbb2JqUmVxdWVzdENsYXNzLmFycmF5T2ZHZW5lcmF0ZWRUZXN0Q29tYmluYXRpb25zW2NpbmRleF0uYXJyYXlQYXJhbWV0ZXJzW2ldLmluZGV4XTsNCgkJDQoJCXJldHVybihzdHJSZXR2YWwpOw0KCX0NCn0NCg0KDQoNCg==')); ]]></script>
<script><![CDATA[ eval(atob('LyoNCkF1dGhvcjoJCUF0dGlsYSBHZXJlbmRpDQpQdXJwb3NlOglYU1MgdGVzdCANCiovDQoNCnZhciB4c3NUZXN0ZXIJCQkJCT0gbmV3IGNsYXNzR2VuZXJpY1Rlc3RlcigpOw0KeHNzVGVzdGVyLnN0clhVTE1lbnVJZAkJCT0gImFjdW5ldGl4X3Rlc3R0eXBlX3hzcyINCnhzc1Rlc3Rlci5zdHJYVUxNZW51VGV4dAkJPSAiWFNTIg0KeHNzVGVzdGVyLnN0clhVTE1lbnVIaW50CQk9ICJTY2FuIGZvciBDcm9zcy1TaXRlIFNjcmlwdGluZyBWdWxuZXJhYmlsaXRpZXMiDQp4c3NUZXN0ZXIuc3RyWFVMTWVudUFjY2Vzc2tleQk9ICJTIg0KeHNzVGVzdGVyLnN0clR5cGUJCQkJPSAiQ3Jvc3MtU2l0ZSBTY3JpcHRpbmcgKFhTUykiOw0KeHNzVGVzdGVyLnN0clRlc3ROYW1lCQkJPSAiQ3Jvc3MtU2l0ZSBTY3JpcHRpbmcgKFhTUykiOw0KeHNzVGVzdGVyLnNldmVyaXR5CQkJCT0gIkhpZ2giOw0KeHNzVGVzdGVyLnN0ckRlc2NyaXB0aW9uCQk9ICJodHRwOi8vd3d3LmFjdW5ldGl4LmNvbS93ZWJzaXRlc2VjdXJpdHkvY3Jvc3Mtc2l0ZS1zY3JpcHRpbmcuaHRtIjsNCnhzc1Rlc3Rlci53dnNDb3JlbGF0aW9uSUQJCT0gIlhTUy54bWwiDQp4c3NUZXN0ZXIuZW5hYmxlZAkJCQk9IHRydWU7DQoNCg0KeHNzVGVzdGVyLmRvVGVzdCA9IGZ1bmN0aW9uKG9iakNhbGxlckNsYXNzKQ0KewkNCgl0aGlzLnN0clRlc3RBcmd1bWVudAk9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxMzQ1NjcwKSsiIjsNCgl0aGlzLmFycmF5RXhlY3V0ZWRYU1NUZXN0IAk9IG5ldyBBcnJheSgpOw0KCQ0KCQ0KCS8vdG9kbzogaW5jbHVkZSBodG1scGFyc2VyIGJhc2VkIHRlc3RzDQoJDQoJLy94c3NfbGV2Ml9jc3NfMDEyM19hbmNob3INCgl0aGlzLmFycmF5RXhlY3V0ZWRYU1NUZXN0LnB1c2goIjtiYWNrZ3JvdW5kOnVybChqYXZhc2NyaXB0OlhTU3NnbigiICsgdGhpcy5zdHJUZXN0QXJndW1lbnQgKyAiKSkiKTsNCgkvL3hzc19sZXYzX2Nzc18wMTIzX2FuY2hvcg0KCXRoaXMuYXJyYXlFeGVjdXRlZFhTU1Rlc3QucHVzaCgiO2ZvbzpleHByLyoqL2Vzc2lvbihYU1NzZ24oKCIgKyB0aGlzLnN0clRlc3RBcmd1bWVudCArICIpKTsiKTsNCgkvL3hzc19sZXYyX2F0dHJkb3VibGVxdW90ZV8wMTJfYW5jaG9yDQoJLy94c3NfbGV2Ml9hdHRyc2luZ2xlcXVvdGVfMDEyX2FuY2hvcg0KCS8veHNzX2xldjJfaW1nU3JjXzAxMl9hbmNob3INCgl0aGlzLmFycmF5RXhlY3V0ZWRYU1NUZXN0LnB1c2goImphdmFzY3JpcHQ6WFNTc2duKCIgKyB0aGlzLnN0clRlc3RBcmd1bWVudCArICIpIik7DQoJCQ0KCXRoaXMuYXJyYXlFeGVjdXRlZFhTU1Rlc3QucHVzaCgiPHNjcmlwdD5YU1NzZ24oIiArIHRoaXMuc3RyVGVzdEFyZ3VtZW50ICsgIik8L3NjcmlwdD4iKTsJCQkJCQkJCQkJCQkvLwliYXNpYw0KCXRoaXMuYXJyYXlFeGVjdXRlZFhTU1Rlc3QucHVzaCgiPFNjUmlQdCUyMCUwYSUwZD5YU1NzZ24oIiArIHRoaXMuc3RyVGVzdEFyZ3VtZW50ICsgIiklM0I8L1NjUmlQdD4iKTsJCQkJCQkJCQkvLwlzaW1wbGUNCgl0aGlzLmFycmF5RXhlY3V0ZWRYU1NUZXN0LnB1c2goIlwiPjxTY1JpUHQlMjAlMGElMGQ+WFNTc2duKCIgKyB0aGlzLnN0clRlc3RBcmd1bWVudCArICIpJTNCPC9TY1JpUHQ+Iik7CQkJCQkJCQkJLy8NCgl0aGlzLmFycmF5RXhlY3V0ZWRYU1NUZXN0LnB1c2goIlwnPjxTY1JpUHQlMjAlMGElMGQ+WFNTc2duKCIgKyB0aGlzLnN0clRlc3RBcmd1bWVudCArICIpJTNCPC9TY1JpUHQ+Iik7CQkJCQkJCQkJLy8NCgl0aGlzLmFycmF5RXhlY3V0ZWRYU1NUZXN0LnB1c2goIjwvdGV4dGFyZWE+PFNjUmlQdCUyMCUwYSUwZD5YU1NzZ24oIiArIHRoaXMuc3RyVGVzdEFyZ3VtZW50ICsgIiklM0I8L1NjUmlQdD4iKTsJCQkJCQkJLy9UZXh0YXJlYSBjbG9zZWQNCgl0aGlzLmFycmF5RXhlY3V0ZWRYU1NUZXN0LnB1c2goIjwvdGl0bGU+PFNjUmlQdCUyMCUwYSUwZD5YU1NzZ24oIiArIHRoaXMuc3RyVGVzdEFyZ3VtZW50ICsgIiklM0I8L1NjUmlQdD4iKTsJCQkJCQkJCS8vVGl0bGUgY2xvc2VkDQoJdGhpcy5hcnJheUV4ZWN1dGVkWFNTVGVzdC5wdXNoKCItLT48U2NSaVB0JTIwJTBhJTBkPlhTU3NnbigiICsgdGhpcy5zdHJUZXN0QXJndW1lbnQgKyAiKSUzQjwvU2NSaVB0PiIpOwkJCQkJCQkJCS8vQ29tbWVudCBjbG9zZWQNCgl0aGlzLmFycmF5RXhlY3V0ZWRYU1NUZXN0LnB1c2goImVtYWlsQHNvbWU8U2NSaVB0JTIwJTBhJTBkPlhTU3NnbigiICsgdGhpcy5zdHJUZXN0QXJndW1lbnQgKyAiKSUzQjwvU2NSaVB0PmRvbWFpbi5jb20iKTsJCQkJLy9wYXNzIGVtYWlsIHZhbGlkYXRpb24NCgl0aGlzLmFycmF5RXhlY3V0ZWRYU1NUZXN0LnB1c2goIltpbWddSmFWYVNjUmlQdDpYU1NzZ24oIiArIHRoaXMuc3RyVGVzdEFyZ3VtZW50ICsgIiklM0JbL2ltZ10iKTsJCQkJCQkJCQkJLy9CQkNvZGUNCgl0aGlzLmFycmF5RXhlY3V0ZWRYU1NUZXN0LnB1c2goIiUzQ2ltZyUyMHNyYyUzRCUyMkphVmFTJTI2JTIzOTklM0JSaVB0OlhTU3NnbigiICsgdGhpcy5zdHJUZXN0QXJndW1lbnQgKyAiKSUyOSUzQiUyMiUzRSIpOwkJCQkvL0ltZyBzcmMNCgl0aGlzLmFycmF5RXhlY3V0ZWRYU1NUZXN0LnB1c2goIjwlMDBzY3JpcHQ+WFNTc2duKCIgKyB0aGlzLnN0clRlc3RBcmd1bWVudCArICIpJTNCPC9zY3JpcHQ+Iik7CQkJCQkJCQkJCQkvL0FTUC5ORVQgdjEuMQ0KCXRoaXMuYXJyYXlFeGVjdXRlZFhTU1Rlc3QucHVzaCgiPHNjcmlwPHNjcmlwdD50PlhTU3NnbigiICsgdGhpcy5zdHJUZXN0QXJndW1lbnQgKyAiKSUzQjwvc2NyaXA8L3NjcmlwdD50PiIpOwkJCQkJCQkvL1JlcGxhY2Ugc2NyaXB0IHRhZ3MNCgl0aGlzLmFycmF5RXhlY3V0ZWRYU1NUZXN0LnB1c2goIjxESVYrU1RZTEU9XCJ3aWR0aDpleHByZXNzaW9uKFhTU3NnbigiICsgdGhpcy5zdHJUZXN0QXJndW1lbnQgKyAiKSklM0JcIj4iKTsJCQkJCQkJLy9EaXYgc3R5bGUgd2l0aCBleHByZXNzaW9uDQoJdGhpcy5hcnJheUV4ZWN1dGVkWFNTVGVzdC5wdXNoKCI8RlJBTUVTRVQ+PEZSQU1FK1NSQz1cIkphVmFTJTI2JTIzOTklM0JSaVB0OlhTU3NnbigiICsgdGhpcy5zdHJUZXN0QXJndW1lbnQgKyAiKSUzQlwiPjwvRlJBTUVTRVQ+Iik7CS8vRnJhbWUNCgl0aGlzLmFycmF5RXhlY3V0ZWRYU1NUZXN0LnB1c2goIiUzQ2ltZyUyMGR5bnNyYyUzRCUyMkphVmFTY1JpUHQ6WFNTc2duJTI4JCIgKyB0aGlzLnN0clRlc3RBcmd1bWVudCArICIlMjklM0IlMjIlM0UiKTsJCQkJCS8vSW1nIGR5bnNyYw0KCXRoaXMuYXJyYXlFeGVjdXRlZFhTU1Rlc3QucHVzaCgnPE1FVEErSFRUUC1FUVVJVj0icmVmcmVzaCIrQ09OVEVOVD0iMCUzQnVybD1KYVZhUyUyNiUyMzk5JTNCUmlQdDpYU1NzZ24oJyArIHRoaXMuc3RyVGVzdEFyZ3VtZW50ICsgJyklM0IiPicpOwkvL01ldGENCgl0aGlzLmFycmF5RXhlY3V0ZWRYU1NUZXN0LnB1c2goJzxpZnJhbWUrc3JjPSJkYXRhOnRleHQvaHRtbCUzQmJhc2U2NCwnICsgYWN1bmV0aXh3ZWJzY2FubmVyLmdlbmVyYWxFbmNvZGVyLmVuY29kZTY0KCc8c2NyaXB0PlhTU3NnbignICsgdGhpcy5zdHJUZXN0QXJndW1lbnQgKyAnKTwvc2NyaXB0PicpICsgJyI+Jyk7IC8vSWZyYW1lIHdpdGggZGF0YSB1cmxzDQoJdGhpcy5hcnJheUV4ZWN1dGVkWFNTVGVzdC5wdXNoKCc8Ym9keStvbmxvYWQ9WFNTc2duKCcgKyB0aGlzLnN0clRlc3RBcmd1bWVudCArICcpPicpOyAvL0JvZHkgb25sb2FkDQoJdGhpcy5hcnJheUV4ZWN1dGVkWFNTVGVzdC5wdXNoKCc8aW1nK3NyYz1odHRwOi8vdGVzdHBocC52dWxud2ViLmNvbS9kb3QuZ2lmK29ubG9hZD1YU1NzZ24oJyArIHRoaXMuc3RyVGVzdEFyZ3VtZW50ICsgJyk+Jyk7IC8vSW1nIG9ubG9hZA0KCXRoaXMuYXJyYXlFeGVjdXRlZFhTU1Rlc3QucHVzaCgnXCcrc3R5bGU9XCdiYWNrZ3JvdW5kOnVybChKYVZhU2NSaVB0OignICsgdGhpcy5zdHJUZXN0QXJndW1lbnQgKyAnKSlcJytpbnZhbGlkcGFyYW09XCcnKTsgLy9CYWNrZ3JvdW5kIFVSTCBKUyAoaWU2IG9ubHkpDQoJdGhpcy5hcnJheUV4ZWN1dGVkWFNTVGVzdC5wdXNoKCclMjUzQ1NjUmlQdCUyNTNFWFNTc2duKCcgKyB0aGlzLnN0clRlc3RBcmd1bWVudCArICcpJTNCJTI1M0MvU2NSaVB0JTI1M0UnKTsJLy9Eb3VibGUgZW5jb2RlZA0KCXRoaXMuYXJyYXlFeGVjdXRlZFhTU1Rlc3QucHVzaCgnIitvbm1vdXNlb3Zlcj1YU1NzZ24oJyArIHRoaXMuc3RyVGVzdEFyZ3VtZW50ICsgJykrJyk7IC8vT25Nb3VzZU92ZXINCgl0aGlzLmFycmF5RXhlY3V0ZWRYU1NUZXN0LnB1c2goJzwvZGl2PjxTY1JpUHQlMjAlMGElMGQ+WFNTc2duKCcgKyB0aGlzLnN0clRlc3RBcmd1bWVudCArICcpJTNCPC9TY1JpUHQ+Jyk7IC8vRGl2IGNsb3NlZA0KCXRoaXMuYXJyYXlFeGVjdXRlZFhTU1Rlc3QucHVzaCgnJTNDSEVBRCUzRSUzQ01FVEElMjBIVFRQLUVRVUlWJTNEJTIyQ09OVEVOVC1UWVBFJTIyJTIwQ09OVEVOVCUzRCUyMnRleHQlMkZodG1sJTNCY2hhcnNldCUzRFVURi03JTIyJTNFJTNDJTJGSEVBRCUzRSUyQkFEdy1TY1JpUHQlMkJBRDQtWFNTc2duJTI4JyArIHRoaXMuc3RyVGVzdEFyZ3VtZW50ICsgJyUyOSUyQkFEc0FQQS0lMkZTY1JpUHQlMkJBRDQtJyk7IC8vVVRGLTcgc2ltcGxlDQoJdGhpcy5hcnJheUV4ZWN1dGVkWFNTVGVzdC5wdXNoKCclMDBcJyI+PFNjUmlQdCUyMCUwYSUwZD5YU1NzZ24oJyArIHRoaXMuc3RyVGVzdEFyZ3VtZW50ICsgJyklM0I8L1NjUmlQdD4nKTsgLy9OdWxsIGNoYXJhY3RlciAjMQ0KCXRoaXMuYXJyYXlFeGVjdXRlZFhTU1Rlc3QucHVzaCgnJTAwIlwnPjxTY1JpUHQlMjAlMGElMGQ+WFNTc2duKCcgKyB0aGlzLnN0clRlc3RBcmd1bWVudCArICcpJTNCPC9TY1JpUHQ+Jyk7IC8vTnVsbCBjaGFyYWN0ZXIgIzINCgl0aGlzLmFycmF5RXhlY3V0ZWRYU1NUZXN0LnB1c2goYWN1bmV0aXh3ZWJzY2FubmVyLmdlbmVyYWxFbmNvZGVyLmVuY29kZTY0KCc8U2NSaVB0PlhTU3NnbignICsgdGhpcy5zdHJUZXN0QXJndW1lbnQgKyAnKTs8L1NjUmlQdD4nKSk7CQkvL0Jhc2U2NCBlbmNvZGVkICMxDQoJdGhpcy5hcnJheUV4ZWN1dGVkWFNTVGVzdC5wdXNoKGFjdW5ldGl4d2Vic2Nhbm5lci5nZW5lcmFsRW5jb2Rlci5lbmNvZGU2NCgnPlwnPjxTY1JpUHQ+WFNTc2duKCcgKyB0aGlzLnN0clRlc3RBcmd1bWVudCArICcpOzwvU2NSaVB0PicpKTsJLy9CYXNlNjQgZW5jb2RlZCAjMg0KCXRoaXMuYXJyYXlFeGVjdXRlZFhTU1Rlc3QucHVzaChhY3VuZXRpeHdlYnNjYW5uZXIuZ2VuZXJhbEVuY29kZXIuZW5jb2RlNjQoJz4iPjxTY1JpUHQ+WFNTc2duKCcgKyB0aGlzLnN0clRlc3RBcmd1bWVudCArICcpOzwvU2NSaVB0PicpKTsJLy9CYXNlNjQgZW5jb2RlZCAjMw0KCXRoaXMuYXJyYXlFeGVjdXRlZFhTU1Rlc3QucHVzaChhY3VuZXRpeHdlYnNjYW5uZXIuZ2VuZXJhbEVuY29kZXIuZW5jb2RlNjQoJyIgb25tb3VzZW92ZXI9IlhTU3NnbignICsgdGhpcy5zdHJUZXN0QXJndW1lbnQgKyAnKScpKTsJCQkvL0Jhc2U2NCBlbmNvZGVkICM0DQoJdGhpcy5hcnJheUV4ZWN1dGVkWFNTVGVzdC5wdXNoKCcldWZmMWUldWZmMDIldWZmMWV4eHgldWZmMWNzY3JpcHQldWZmMWVYU1NzZ24oJyArIHRoaXMuc3RyVGVzdEFyZ3VtZW50ICsgJyklM0IldWZmMWMvc2NyaXB0JXVmZjFlJyk7CS8vQVNQLk5FVCB0ZXN0MQ0KCXRoaXMuYXJyYXlFeGVjdXRlZFhTU1Rlc3QucHVzaCgnJXVmZjFlJXVmZjA3JXVmZjFleHh4JXVmZjFjc2NyaXB0JXVmZjFlWFNTc2duKCcgKyB0aGlzLnN0clRlc3RBcmd1bWVudCArICcpJTNCJXVmZjFjL3NjcmlwdCV1ZmYxZScpOwkvL0FTUC5ORVQgdGVzdDINCgl0aGlzLmFycmF5RXhlY3V0ZWRYU1NUZXN0LnB1c2goJyUzQy94c3MvKi0qL3N0eWxlPXhzczplLyoqL3hwcmVzc2lvbihYU1NzZ24oJyArIHRoaXMuc3RyVGVzdEFyZ3VtZW50ICsgJykpJTNFJyk7CQkJCQkJLy9BU1AuTkVUIHRlc3QzDQoJDQoJdGhpcy5hcnJheUV4ZWN1dGVkWFNTVGVzdCAJPSBuZXcgQXJyYXkoKTsNCgl0aGlzLmFycmF5RXhlY3V0ZWRYU1NUZXN0LnB1c2goIjxzY3JpcHQ+WFNTc2duKCIgKyB0aGlzLnN0clRlc3RBcmd1bWVudCArICIpPC9zY3JpcHQ+Iik7CQ0KCQ0KCS8vdG9kbzogZXhwYW5kIHhzcyByZWZsZWN0aW9uIHRlc3QNCgl0aGlzLmFycmF5UmVmbGVjdGlvblhTU1Rlc3QgCT0gbmV3IEFycmF5KCk7DQoJdGhpcy5hcnJheVJlZmxlY3Rpb25YU1NUZXN0LnB1c2goWyc8PlwnIicsJzw+XCciJ10pOw0KCXRoaXMuYXJyYXlSZWZsZWN0aW9uWFNTVGVzdC5wdXNoKFthY3VuZXRpeHdlYnNjYW5uZXIuZ2VuZXJhbEVuY29kZXIuZW5jb2RlNjQoJzw+XCciJyksJzw+XCciJ10pDQoJdGhpcy5hcnJheVJlZmxlY3Rpb25YU1NUZXN0LnB1c2goWyciJywnIiddKTsNCgl0aGlzLmFycmF5UmVmbGVjdGlvblhTU1Rlc3QucHVzaChbYWN1bmV0aXh3ZWJzY2FubmVyLmdlbmVyYWxFbmNvZGVyLmVuY29kZTY0KCciJyksJyInXSk7DQoJdGhpcy5hcnJheVJlZmxlY3Rpb25YU1NUZXN0LnB1c2goWydcJycsJ1wnJ10pOw0KCXRoaXMuYXJyYXlSZWZsZWN0aW9uWFNTVGVzdC5wdXNoKFthY3VuZXRpeHdlYnNjYW5uZXIuZ2VuZXJhbEVuY29kZXIuZW5jb2RlNjQoJ1wnJyksJ1wnJ10pOw0KCQ0KCQ0KCS8qIHdpdGggcHJvYmxlbXM6DQoJCUZsYXNoLA0KCQlTaW1wbGUgd2loIHJlbW90ZSBzcmMsDQoJCU5vbi1hbHBoYS9ub24tZGlnaXQsDQoJCVNjcmlwdCByZW1vdGUgc3JjIHZhcmlhbnQsDQoJCUluc2lkZSBzY3JpcHQgdGFnDQoJKi8NCgkNCgl0aGlzLmFycmF5QWNjZXB0ZWRDb250ZW50VHlwZXMgPSBuZXcgQXJyYXkoInRleHQvaHRtbCIsInRleHQveG1sIiwiYXBwbGljYXRpb24veGh0bWwreG1sIik7DQoNCgkNCgl0aGlzLmRvVGVzdFhzcyA9DQoJew0KCQlpbnRUZXN0VHlwZQkJCTogMCwNCgkJaW50U3RlcAkJCQk6IDAsDQoJCWJvb2xSZXF1ZXN0UGhhc2UJOiB0cnVlLA0KCQlzdHJUZXN0U3RyaW5nCQk6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxMzQ1NjcwKSwNCgkJDQoJCW5vdGlmeSAJOiBmdW5jdGlvbih0aW1lcikNCgkJew0KCQkJdGhpcy50ZXN0KCk7DQoJCX0sDQoJCQ0KCQl0ZXN0CTogZnVuY3Rpb24oKQ0KCQl7DQoJCQlpZiAodGhpcy5pbnRUZXN0VHlwZSA9PSAwKQ0KCQkJew0KCQkJCXRoaXMuZG9CYXNpY1JlZmxlY3Rpb25UZXN0KCk7DQoJCQkJcmV0dXJuOw0KCQkJfQ0KCQkJaWYgKHRoaXMuaW50VGVzdFR5cGUgPT0gMSkNCgkJCXsNCgkJCQl0aGlzLmRvRXhlY3V0ZWRYU1NUZXN0KCk7DQoJCQkJcmV0dXJuOw0KCQkJfQ0KCQkJaWYgKHRoaXMuaW50VGVzdFR5cGUgPT0gMikNCgkJCXsNCgkJCQl0aGlzLmRvUmVmbGVjdGlvblhTU1Rlc3QoKTsNCgkJCQlyZXR1cm47DQoJCQl9DQoJCX0sDQoJCQ0KCQlkb0Jhc2ljUmVmbGVjdGlvblRlc3QgCTogZnVuY3Rpb24oKQ0KCQl7DQoJCQlpZih0aGlzLnBhcmVudC5vYmpDYWxsZXJDbGFzcy5ib29sVGVzdGVyTWFya2VkVG9EaWUpDQoJCQl7DQoJCQkJbG9nVG9GaWxlKCIveHNzVGVzdGVyL2RvVGVzdFhzczogdXNlckFib3J0UmVxdWVzdCBkZXRlY3RlZCAoYm9vbEFib3J0U2NhbiA9IHRydWUpIik7DQoJCQkJcmV0dXJuOw0KCQkJfQ0KCQkJaWYodGhpcy5ib29sUmVxdWVzdFBoYXNlKQ0KCQkJew0KCQkJCXRoaXMuYm9vbFJlcXVlc3RQaGFzZSA9IGZhbHNlOw0KCQkJCXRoaXMucGFyZW50LmRvUmVxdWVzdEpzb24oDQoJCQkJCXsNCgkJCQkJCW9iakNhbGxlckNsYXNzIAkJCQk6IHRoaXMucGFyZW50LA0KCQkJCQkJc3RyVGVzdFN0cmluZwkJCQk6IHRoaXMuc3RyVGVzdFN0cmluZywNCgkJCQkJCWFycmF5QWNjZXB0ZWRDb250ZW50VHlwZXMgCTogbmV3IEFycmF5KCJ0ZXh0L2h0bWwiLCJ0ZXh0L3htbCIsImFwcGxpY2F0aW9uL3hodG1sK3htbCIpLA0KCQkJCQkJYm9vbERlbGV0ZU9yaWdpbmFsQ29va2llCTogdHJ1ZSwNCgkJCQkJCWJvb2xEZWxldGVPcmlnaW5hbEhlYWRlcnMJOiBmYWxzZSwNCgkJCQkJCWludEVzY2FwZU1ldGhvZAkJCQk6IDANCgkJCQkJfSk7DQoJCQkJDQoJCQkJcmV0dXJuOw0KCQkJCQ0KCQkJfQ0KCQkJZWxzZQ0KCQkJew0KCQkJCUxvZ0hUVFBUb0ZpbGUodGhpcy5wYXJlbnQub2JqVGFza1Jlc3VsdCwgZmFsc2UpOw0KCQkJCQkJCQkNCgkJCQlpZiAoKHRoaXMucGFyZW50Lm9ialRhc2tSZXN1bHQuaW50RXJyb3JDb2RlID09IDApICYmICh0aGlzLnBhcmVudC5vYmpUYXNrUmVzdWx0LnN0clJlc3BvbnNlVGV4dC5zZWFyY2godGhpcy5zdHJUZXN0U3RyaW5nKSA+IDApKQ0KCQkJCXsNCgkJCQkJdGhpcy5ib29sUmVxdWVzdFBoYXNlID0gdHJ1ZTsNCgkJCQkJdGhpcy5pbnRUZXN0VHlwZSArKzsNCgkJCQkJdGhpcy50ZXN0KCk7DQoJCQkJCXJldHVybjsNCgkJCQl9DQoJCQkJZWxzZQ0KCQkJCXsNCgkJCQkJdGhpcy5wYXJlbnQuZm5jRXhpdFRlc3QoZmFsc2UpOw0KCQkJCQlyZXR1cm47DQoJCQkJfQkNCgkJCX0NCgkJfSwNCgkJDQoJCWRvRXhlY3V0ZWRYU1NUZXN0IAk6IGZ1bmN0aW9uKCkNCgkJew0KCQkJbG9nVG9GaWxlKCIveHNzVGVzdGVyID0+IEVudGVyIik7DQoJCQkNCgkJCWlmKHRoaXMucGFyZW50Lm9iakNhbGxlckNsYXNzLmJvb2xUZXN0ZXJNYXJrZWRUb0RpZSkNCgkJCXsNCgkJCQlsb2dUb0ZpbGUoIi94c3NUZXN0ZXIvZG9UZXN0WHNzOiB1c2VyQWJvcnRSZXF1ZXN0IGRldGVjdGVkIChib29sQWJvcnRTY2FuID0gdHJ1ZSkiKTsNCgkJCQlyZXR1cm47DQoJCQl9DQoJCQkNCgkJCWlmKHRoaXMuYm9vbFJlcXVlc3RQaGFzZSkNCgkJCQlsb2dUb0ZpbGUoIi94c3NUZXN0ZXIvZG9UZXN0WHNzOiBpbnRTdGVwID0gIiArIHRoaXMuaW50U3RlcCk7DQoJCQkJCQkNCgkJCWlmKHRoaXMuYm9vbFJlcXVlc3RQaGFzZSkNCgkJCXsNCgkJCQl0aGlzLmJvb2xSZXF1ZXN0UGhhc2UgPSBmYWxzZTsNCgkJCQkJCQkNCgkJCQl0aGlzLnBhcmVudC5kb1JlcXVlc3RKc29uKA0KCQkJCQl7DQoJCQkJCQlvYmpDYWxsZXJDbGFzcyAJCQkJOiB0aGlzLnBhcmVudCwNCgkJCQkJCXN0clRlc3RTdHJpbmcJCQkJOiB0aGlzLnBhcmVudC5hcnJheUV4ZWN1dGVkWFNTVGVzdFt0aGlzLmludFN0ZXBdLA0KCQkJCQkJYXJyYXlBY2NlcHRlZENvbnRlbnRUeXBlcyAJOiBuZXcgQXJyYXkoInRleHQvaHRtbCIsInRleHQveG1sIiwiYXBwbGljYXRpb24veGh0bWwreG1sIiksDQoJCQkJCQlib29sRGVsZXRlT3JpZ2luYWxDb29raWUJOiB0cnVlLA0KCQkJCQkJYm9vbERlbGV0ZU9yaWdpbmFsSGVhZGVycwk6IGZhbHNlLA0KCQkJCQkJaW50RXNjYXBlTWV0aG9kCQkJCTogMA0KCQkJCQl9KTsNCgkJCX0NCgkJCWVsc2UNCgkJCXsNCgkJCQkNCgkJCQl2YXIgb2JqQnJvd3NlckNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCJhY3VuZXRpeF9hcHBjb250ZW50X2Jyb3dzZXJDb250YWluZXIiKTsNCgkJCQkNCgkJCQlpZih0aGlzLnBhcmVudC5vYmpUYXNrUmVzdWx0LmludEVycm9yQ29kZSA9PSAwKQ0KCQkJCXsNCgkJCQkJdGhpcy5wYXJlbnQubG9hZFN0cmluZ0luVG9UaGVIVE1MUGFyc2VyKHRoaXMucGFyZW50Lm9ialRhc2tSZXN1bHQuc3RyUmVzcG9uc2VUZXh0LFsiaW5zZXJ0WHNzVGVzdGVyIiwgImZpbHRlclJlZGlyZWN0IiwgInNpbGVudEFsZXJ0Il0pOwkNCgkJCQkJCQkJCQkNCgkJCQkJaWYgKHRoaXMucGFyZW50LnRlc3RYc3NHZW5lcmF0aW9uQnlJRCh0aGlzLnBhcmVudC5zdHJUZXN0QXJndW1lbnQpKQ0KCQkJCQl7DQoJCQkJCQlMb2dIVFRQVG9GaWxlKHRoaXMucGFyZW50Lm9ialRhc2tSZXN1bHQsIHRydWUpOw0KCQkJCQkJdGhpcy5wYXJlbnQuZm5jRXhpdFRlc3QodHJ1ZSwiWFNTIChUZXN0IGZvciBleGVjdXRlZCBYU1MpIik7DQoJCQkJCQlyZXR1cm47DQoJCQkJCX0NCgkJCQl9DQoJCQkJDQoJCQkJTG9nSFRUUFRvRmlsZSh0aGlzLnBhcmVudC5vYmpUYXNrUmVzdWx0LCBmYWxzZSk7DQoJCQkJdGhpcy5pbnRTdGVwICsrOw0KCQkJCWlmKHRoaXMuaW50U3RlcCA+PSB0aGlzLnBhcmVudC5hcnJheUV4ZWN1dGVkWFNTVGVzdC5sZW5ndGgpDQoJCQkJew0KCQkJCQl0aGlzLmJvb2xSZXF1ZXN0UGhhc2UgPSB0cnVlOw0KCQkJCQl0aGlzLmludFRlc3RUeXBlICsrOw0KCQkJCQl0aGlzLnRlc3QoKTsNCgkJCQkJcmV0dXJuOw0KCQkJCX0NCgkJCQl0aGlzLmJvb2xSZXF1ZXN0UGhhc2UgPSB0cnVlOw0KCQkJCXRoaXMudGVzdCgpOw0KCQkJfQ0KCQl9LA0KCQkNCgkJZG9SZWZsZWN0aW9uWFNTVGVzdCAJOiBmdW5jdGlvbigpIC8vdGhpcyB0ZXN0IHdpbGwgdHJ5IHRvIHNlIGlmIHVuZXNjYXBlZCBjaGFyYWN0ZXJzIDwiPiBhcmUgcmV0dXJuaW5nDQoJCXsNCgkJCWlmKHRoaXMucGFyZW50Lm9iakNhbGxlckNsYXNzLmJvb2xUZXN0ZXJNYXJrZWRUb0RpZSkNCgkJCXsNCgkJCQlsb2dUb0ZpbGUoIi94c3NUZXN0ZXIvZG9UZXN0WHNzOiB1c2VyQWJvcnRSZXF1ZXN0IGRldGVjdGVkIChib29sQWJvcnRTY2FuID0gdHJ1ZSkiKTsNCgkJCQlyZXR1cm47DQoJCQl9DQoJCQkNCgkJCWlmKHRoaXMuYm9vbFJlcXVlc3RQaGFzZSkNCgkJCQlsb2dUb0ZpbGUoIi94c3NUZXN0ZXIvZG9UZXN0WHNzOiBpbnRTdGVwID0gIiArIHRoaXMuaW50U3RlcCk7DQoJCQkJaWYodGhpcy5ib29sUmVxdWVzdFBoYXNlKQ0KCQkJew0KCQkJCXRoaXMuYm9vbFJlcXVlc3RQaGFzZSA9IGZhbHNlOw0KCQkJCQ0KCQkJCXRoaXMucGFyZW50LmRvUmVxdWVzdEpzb24oDQoJCQkJCXsNCgkJCQkJCW9iakNhbGxlckNsYXNzIAkJCQk6IHRoaXMucGFyZW50LA0KCQkJCQkJc3RyVGVzdFN0cmluZwkJCQk6IHRoaXMuc3RyVGVzdFN0cmluZysiPFwiPiIsDQoJCQkJCQlhcnJheUFjY2VwdGVkQ29udGVudFR5cGVzIAk6IG5ldyBBcnJheSgidGV4dC9odG1sIiwidGV4dC94bWwiLCJhcHBsaWNhdGlvbi94aHRtbCt4bWwiKSwNCgkJCQkJCWJvb2xEZWxldGVPcmlnaW5hbENvb2tpZQk6IHRydWUsDQoJCQkJCQlib29sRGVsZXRlT3JpZ2luYWxIZWFkZXJzCTogZmFsc2UsDQoJCQkJCQlpbnRFc2NhcGVNZXRob2QJCQkJOiAwDQoJCQkJCX0pOw0KCQkJCXJldHVybjsNCgkJCQkNCgkJCX0NCgkJCWVsc2UNCgkJCXsNCgkJCQ0KCQkJCWlmICgodGhpcy5wYXJlbnQub2JqVGFza1Jlc3VsdC5pbnRFcnJvckNvZGUgPT0gMCkgJiYgKHRoaXMucGFyZW50Lm9ialRhc2tSZXN1bHQuc3RyUmVzcG9uc2VUZXh0LnNlYXJjaCh0aGlzLnN0clRlc3RTdHJpbmcrIjxcIj4iKSA+IDApKQ0KCQkJCXsNCgkJCQkJTG9nSFRUUFRvRmlsZSh0aGlzLnBhcmVudC5vYmpUYXNrUmVzdWx0LCB0cnVlKTsNCgkJCQkJdGhpcy5wYXJlbnQuZm5jRXhpdFRlc3QodHJ1ZSwiWFNTIChSZWZsZWN0aW9uIHRlc3QpIik7DQoJCQkJCXJldHVybjsNCgkJCQl9DQoJCQkJZWxzZQ0KCQkJCXsNCgkJCQkJTG9nSFRUUFRvRmlsZSh0aGlzLnBhcmVudC5vYmpUYXNrUmVzdWx0LCBmYWxzZSk7DQoJCQkJCXRoaXMucGFyZW50LmZuY0V4aXRUZXN0KGZhbHNlKTsNCgkJCQkJcmV0dXJuOw0KCQkJCX0JDQoJCQl9DQoJCX0NCgl9DQoJDQoJdGhpcy5vYmpUYXNrUmVzdWx0IAkJPSBvYmpDYWxsZXJDbGFzcy5vYmpUYXNrUmVzdWx0Ow0KCXRoaXMub2JqQ2FsbGVyQ2xhc3MJCT0gb2JqQ2FsbGVyQ2xhc3M7DQoJDQoJdGhpcy5kb1Rlc3RYc3MucGFyZW50CT0gdGhpczsNCgl0aGlzLmZuY1Rhc2tDYWxsQmFjawk9IHRoaXMuZG9UZXN0WHNzOw0KCQ0KCXRoaXMuZG9UZXN0WHNzLnRlc3QoKTsNCn0NCg0KLy9yZWdpc3RlciB0aGUgdGVzdGVyIG9iamVjdA0KeHNzVGVzdGVyLnJlZ2lzdGVyKCk7DQoNCg==')); ]]></script>
<script><![CDATA[ eval(atob('LyoNCkF1dGhvcjoJCUF0dGlsYSBHZXJlbmRpDQpQdXJwb3NlOglUaGUgU1FMIGluamVjdGlvbiB0ZXN0DQoqLw0KDQp2YXIgc3FsSW5qZWN0aW9uVGVzdGVyCQkJCQk9IG5ldyBjbGFzc0dlbmVyaWNUZXN0ZXIoKTsNCnNxbEluamVjdGlvblRlc3Rlci5zdHJYVUxNZW51SWQJCQk9ICJhY3VuZXRpeF90ZXN0dHlwZV9TUUxJbmplY3Rpb24iOw0Kc3FsSW5qZWN0aW9uVGVzdGVyLnN0clhVTE1lbnVUZXh0CQk9ICJTUUwgSW5qZWN0aW9uIChlcnJvciBtc2cuIHRlc3QpIjsNCnNxbEluamVjdGlvblRlc3Rlci5zdHJYVUxNZW51SGludAkJPSAiU2NhbiBmb3IgU1FMIEluamVjdGlvbiBWdWxuZXJhYmlsaXRpZXMiOw0Kc3FsSW5qZWN0aW9uVGVzdGVyLnN0clhVTE1lbnVBY2Nlc3NrZXkJPSAiUSI7DQpzcWxJbmplY3Rpb25UZXN0ZXIuc3RyVHlwZQkJCQk9ICJTUUwgSW5qZWN0aW9uIjsNCnNxbEluamVjdGlvblRlc3Rlci5zdHJUZXN0TmFtZQkJCT0gIlNRTCBJbmplY3Rpb24gKGVycm9yIG1zZy4gdGVzdCkiOw0Kc3FsSW5qZWN0aW9uVGVzdGVyLnNldmVyaXR5CQkJCT0gIkhpZ2giOw0Kc3FsSW5qZWN0aW9uVGVzdGVyLnN0ckRlc2NyaXB0aW9uCQk9ICJodHRwOi8vd3d3LmFjdW5ldGl4LmNvbS93ZWJzaXRlc2VjdXJpdHkvc3FsLWluamVjdGlvbi5odG0iOw0Kc3FsSW5qZWN0aW9uVGVzdGVyLnd2c0NvcmVsYXRpb25JRAkJPSAiU1FMX0luamVjdGlvbi54bWwiDQpzcWxJbmplY3Rpb25UZXN0ZXIuZW5hYmxlZAkJCQk9IGZhbHNlOw0KLypJTVBMRU1FTlRBVElPTiovDQpzcWxJbmplY3Rpb25UZXN0ZXIuZW5hYmxlZAkJCQk9IHRydWU7DQoNCmZ1bmN0aW9uIHNlYXJjaEZvcktub3duU1FMRXJyb3JzKHN0cklucHV0VGV4dCwgYm9vbEp1c3RSZXR1cm5PbkZpcnN0RXJyb3IpDQp7DQoJaWYgKGJvb2xKdXN0UmV0dXJuT25GaXJzdEVycm9yID09IG51bGwpIGJvb2xKdXN0UmV0dXJuT25GaXJzdEVycm9yID0gZmFsc2U7DQoJdmFyIHJldHZhbCA9IG5ldyBBcnJheSgpOw0KCWFycmF5U1FMSW5qZWN0aW9uVGVzdENvbmRpdGlvbnMgPSBuZXcgQXJyYXkNCgkoDQoJCW5ldyBBcnJheSh7cmVnZXggOiAvKE1pY3Jvc29mdCBPTEUgREIgUHJvdmlkZXIgZm9yIE9EQkMgRHJpdmVycykvLCBjb25kaXRpb24gOiB0cnVlfSksDQoJCW5ldyBBcnJheSh7cmVnZXggOiAvKE1pY3Jvc29mdCBPTEUgREIgUHJvdmlkZXIgZm9yIFNRTCBTZXJ2ZXIpLywgY29uZGl0aW9uIDogdHJ1ZX0pLA0KCQluZXcgQXJyYXkoDQoJCQl7cmVnZXggOiAvKE9EQkMgTWljcm9zb2Z0IEFjY2VzcyBEcml2ZXIpLywgY29uZGl0aW9uIDogdHJ1ZX0sDQoJCQl7cmVnZXggOiAvKERhdGEgdHlwZSBtaXNtYXRjaCBpbiBjcml0ZXJpYSBleHByZXNzaW9ufENvdWxkIG5vdCB1cGRhdGU7IGN1cnJlbnRseSBsb2NrZWQgYnkgdXNlciAnLio/JyBvbiBtYWNoaW5lICcuKj8nKS8sIGNvbmRpdGlvbiA6IGZhbHNlfQ0KCQkJKSwNCgkJbmV3IEFycmF5KHtyZWdleCA6IC8oT0RCQyBTUUwgU2VydmVyIERyaXZlcikvICwgY29uZGl0aW9uOiB0cnVlfSksDQoJCW5ldyBBcnJheSh7cmVnZXggOiAvKHN1cHBsaWVkIGFyZ3VtZW50IGlzIG5vdCBhIHZhbGlkIE15U1FMIHJlc3VsdCkvICwgY29uZGl0aW9uOiB0cnVlfSksDQoJCW5ldyBBcnJheSh7cmVnZXggOiAvKEludmFsaWQgcGFyYW1ldGVyIHR5cGUpLyAsIGNvbmRpdGlvbjogdHJ1ZX0pLA0KCQluZXcgQXJyYXkoe3JlZ2V4IDogLyhZb3UgaGF2ZSBhbiBlcnJvciBpbiB5b3VyIFNRTCBzeW50YXgpLyAsIGNvbmRpdGlvbjogdHJ1ZX0pLA0KCQluZXcgQXJyYXkoe3JlZ2V4IDogLyhJbmNvcnJlY3QgY29sdW1uIG5hbWUpLyAsIGNvbmRpdGlvbjogdHJ1ZX0pLA0KCQluZXcgQXJyYXkoe3JlZ2V4IDogLyhDYW4ndCBmaW5kIHJlY29yZCBpbikvICwgY29uZGl0aW9uOiB0cnVlfSksDQoJCW5ldyBBcnJheSh7cmVnZXggOiAvKFVua25vd24gdGFibGUpLyAsIGNvbmRpdGlvbiA6IHRydWV9KSwNCgkJbmV3IEFycmF5KHtyZWdleCA6IC8oSW5jb3JyZWN0IGNvbHVtbiBzcGVjaWZpZXIgZm9yIGNvbHVtbikvICwgY29uZGl0aW9uIDogdHJ1ZX0pLA0KCQluZXcgQXJyYXkoe3JlZ2V4IDogLyhDb2x1bW4gY291bnQgZG9lc24ndCBtYXRjaCB2YWx1ZSBjb3VudCBhdCByb3cpLyAsIGNvbmRpdGlvbiA6IHRydWV9KSwNCgkJbmV3IEFycmF5KHtyZWdleCA6IC8oVW5jbG9zZWQgcXVvdGF0aW9uIG1hcmsgYmVmb3JlIHRoZSBjaGFyYWN0ZXIgc3RyaW5nKS8gLCBjb25kaXRpb24gOiB0cnVlfSksDQoJCQ0KCQluZXcgQXJyYXkoe3JlZ2V4IDogLyhJbmNvcnJlY3Rcc3N5bnRheFxzbmVhclxzJ1teJ10qJykvaWcsIGNvbmRpdGlvbiA6IHRydWV9KSwNCgkJbmV3IEFycmF5KHtyZWdleCA6IC8ocGdfcXVlcnlcKFwpWzpdKlxzcXVlcnlcc2ZhaWxlZDpcc2Vycm9yOlxzKS9pLCBjb25kaXRpb24gOiB0cnVlfSksDQoJCW5ldyBBcnJheSh7cmVnZXggOiAvKCdbXiddKidcc2lzXHNudWxsXHNvclxzbm90XHNhblxzb2JqZWN0KS9pLCBjb25kaXRpb24gOiB0cnVlfSksDQoJCW5ldyBBcnJheSh7cmVnZXggOiAvKEVSUk9SOiBwYXJzZXI6IHBhcnNlIGVycm9yIGF0IG9yIG5lYXIpL2ksIGNvbmRpdGlvbiA6IHRydWV9KSwNCgkJDQoJCW5ldyBBcnJheSh7cmVnZXggOiAvKE9SQS1cZHs0LDV9OlxzKS8sIGNvbmRpdGlvbiA6IHRydWV9KSwNCgkJDQoJCW5ldyBBcnJheSh7cmVnZXggOiAvKGphdmEubGFuZy5OdW1iZXJGb3JtYXRFeGNlcHRpb246IEZvciBpbnB1dCBzdHJpbmc6KS8sIGNvbmRpdGlvbiA6IHRydWV9KSwNCgkJbmV3IEFycmF5KHtyZWdleCA6IC8oXCk6IGVuY291bnRlcmVkIFNRTEV4Y2VwdGlvbiBcWykvLCBjb25kaXRpb24gOiB0cnVlfSksDQoJCW5ldyBBcnJheSh7cmVnZXggOiAvVW5leHBlY3RlZCBlbmQgb2YgY29tbWFuZCBpbiBzdGF0ZW1lbnQgXFsvLCBjb25kaXRpb24gOiB0cnVlfSksDQoJCQ0KCQluZXcgQXJyYXkoe3JlZ2V4IDogLyhNaWNyb3NvZnRcc0pFVFxzRGF0YWJhc2Vcc0VuZ2luZVxzXChbXlwpXSpcKTxicj5TeW50YXhcc2Vycm9yKC4qKVxzaW5cc3F1ZXJ5XHNleHByZXNzaW9uXHMnLipcLjxicj48Yj4uKixcc2xpbmVcc1xkKzxcL2I+PGJyPikvLCBjb25kaXRpb24gOiB0cnVlfSksDQoJCW5ldyBBcnJheSh7cmVnZXggOiAvKDxoMj5cczxpPlN5bnRheFxzZXJyb3JccyhcKFteXCldKlwpKT8oaW5cc3N0cmluZyk/XHNpblxzcXVlcnlcc2V4cHJlc3Npb25ccydbXlwuXSpcLjxcL2k+XHM8XC9oMj48XC9zcGFuPikvLCBjb25kaXRpb24gOiB0cnVlfSksDQoJCW5ldyBBcnJheSh7cmVnZXggOiAvKDxmb250XHNmYWNlPVwiQXJpYWxcIlxzc2l6ZT0yPlN5bnRheFxzZXJyb3JccyguKik/aW5cc3F1ZXJ5XHNleHByZXNzaW9uXHMnKC4qKVwuPFwvZm9udD4pLywgY29uZGl0aW9uIDogdHJ1ZX0pLA0KCQluZXcgQXJyYXkoe3JlZ2V4IDogLyg8Yj5XYXJuaW5nPFwvYj46XHNcc3BnX2V4ZWNcKFwpXHNcW1w8YVxzaHJlZj0nZnVuY3Rpb24ucGdcLWV4ZWNcJ1w+ZnVuY3Rpb25cLnBnLWV4ZWNcPFwvYT5cXVw6XHNRdWVyeSBmYWlsZWQ6XHNFUlJPUjpcc1xzc3ludGF4IGVycm9yIGF0IG9yIG5lYXIgXCZxdW90XDtcXFwmcXVvdDsgYXQgY2hhcmFjdGVyIFxkKyBpblxzPGI+Lio8XC9iPikvLCBjb25kaXRpb24gOiB0cnVlfSksDQoJCW5ldyBBcnJheSh7cmVnZXggOiAvKFN5c3RlbVwuRGF0YVwuT2xlRGJcLk9sZURiRXhjZXB0aW9uXDpcc1N5bnRheFxzZXJyb3Jcc1woW14pXSo/XClcc2luXHNxdWVyeVxzZXhwcmVzc2lvblxzLiopLywgY29uZGl0aW9uIDogdHJ1ZX0pLA0KCQluZXcgQXJyYXkoe3JlZ2V4IDogLyhTeXN0ZW1cLkRhdGFcLk9sZURiXC5PbGVEYkV4Y2VwdGlvblw6XHNTeW50YXhcc2Vycm9yXHNpblxzc3RyaW5nXHNpblxzcXVlcnlcc2V4cHJlc3Npb25ccykvLCBjb25kaXRpb24gOiB0cnVlfSksDQoJCW5ldyBBcnJheSh7cmVnZXggOiAvKERhdGEgdHlwZSBtaXNtYXRjaCBpbiBjcml0ZXJpYSBleHByZXNzaW9ufENvdWxkIG5vdCB1cGRhdGU7IGN1cnJlbnRseSBsb2NrZWQgYnkgdXNlciAnLio/JyBvbiBtYWNoaW5lICcuKj8nKS8sIGNvbmRpdGlvbiA6IHRydWV9KSwNCgkJbmV3IEFycmF5KHtyZWdleCA6IC8oPGZvbnQgc3R5bGU9IkNPTE9SOiBibGFjazsgRk9OVDogOHB0XC8xMXB0IHZlcmRhbmEiPlxzKyhcW01hY3JvbWVkaWFcXVxbU1FMU2VydmVyXHNKREJDXHNEcml2ZXJcXVxbU1FMU2VydmVyXF18U3ludGF4XHNlcnJvclxzaW5cc3N0cmluZ1xzaW5cc3F1ZXJ5XHNleHByZXNzaW9uXHMpKS8sIGNvbmRpdGlvbiA6IHRydWV9KSwNCgkJbmV3IEFycmF5KHtyZWdleCA6IC8oVW5jbG9zZWRcc3F1b3RhdGlvblxzbWFya1xzYWZ0ZXJcc3RoZVxzY2hhcmFjdGVyXHNzdHJpbmdccydbXiddKicpLywgY29uZGl0aW9uIDogdHJ1ZX0pLA0KCQluZXcgQXJyYXkoe3JlZ2V4IDogLyg8Yj5XYXJuaW5nPFwvYj46XHMrKD86bXlzcWxfZmV0Y2hfYXJyYXl8bXlzcWxfZmV0Y2hfcm93fG15c3FsX2ZldGNoX29iamVjdHxteXNxbF9mZXRjaF9maWVsZHxteXNxbF9mZXRjaF9sZW5ndGhzfG15c3FsX251bV9yb3dzKVwoXCk6IHN1cHBsaWVkIGFyZ3VtZW50IGlzIG5vdCBhIHZhbGlkIE15U1FMIHJlc3VsdCByZXNvdXJjZSBpbiA8Yj4uKj88XC9iPiBvbiBsaW5lIDxiPi4qPzxcL2I+KS8sIGNvbmRpdGlvbiA6IHRydWV9KQ0KCSk7DQoJCQkJICANCglmb3IoIHZhciBpID0gMDsgaSA8IGFycmF5U1FMSW5qZWN0aW9uVGVzdENvbmRpdGlvbnMubGVuZ3RoOyBpKyspDQoJew0KCQl2YXIgYm9vbEJvbmRpdGlvbiA9IHRydWU7DQoJCWZvcih2YXIgaiA9IDA7IGogPCBhcnJheVNRTEluamVjdGlvblRlc3RDb25kaXRpb25zW2ldLmxlbmd0aDsgaisrKQ0KCQl7DQoJCQl2YXIgbWF0Y2ggPSAoYXJyYXlTUUxJbmplY3Rpb25UZXN0Q29uZGl0aW9uc1tpXVtqXS5yZWdleC5leGVjKHN0cklucHV0VGV4dCkgIT0gbnVsbCk7DQoJCQlpZihtYXRjaCAhPSBhcnJheVNRTEluamVjdGlvblRlc3RDb25kaXRpb25zW2ldW2pdLmNvbmRpdGlvbikNCgkJCXsNCgkJCQlib29sQm9uZGl0aW9uID0gZmFsc2U7DQoJCQkJYnJlYWs7DQoJCQl9DQoJCX0NCgkJDQoJCWlmIChib29sQm9uZGl0aW9uKQ0KCQl7DQoJCQlpZiAoYm9vbEp1c3RSZXR1cm5PbkZpcnN0RXJyb3IpDQoJCQkJcmV0dXJuKHRydWUpOw0KCQkJcmV0dmFsLnB1c2goaSk7DQoJCX0NCgl9DQoJaWYgKGJvb2xKdXN0UmV0dXJuT25GaXJzdEVycm9yKQ0KCQlyZXR1cm4oZmFsc2UpOw0KCWVsc2UNCgkJcmV0dXJuKHJldHZhbCk7DQp9DQoNCnNxbEluamVjdGlvblRlc3Rlci5kb1Rlc3QgPSBmdW5jdGlvbihvYmpDYWxsZXJDbGFzcykNCnsNCgl0aGlzLm9iakNhbGxlckNsYXNzCQk9IG9iakNhbGxlckNsYXNzOw0KCQ0KCS8vaW5qZWN0ZWQgdmFsdWVzCQkJCSAgDQoJdGhpcy5hcnJheVNRTEluamVjdGlvblRlc3RWYWx1ZXMgPSBuZXcgQXJyYXkNCgkoDQoJCSInIiwJCQkvL3NpbmdsZSBxdW90ZQ0KCQkiJTI1MjciLAkJLy9kb3VibGUgZW5jb2RlZA0KCQkiJTAwJyIsCQkJLy9RdW90ZSBwcmVjZWRlZCBieSB6ZXJvIGNoYXJhY3Rlcg0KCQkiYWN1bmV0aXgnXCIiLAkvL1NpbmdsZSBhbmQgZG91YmxlIGNvbWJpbmVkDQoJCSJcXCciLAkJCS8vRXNjYXBlIGJhY2tzbGFzaA0KCQkiXFxcIiIsCQkJLy9Fc2NhcGUgYmFja3NsYXNoIHdpdGggZG91YmxlIHF1b3RlDQoJCSJKeUklM0QiLAkJLy9CYXNlNjQgZW5jb2RlZA0KCQkiMC4wMDEiCQkJLy9mbG9hdCAtPiBMSU1JVA0KCSkNCgkNCgl0aGlzLm9ialRhc2tSZXN1bHQgPSBvYmpDYWxsZXJDbGFzcy5vYmpUYXNrUmVzdWx0Ow0KCQkNCgkvL3RoZSB0YXNjayBjYWxiYWNrIGNsYXNzIHdpdGggbm90aWZ5IGZ1bmN0aW9uIGZvciBiZSB1c2VkIHdpdGggdGltZXIgY2FsbA0KCXRoaXMuZm5jVGFza0NhbGxCYWNrID0NCgl7DQoJCWludFN0ZXAJCQkJOiAwLA0KCQlib29sUmVxdWVzdFBoYXNlCTogdHJ1ZSwNCgkJc3RyVGVzdFN0cmluZwkJOiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMTM0NTY3MCksDQoJCQkNCgkJbm90aWZ5IAk6IGZ1bmN0aW9uKHRpbWVyKQ0KCQl7DQoJCQl0aGlzLmRvVGVzdCgpOw0KCQl9LA0KCQkNCgkJZG9UZXN0IDogZnVuY3Rpb24oKQ0KCQl7DQoJCQlpZih0aGlzLnBhcmVudC5vYmpDYWxsZXJDbGFzcy5ib29sVGVzdGVyTWFya2VkVG9EaWUpDQoJCQl7DQoJCQkJbG9nVG9GaWxlKCI9PiBzcWxJbmplY3Rpb25UZXN0ZXIgPT4gZG9UZXN0OiB1c2VyQWJvcnRSZXF1ZXN0IGRldGVjdGVkIChib29sQWJvcnRTY2FuID0gdHJ1ZSkiKTsNCgkJCQlyZXR1cm4gOw0KCQkJfQ0KCQkJDQoJCQlpZih0aGlzLmJvb2xSZXF1ZXN0UGhhc2UpDQoJCQl7DQoJCQkJdGhpcy5ib29sUmVxdWVzdFBoYXNlID0gZmFsc2U7DQoJCQkJdGhpcy5wYXJlbnQuZG9SZXF1ZXN0SnNvbigNCgkJCQkJew0KCQkJCQkJb2JqQ2FsbGVyQ2xhc3MgCQkJCTogdGhpcy5wYXJlbnQsDQoJCQkJCQlzdHJUZXN0U3RyaW5nCQkJCTogdGhpcy5wYXJlbnQuYXJyYXlTUUxJbmplY3Rpb25UZXN0VmFsdWVzW3RoaXMuaW50U3RlcF0sDQoJCQkJCQkvL2FycmF5QWNjZXB0ZWRDb250ZW50VHlwZXMgCTogbmV3IEFycmF5KCJ0ZXh0L2h0bWwiLCJ0ZXh0L3htbCIsImFwcGxpY2F0aW9uL3hodG1sK3htbCIpLA0KCQkJCQkJYm9vbERlbGV0ZU9yaWdpbmFsQ29va2llCTogdHJ1ZSwNCgkJCQkJCWJvb2xEZWxldGVPcmlnaW5hbEhlYWRlcnMJOiBmYWxzZSwNCgkJCQkJCWludEVzY2FwZU1ldGhvZAkJCQk6IDANCgkJCQkJfSk7DQoJCQkJcmV0dXJuOw0KCQkJfQ0KCQkJZWxzZQ0KCQkJew0KCQkJCUxvZ0hUVFBUb0ZpbGUodGhpcy5wYXJlbnQub2JqVGFza1Jlc3VsdCwgZmFsc2UpOw0KCQkJCQ0KCQkJCWlmKHRoaXMucGFyZW50Lm9ialRhc2tSZXN1bHQuaW50RXJyb3JDb2RlID09IDApDQoJCQkJew0KCQkJCQlpZihzZWFyY2hGb3JLbm93blNRTEVycm9ycyh0aGlzLnBhcmVudC5vYmpUYXNrUmVzdWx0LnN0clJlc3BvbnNlVGV4dCx0cnVlKSkNCgkJCQkJew0KCQkJCQkJdGhpcy5wYXJlbnQuZm5jRXhpdFRlc3QodHJ1ZSwgIlNRTCBJbmplY3Rpb24gKGVycm9yIGNvZGVzIHRlc3QpIik7DQoJCQkJCQlyZXR1cm47DQoJCQkJCX0NCgkJCQl9DQoJCQkJDQoJCQkJdGhpcy5ib29sUmVxdWVzdFBoYXNlID0gdHJ1ZTsNCgkJCQl0aGlzLmludFN0ZXAgKys7DQoJCQkJaWYodGhpcy5pbnRTdGVwID49IHRoaXMucGFyZW50LmFycmF5U1FMSW5qZWN0aW9uVGVzdFZhbHVlcy5sZW5ndGgpDQoJCQkJew0KCQkJCQl0aGlzLnBhcmVudC5mbmNFeGl0VGVzdChmYWxzZSk7DQoJCQkJCXJldHVybjsNCgkJCQl9DQoJCQkJLy9yZXRyaWdnZXIgdGhlIHRlc3QgcHJvY2VkdXJlDQoJCQkJdGhpcy5kb1Rlc3QoKTsNCgkJCQlyZXR1cm47DQoJCQl9DQoJCX0NCgl9DQoJDQoJLy93ZSBoYXZlIHRvIHNwZWNpZnkgZm5jVGFza0NhbGxCYWNrIHBhcnJlbnQgc2luY2UgaXQgd2lsbCBiZSBjYWxsZWQgZnJvbSBvdGhlciBzY29wZQ0KCXRoaXMuZm5jVGFza0NhbGxCYWNrLnBhcmVudAk9IHRoaXM7DQoJDQoJLy9pbml0aWFsaXplIHRoZSB0ZXN0IHByb2NlZHVyZQ0KCXRoaXMuZm5jVGFza0NhbGxCYWNrLmRvVGVzdCgpOw0KCQ0KfQ0KDQovL3JlZ2lzdGVyIHRoZSB0ZXN0ZXIgb2JqZWN0DQpzcWxJbmplY3Rpb25UZXN0ZXIucmVnaXN0ZXIoKTsNCg==')); ]]></script>
<script><![CDATA[ eval(atob('LyoNCkF1dGhvcjoJCUF0dGlsYSBHZXJlbmRpDQpQdXJwb3NlOglCbGluZCBTUUwgaW5qZWN0aW9uIHRlc3Rlcg0KKi8NCg0KdmFyIGJzcWxJbmplY3Rpb25UZXN0ZXIJCQkJCT0gbmV3IGNsYXNzR2VuZXJpY1Rlc3RlcigpOw0KYnNxbEluamVjdGlvblRlc3Rlci5zdHJYVUxNZW51SWQJCT0gImFjdW5ldGl4X3Rlc3R0eXBlX2JTUUxJbmplY3Rpb24iOw0KYnNxbEluamVjdGlvblRlc3Rlci5zdHJYVUxNZW51VGV4dAkJPSAiU1FMIEluamVjdGlvbiAoYmxpbmQgdGVzdCkiOw0KYnNxbEluamVjdGlvblRlc3Rlci5zdHJYVUxNZW51SGludAkJPSAiU2NhbiBmb3IgU1FMIEluamVjdGlvbiBWdWxuZXJhYmlsaXRpZXMiOw0KYnNxbEluamVjdGlvblRlc3Rlci5zdHJYVUxNZW51QWNjZXNza2V5CT0gIkIiOw0KYnNxbEluamVjdGlvblRlc3Rlci5zdHJUeXBlCQkJCT0gIlNRTCBJbmplY3Rpb24iOw0KYnNxbEluamVjdGlvblRlc3Rlci5zdHJUZXN0TmFtZQkJCT0gIlNRTCBJbmplY3Rpb24gKGJsaW5kIHRlc3QpIjsNCmJzcWxJbmplY3Rpb25UZXN0ZXIuc2V2ZXJpdHkJCQk9ICJIaWdoIjsNCmJzcWxJbmplY3Rpb25UZXN0ZXIuc3RyRGVzY3JpcHRpb24JCT0gImh0dHA6Ly93d3cuYWN1bmV0aXguY29tL3dlYnNpdGVzZWN1cml0eS9zcWwtaW5qZWN0aW9uLmh0bSI7DQpic3FsSW5qZWN0aW9uVGVzdGVyLnd2c0NvcmVsYXRpb25JRAkJPSAiQmxpbmRfU1FMX2luamVjdGlvbl8obnVtYmVyKS54bWwiOw0KYnNxbEluamVjdGlvblRlc3Rlci5lbmFibGVkCQkJCT0gZmFsc2U7DQovKklNUExFTUVOVEFUSU9OKi8NCmJzcWxJbmplY3Rpb25UZXN0ZXIuZW5hYmxlZAkJCQk9IHRydWU7DQoNCmZ1bmN0aW9uIGNvbXBhcmVIVE1MU3RydWN0dXJlcyhzdHJIVE1MMSxzdHJIVE1MMixhcnJheUV4Y2x1ZGVSZWdleCkNCnsNCglsb2dUb0ZpbGUoImNvbXBhcmVIVE1MU3RydWN0dXJlcyA9PiAiICsgYXJyYXlFeGNsdWRlUmVnZXgpOw0KCWZvcih2YXIgaSA9IDA7IGkgPCBhcnJheUV4Y2x1ZGVSZWdleC5sZW5ndGg7IGkrKykNCgl7DQoJCXJlZ2V4cCA9IG5ldyBSZWdFeHAoJygnICsgYXJyYXlFeGNsdWRlUmVnZXhbaV0gKyAnKScsImlnIik7DQoJCXN0ckhUTUwxID0gc3RySFRNTDEucmVwbGFjZSggcmVnZXhwLCAiIik7DQoJCXN0ckhUTUwyID0gc3RySFRNTDIucmVwbGFjZSggcmVnZXhwLCAiIik7DQoJfQ0KCWxvZ1RvRmlsZShzdHJIVE1MMik7DQoJcmV0dXJuKHN0ckhUTUwxID09IHN0ckhUTUwyKTsNCn0NCg0KYnNxbEluamVjdGlvblRlc3Rlci5kb1Rlc3QgPSBmdW5jdGlvbihvYmpDYWxsZXJDbGFzcykNCnsNCgl0aGlzLm9iakNhbGxlckNsYXNzCQk9IG9iakNhbGxlckNsYXNzOw0KCXRoaXMub2JqVGFza1Jlc3VsdCAJCT0gb2JqQ2FsbGVyQ2xhc3Mub2JqVGFza1Jlc3VsdDsNCgkNCgkvL2luamVjdGVkIHZhbHVlcwkJCQkgIA0KCXRoaXMuYXJyYXlCbGluZEluamVjdGlvblRlc3QgPSBuZXcgQXJyYXkNCgkoDQoJCQluZXcgQXJyYXkoDQoJCQkJCSAge3NxbCA6ICIke29yaWd2YWx1ZX0ifSwNCgkJCQkJICB7c3FsIDogIiR7b3JpZ3ZhbHVlfSthbmQrMSUzRDEiLCBjb25kIDogdHJ1ZSwgcmVsYXRpdmUgOiAwfSwNCgkJCQkJICB7c3FsIDogIiR7b3JpZ3ZhbHVlfSthbmQrMSUzRDAiLCBjb25kIDogZmFsc2UsIHJlbGF0aXZlIDogMH0NCgkJCQkJICApLA0KCQkJbmV3IEFycmF5KA0KCQkJCQkgIHtzcWwgOiAiJHtvcmlndmFsdWV9In0sDQoJCQkJCSAge3NxbCA6ICIke29yaWd2YWx1ZX0rb3IrMSUzRDEiLCBjb25kIDogZmFsc2UsIHJlbGF0aXZlIDogMH0sDQoJCQkJCSAge3NxbCA6ICIke29yaWd2YWx1ZX0rb3IrMSUzRDAiLCBjb25kIDogdHJ1ZSwgcmVsYXRpdmUgOiAwfQ0KCQkJCQkgICksDQoJCQluZXcgQXJyYXkoDQoJCQkJCSAge3NxbCA6ICIke29yaWd2YWx1ZX0ifSwNCgkJCQkJICB7c3FsIDogIiR7b3JpZ3ZhbHVlfScrYW5kKycxJyUzRCcxIiwgY29uZCA6IHRydWUsIHJlbGF0aXZlIDogMH0sDQoJCQkJCSAge3NxbCA6ICIke29yaWd2YWx1ZX0nK2FuZCsnMSclM0QnMCIsIGNvbmQgOiBmYWxzZSwgcmVsYXRpdmUgOiAwfQ0KCQkJCQkgICksDQoJCQluZXcgQXJyYXkoDQoJCQkJCSAge3NxbCA6ICIke29yaWd2YWx1ZX0ifSwNCgkJCQkJICB7c3FsIDogIiR7b3JpZ3ZhbHVlfVwiK2FuZCtcIjFcIiUzRFwiMSIsIGNvbmQgOiB0cnVlLCByZWxhdGl2ZSA6IDB9LA0KCQkJCQkgIHtzcWwgOiAiJHtvcmlndmFsdWV9XCIrYW5kK1wiMVwiJTNEXCIwIiwgY29uZCA6IGZhbHNlLCByZWxhdGl2ZSA6IDB9DQoJCQkJCSAgKSwNCgkJCW5ldyBBcnJheSgNCgkJCQkJICB7c3FsIDogIjI5ODkrYW5kKzElM0QwKy0tKyJ9LA0KCQkJCQkgIHtzcWwgOiAiMjk4OSthbmQrMSUzRDErLS0rIiwgY29uZCA6IHRydWUsIHJlbGF0aXZlIDogMH0sDQoJCQkJCSAge3NxbCA6ICIyOTg5K29yKzElM0QwKy0tKyIsIGNvbmQgOiB0cnVlLCByZWxhdGl2ZSA6IDB9LA0KCQkJCQkgIHtzcWwgOiAiMjk4OStvcisxJTNEMSstLSsiLCBjb25kIDogZmFsc2UsIHJlbGF0aXZlIDogMH0NCgkJCQkJICApLA0KCQkJbmV3IEFycmF5KA0KCQkJCQkgIHtzcWwgOiAiJythbmQrMSUzRDArLS0rIiwgY29uZCA6IHRydWV9LA0KCQkJCQkgIHtzcWwgOiAiJythbmQrMSUzRDErLS0rIiwgY29uZCA6IHRydWUsIHJlbGF0aXZlIDogMH0sDQoJCQkJCSAge3NxbCA6ICInK29yKzElM0QwKy0tKyIsIGNvbmQgOiB0cnVlLCByZWxhdGl2ZSA6IDB9LA0KCQkJCQkgIHtzcWwgOiAiJytvcisxJTNEMSstLSsiLCBjb25kIDogZmFsc2UsIHJlbGF0aXZlIDogMH0NCgkJCQkJICApLA0KCQkJbmV3IEFycmF5KA0KCQkJCQkgIHtzcWwgOiAiXCIrYW5kKzElM0QwKy0tKyJ9LA0KCQkJCQkgIHtzcWwgOiAiXCIrYW5kKzElM0QxKy0tKyIsIGNvbmQgOiB0cnVlLCByZWxhdGl2ZSA6IDB9LA0KCQkJCQkgIHtzcWwgOiAiXCIrb3IrMSUzRDArLS0rIiwgY29uZCA6IHRydWUsIHJlbGF0aXZlIDogMH0sDQoJCQkJCSAge3NxbCA6ICJcIitvcisxJTNEMSstLSsiLCBjb25kIDogZmFsc2UsIHJlbGF0aXZlIDogMH0NCgkJCQkJICApLA0KCQkJbmV3IEFycmF5KA0KCQkJCQkgIHtzcWwgOiAiJHtvcmlndmFsdWV9In0sDQoJCQkJCSAge3NxbCA6ICIke29yaWd2YWx1ZX0lMkIzMTMzNyUyRDMxMzM3IiwgY29uZCA6IHRydWUsIHJlbGF0aXZlIDogMH0sDQoJCQkJCSAge3NxbCA6ICIke29yaWd2YWx1ZX0lMkIzMTMzNyIsIGNvbmQgOiBmYWxzZSwgcmVsYXRpdmUgOiAwfSwNCgkJCQkJICB7c3FsIDogIiR7b3JpZ3ZhbHVlfSUyQjMxMzM3JTJCMzEzMzciLCBjb25kIDogZmFsc2UsIHJlbGF0aXZlIDogMH0NCgkJCQkJICApLA0KCQkJbmV3IEFycmF5KA0KCQkJCQkgIHtzcWwgOiAiJHtvcmlndmFsdWV9In0sDQoJCQkJCSAge3NxbCA6ICIke29yaWd2YWx1ZX0nJTJCbG93ZXIoJycpJTJCdXBwZXIoJycpJTJCJyIsIGNvbmQgOiB0cnVlLCByZWxhdGl2ZSA6IDB9LA0KCQkJCQkgIHtzcWwgOiAiJHtvcmlndmFsdWV9JyUyQidBQ1VvbmVBQ1UiLCBjb25kIDogZmFsc2UsIHJlbGF0aXZlIDogMH0sDQoJCQkJCSAge3NxbCA6ICIke29yaWd2YWx1ZX0nJTJCJ0FDVXR3b0FDVSIsIGNvbmQgOiBmYWxzZSwgcmVsYXRpdmUgOiAwfQ0KCQkJCQkgICksDQoJCQluZXcgQXJyYXkoDQoJCQkJCSAge3NxbCA6ICIke29yaWd2YWx1ZX0ifSwNCgkJCQkJICB7c3FsIDogIiR7b3JpZ3ZhbHVlfScrJTdDJTdDKyciLCBjb25kIDogdHJ1ZSwgcmVsYXRpdmUgOiAwfSwNCgkJCQkJICB7c3FsIDogIiR7b3JpZ3ZhbHVlfScrJTdDJTdDKydBQ1VvbmVBQ1UiLCBjb25kIDogZmFsc2UsIHJlbGF0aXZlIDogMH0sDQoJCQkJCSAge3NxbCA6ICIke29yaWd2YWx1ZX0nKyU3QyU3QysnQUNVdHdvQUNVIiwgY29uZCA6IGZhbHNlLCByZWxhdGl2ZSA6IDB9DQoJCQkJCSAgKQ0KCSk7DQoJDQoJLy9hY2NlcHRlZCBjb250ZW50IHR5cGVzDQoJdGhpcy5hcnJheUFjY2VwdGVkQ29udGVudFR5cGVzID0gbmV3IEFycmF5KCJ0ZXh0L2h0bWwiLCJ0ZXh0L3htbCIsImFwcGxpY2F0aW9uL3hodG1sK3htbCIpOw0KCQ0KCWFycmF5UmVzcG9uc2VCdWZmZXIgPSBuZXcgQXJyYXkoKTsNCgkNCgl0aGlzLmZuY1Rhc2tDYWxsQmFjayA9DQoJew0KCQlib29sUmVxdWVzdFBoYXNlCTogdHJ1ZSwNCgkJaW50VGVzdFN0ZXAJCQk6IDAsDQoJCWludFN0ZXAJCQkJOiAwLA0KCQkNCgkJbm90aWZ5IAk6IGZ1bmN0aW9uKHRpbWVyKQ0KCQl7DQoJCQl0aGlzLmRvVGVzdCgpOw0KCQl9LA0KCQkNCgkJZG9UZXN0IDogZnVuY3Rpb24oKQ0KCQl7DQoJCQlpZih0aGlzLmJvb2xSZXF1ZXN0UGhhc2UpDQoJCQl7DQoJCQkJaWYoIHRoaXMuaW50U3RlcCA9PSAwKQ0KCQkJCQlhcnJheVJlc3BvbnNlQnVmZmVyID0gbmV3IEFycmF5KCk7DQoJCQkJDQoJCQkJdmFyIHN0cm9yaWdpbmFsVmFsdWUgPSB0aGlzLnBhcmVudC5nZXRPcmlnaW5hbFZhbHVlT2ZUZXN0ZWRJdGVtKHRoaXMucGFyZW50KTsNCgkJCQl2YXIgc3RySW5qZWN0aW9uID0gdGhpcy5wYXJlbnQuYXJyYXlCbGluZEluamVjdGlvblRlc3RbdGhpcy5pbnRUZXN0U3RlcF1bdGhpcy5pbnRTdGVwXS5zcWw7DQoJCQkJc3RySW5qZWN0aW9uID0gc3RySW5qZWN0aW9uLnJlcGxhY2UoIiR7b3JpZ3ZhbHVlfSIsZXNjYXBlKHN0cm9yaWdpbmFsVmFsdWUpKTsNCgkJCQkNCgkJCQl0aGlzLmJvb2xSZXF1ZXN0UGhhc2UgPSBmYWxzZTsNCgkJCQkNCgkJCQl0aGlzLnBhcmVudC5kb1JlcXVlc3RKc29uKA0KCQkJCQl7DQoJCQkJCQlvYmpDYWxsZXJDbGFzcyAJCQkJOiB0aGlzLnBhcmVudCwNCgkJCQkJCXN0clRlc3RTdHJpbmcJCQkJOiBzdHJJbmplY3Rpb24sDQoJCQkJCQkvL2FycmF5QWNjZXB0ZWRDb250ZW50VHlwZXMgCTogbmV3IEFycmF5KCJ0ZXh0L2h0bWwiLCJ0ZXh0L3htbCIsImFwcGxpY2F0aW9uL3hodG1sK3htbCIpLA0KCQkJCQkJYm9vbERlbGV0ZU9yaWdpbmFsQ29va2llCTogdHJ1ZSwNCgkJCQkJCWJvb2xEZWxldGVPcmlnaW5hbEhlYWRlcnMJOiBmYWxzZSwNCgkJCQkJCWludEVzY2FwZU1ldGhvZAkJCQk6IDANCgkJCQkJfSk7DQoJCQkJcmV0dXJuOw0KDQoJCQl9DQoJCQllbHNlDQoJCQl7DQoJCQkJTG9nSFRUUFRvRmlsZSh0aGlzLnBhcmVudC5vYmpUYXNrUmVzdWx0LCBmYWxzZSk7DQoJCQkJDQoJCQkJaWYgKHRoaXMucGFyZW50Lm9ialRhc2tSZXN1bHQuaW50RXJyb3JDb2RlIDwgMCkgLy9lcnJvciBpbiByZXF1ZXN0DQoJCQkJew0KCQkJCQl0aGlzLnBhcmVudC5mbmNFeGl0VGVzdChmYWxzZSk7DQoJCQkJCXJldHVybjsNCgkJCQl9DQoJCQkJDQoJCQkJYXJyYXlSZXNwb25zZUJ1ZmZlclt0aGlzLmludFN0ZXBdID0gdGhpcy5wYXJlbnQub2JqVGFza1Jlc3VsdC5zdHJSZXNwb25zZVRleHQ7DQoJCQkJCQ0KCQkJCXRoaXMuaW50U3RlcCArKzsNCgkJCQkNCgkJCQlpZih0aGlzLmludFN0ZXAgPj0gdGhpcy5wYXJlbnQuYXJyYXlCbGluZEluamVjdGlvblRlc3RbdGhpcy5pbnRUZXN0U3RlcF0ubGVuZ3RoKQ0KCQkJCXsNCgkJCQkJdmFyIGJvb2xWdWxuZXJhYmxlID0gdHJ1ZTsNCgkJCQkJDQoJCQkJCWZvcih2YXIgaSA9IDA7IGkgPCB0aGlzLnBhcmVudC5hcnJheUJsaW5kSW5qZWN0aW9uVGVzdFt0aGlzLmludFRlc3RTdGVwXS5sZW5ndGg7IGkrKykNCgkJCQkJew0KCQkJCQkJaWYoaSA9PSAwKQ0KCQkJCQkJCWNvbnRpbnVlOw0KCQkJCQkJDQoJCQkJCQl2YXIgc3RySW5qMSA9ICBuZXcgU3RyaW5nKCk7DQoJCQkJCQl2YXIgc3RySW5qMiA9ICBuZXcgU3RyaW5nKCk7DQoJCQkJCQlzdHJJbmoxID0gdGhpcy5wYXJlbnQuYXJyYXlCbGluZEluamVjdGlvblRlc3RbdGhpcy5pbnRUZXN0U3RlcF1bdGhpcy5wYXJlbnQuYXJyYXlCbGluZEluamVjdGlvblRlc3RbdGhpcy5pbnRUZXN0U3RlcF1baV0ucmVsYXRpdmVdLnNxbDsNCgkJCQkJCXN0ckluajEgPSBzdHJJbmoxLnJlcGxhY2UoIiR7b3JpZ3ZhbHVlfSIsIiIpOw0KCQkJCQkJDQoJCQkJCQlzdHJJbmoyID0gdGhpcy5wYXJlbnQuYXJyYXlCbGluZEluamVjdGlvblRlc3RbdGhpcy5pbnRUZXN0U3RlcF1baV0uc3FsOw0KCQkJCQkJc3RySW5qMiA9IHN0ckluajIucmVwbGFjZSgiJHtvcmlndmFsdWV9IiwiIik7DQoJCQkJCQkNCgkJCQkJCXZhciBhcnJheUV4Y2x1ZGVSZWdleCA9IG5ldyBBcnJheSgpOw0KCQkJCQkJDQoJCQkJCQlhcnJheUV4Y2x1ZGVSZWdleC5wdXNoKCIoWzAtMV0/WzAtOV18WzJdWzAtM10pOihbMC01XVswLTldKVsufDpdKFswLTldWzAtOV0pIik7DQoJCQkJCQlhcnJheUV4Y2x1ZGVSZWdleC5wdXNoKCI8aW5wdXRccyt0eXBlPVwiaGlkZGVuXCJccytuYW1lPVwiKF9fVklFV1NUQVRFfF9fRVZFTlRBUkdVTUVOVHxfX0VWRU5UVEFSR0VUKVwiXHMrdmFsdWU9XCJbXj5dKj4iKTsNCgkJCQkJCQ0KCQkJCQkJZnVuY3Rpb24gY3JlYXRlUmVnRXhwTGlzdEZyb21Bcmd1bWVudENvbWJpbmF0aW9ucyhhcnJheUV4Y2x1ZGVSZWdleCxzdHJBcmcpDQoJCQkJCQl7DQoJCQkJCQkJaWYoc3RyQXJnID09ICIiKQ0KCQkJCQkJCQlyZXR1cm47DQoJCQkJCQkJDQoJCQkJCQkJZnVuY3Rpb24gYXBwZW5kVmFsdWUoYXJyYXljLHN0clZhbHVlKQ0KCQkJCQkJCXsNCgkJCQkJCQkJaWYoc3RyVmFsdWUgPT0gIiIpDQoJCQkJCQkJCQlyZXR1cm47DQoJCQkJCQkJCWZvcih2YXIgaSA9IDA7IGkgPCBhcnJheWMubGVuZ3RoOyBpKyspDQoJCQkJCQkJCQlpZihhcnJheWNbaV0gPT0gc3RyVmFsdWUpDQoJCQkJCQkJCQkJcmV0dXJuOw0KCQkJCQkJCQlhcnJheWMucHVzaChzdHJWYWx1ZSk7DQoJCQkJCQkJfQ0KCQ0KCQkJCQkJCWFwcGVuZFZhbHVlKGFycmF5RXhjbHVkZVJlZ2V4LHN0ckFyZy5yZWdleEVzY2FwZSgpKTsNCgkJCQkJCQlhcHBlbmRWYWx1ZShhcnJheUV4Y2x1ZGVSZWdleCx1bmVzY2FwZShzdHJBcmcpLnJlZ2V4RXNjYXBlKCkpOw0KCQkJCQkJCWFwcGVuZFZhbHVlKGFycmF5RXhjbHVkZVJlZ2V4LGVzY2FwZShzdHJBcmcpLnJlZ2V4RXNjYXBlKCkpOw0KCQkJCQkJCQ0KCQkJCQkJCXN0ckFyZyA9IHVuZXNjYXBlKHN0ckFyZyk7DQoJCQkJCQkJc3RyQXJnID0gc3RyQXJnLnJlcGxhY2UoL1wrL2csIiAiKTsNCgkJCQkJCQlzdHJBcmcgPSBzdHJBcmcucmVwbGFjZSgvJTIwL2csIiAiKTsNCgkJCQkJCQkNCgkJCQkJCQlhcHBlbmRWYWx1ZShhcnJheUV4Y2x1ZGVSZWdleCxzdHJBcmcucmVnZXhFc2NhcGUoKSk7CQkJCQkJCQ0KCQkJCQkJCWFwcGVuZFZhbHVlKGFycmF5RXhjbHVkZVJlZ2V4LHN0ckFyZy5yZXBsYWNlKC9ccy9nLCIrIikucmVnZXhFc2NhcGUoKSk7DQoJCQkJCQkJYXBwZW5kVmFsdWUoYXJyYXlFeGNsdWRlUmVnZXgsc3RyQXJnLnJlcGxhY2UoL1xzL2csIiUyMCIpLnJlZ2V4RXNjYXBlKCkpOw0KCQkJCQkJCQ0KCQkJCQkJCWFwcGVuZFZhbHVlKGFycmF5RXhjbHVkZVJlZ2V4LGVzY2FwZShzdHJBcmcpLnJlZ2V4RXNjYXBlKCkpOwkJCQkJCQkNCgkJCQkJCQlhcHBlbmRWYWx1ZShhcnJheUV4Y2x1ZGVSZWdleCxlc2NhcGUoc3RyQXJnLnJlcGxhY2UoL1xzL2csIisiKSkucmVnZXhFc2NhcGUoKSk7DQoJCQkJCQkJYXBwZW5kVmFsdWUoYXJyYXlFeGNsdWRlUmVnZXgsZXNjYXBlKHN0ckFyZy5yZXBsYWNlKC9ccy9nLCIlMjAiKSkucmVnZXhFc2NhcGUoKSk7DQoJCQkJCQkJDQoJCQkJCQkJYXBwZW5kVmFsdWUoYXJyYXlFeGNsdWRlUmVnZXgsZXNjYXBlKGVzY2FwZShzdHJBcmcpKS5yZWdleEVzY2FwZSgpKTsJCQkJCQkJDQoJCQkJCQkJYXBwZW5kVmFsdWUoYXJyYXlFeGNsdWRlUmVnZXgsZXNjYXBlKGVzY2FwZShzdHJBcmcucmVwbGFjZSgvXHMvZywiKyIpKSkucmVnZXhFc2NhcGUoKSk7DQoJCQkJCQkJYXBwZW5kVmFsdWUoYXJyYXlFeGNsdWRlUmVnZXgsZXNjYXBlKGVzY2FwZShzdHJBcmcucmVwbGFjZSgvXHMvZywiJTIwIikpKS5yZWdleEVzY2FwZSgpKTsNCgkJCQkJCQkJCQkJCQkJDQoJCQkJCQl9DQoJCQkJCQkNCgkJCQkJCWNyZWF0ZVJlZ0V4cExpc3RGcm9tQXJndW1lbnRDb21iaW5hdGlvbnMoYXJyYXlFeGNsdWRlUmVnZXgsIHN0ckluajEpOw0KCQkJCQkJY3JlYXRlUmVnRXhwTGlzdEZyb21Bcmd1bWVudENvbWJpbmF0aW9ucyhhcnJheUV4Y2x1ZGVSZWdleCwgc3RySW5qMik7DQoJCQkJCQkNCgkJCQkJCWJvb2xWdWxuZXJhYmxlID0gY29tcGFyZUhUTUxTdHJ1Y3R1cmVzKGFycmF5UmVzcG9uc2VCdWZmZXJbdGhpcy5wYXJlbnQuYXJyYXlCbGluZEluamVjdGlvblRlc3RbdGhpcy5pbnRUZXN0U3RlcF1baV0ucmVsYXRpdmVdLGFycmF5UmVzcG9uc2VCdWZmZXJbaV0sYXJyYXlFeGNsdWRlUmVnZXgpID09IHRoaXMucGFyZW50LmFycmF5QmxpbmRJbmplY3Rpb25UZXN0W3RoaXMuaW50VGVzdFN0ZXBdW2ldLmNvbmQgOw0KCQkJCQkJDQoJCQkJCQlpZighYm9vbFZ1bG5lcmFibGUpDQoJCQkJCQkJYnJlYWs7DQoJCQkJCX0NCgkJCQkJDQoJCQkJCWlmKGJvb2xWdWxuZXJhYmxlKQ0KCQkJCQl7DQoJCQkJCQl0aGlzLnBhcmVudC5mbmNFeGl0VGVzdCh0cnVlLCAiU1FMIEluamVjdGlvbiAoYmxpbmQgdGVzdCkiKTsNCgkJCQkJCXJldHVybjsNCgkJCQkJfQ0KCQkJCQl0aGlzLmludFN0ZXAgPSAwOw0KCQkJCQl0aGlzLmludFRlc3RTdGVwICsrOw0KCQkJCQlpZiAodGhpcy5pbnRUZXN0U3RlcCA+PSB0aGlzLnBhcmVudC5hcnJheUJsaW5kSW5qZWN0aW9uVGVzdC5sZW5ndGgpDQoJCQkJCXsNCgkJCQkJCXRoaXMucGFyZW50LmZuY0V4aXRUZXN0KGZhbHNlKTsNCgkJCQkJCXJldHVybjsNCgkJCQkJfQ0KCQkJCX0NCgkJCQkNCgkJCQl0aGlzLmJvb2xSZXF1ZXN0UGhhc2UgPSB0cnVlOw0KCQkJCXRoaXMuZG9UZXN0KCk7DQoJCQkJcmV0dXJuOw0KCQkJfQ0KCQl9DQoJfQ0KCQkNCgkvL3dlIGhhdmUgdG8gc3BlY2lmeSBmbmNUYXNrQ2FsbEJhY2sgcGFycmVudCBzaW5jZSBpdCB3aWxsIGJlIGNhbGxlZCBmcm9tIG90aGVyIHNjb3BlDQoJdGhpcy5mbmNUYXNrQ2FsbEJhY2sucGFyZW50CT0gdGhpczsNCgkNCgkvL2luaXRpYWxpemUgdGhlIHRlc3QgcHJvY2VkdXJlDQoJdGhpcy5mbmNUYXNrQ2FsbEJhY2suZG9UZXN0KCk7DQp9DQoNCi8vcmVnaXN0ZXIgdGhlIHRlc3RlciBvYmplY3QNCmJzcWxJbmplY3Rpb25UZXN0ZXIucmVnaXN0ZXIoKTs=')); ]]></script>
<script><![CDATA[ eval(atob('LyoNCkF1dGhvcjoJCUJsYWRlDQpQdXJwb3NlOglDUkxGIGluamVjdGlvbiB0ZXN0DQoqLw0KDQp2YXIgQ1JMRkluamVjdGlvblRlc3RlcgkJCQkJPSBuZXcgY2xhc3NHZW5lcmljVGVzdGVyKCk7DQpDUkxGSW5qZWN0aW9uVGVzdGVyLnN0clhVTE1lbnVJZAkJPSAiYWN1bmV0aXhfdGVzdHR5cGVfQ1JMRkluamVjdGlvbiI7DQpDUkxGSW5qZWN0aW9uVGVzdGVyLnN0clhVTE1lbnVUZXh0CQk9ICJDUkxGIEluamVjdGlvbiI7DQpDUkxGSW5qZWN0aW9uVGVzdGVyLnN0clhVTE1lbnVIaW50CQk9ICJTY2FuIGZvciBDUkxGIEluamVjdGlvbiBWdWxuZXJhYmlsaXRpZXMiOw0KQ1JMRkluamVjdGlvblRlc3Rlci5zdHJYVUxNZW51QWNjZXNza2V5CT0gIkMiOw0KQ1JMRkluamVjdGlvblRlc3Rlci5zdHJUeXBlCQkJCT0gIkNSTEYgSW5qZWN0aW9uIjsNCkNSTEZJbmplY3Rpb25UZXN0ZXIuc3RyVGVzdE5hbWUJCQk9ICJDUkxGIEluamVjdGlvbiI7DQpDUkxGSW5qZWN0aW9uVGVzdGVyLnNldmVyaXR5CQkJPSAiTWVkaXVtIjsNCkNSTEZJbmplY3Rpb25UZXN0ZXIuc3RyRGVzY3JpcHRpb24JCT0gImh0dHA6Ly93d3cuYWN1bmV0aXguY29tL3dlYnNpdGVzZWN1cml0eS8iOw0KQ1JMRkluamVjdGlvblRlc3Rlci53dnNDb3JlbGF0aW9uSUQJCT0gIkNSTEZfaW5qZWN0aW9uLnhtbCI7DQpDUkxGSW5qZWN0aW9uVGVzdGVyLmVuYWJsZWQJCQkJPSBmYWxzZTsNCi8qSU1QTEVNRU5UQVRJT04qLw0KQ1JMRkluamVjdGlvblRlc3Rlci5lbmFibGVkCQkJCT0gdHJ1ZTsNCg0KDQpmdW5jdGlvbiBzZWFyY2hGb3JDUkxGSW5qZWN0aW9uKHN0cklucHV0VGV4dCwgYm9vbEp1c3RSZXR1cm5PbkZpcnN0RXJyb3IpDQp7DQoJaWYgKGJvb2xKdXN0UmV0dXJuT25GaXJzdEVycm9yID09IG51bGwpIGJvb2xKdXN0UmV0dXJuT25GaXJzdEVycm9yID0gZmFsc2U7DQoJdmFyIHJldHZhbCA9IG5ldyBBcnJheSgpOw0KCQ0KCWFycmF5SW5qZWN0aW9uVGVzdENvbmRpdGlvbnMgPSBuZXcgQXJyYXkNCgkoDQoJCW5ldyBBcnJheSh7cmVnZXggOiAvXG4oU29tZUN1c3RvbUluamVjdGVkSGVhZGVyXHMqOlxzKmluamVjdGVkX2J5X3d2cykvaSwgY29uZGl0aW9uIDogdHJ1ZX0pDQoJCQ0KCSk7DQoJCQkJICANCglmb3IoIHZhciBpID0gMDsgaSA8IGFycmF5SW5qZWN0aW9uVGVzdENvbmRpdGlvbnMubGVuZ3RoOyBpKyspDQoJew0KCQl2YXIgYm9vbEJvbmRpdGlvbiA9IHRydWU7DQoJCWZvcih2YXIgaiA9IDA7IGogPCBhcnJheUluamVjdGlvblRlc3RDb25kaXRpb25zW2ldLmxlbmd0aDsgaisrKQ0KCQl7DQoJCQl2YXIgbWF0Y2ggPSAoYXJyYXlJbmplY3Rpb25UZXN0Q29uZGl0aW9uc1tpXVtqXS5yZWdleC5leGVjKHN0cklucHV0VGV4dCkgIT0gbnVsbCk7DQoJCQlpZihtYXRjaCAhPSBhcnJheUluamVjdGlvblRlc3RDb25kaXRpb25zW2ldW2pdLmNvbmRpdGlvbikNCgkJCXsNCgkJCQlib29sQm9uZGl0aW9uID0gZmFsc2U7DQoJCQkJYnJlYWs7DQoJCQl9DQoJCX0NCgkJDQoJCWlmIChib29sQm9uZGl0aW9uKQ0KCQl7DQoJCQlpZiAoYm9vbEp1c3RSZXR1cm5PbkZpcnN0RXJyb3IpDQoJCQkJcmV0dXJuKHRydWUpOw0KCQkJcmV0dmFsLnB1c2goaSk7DQoJCX0NCgl9DQoJaWYgKGJvb2xKdXN0UmV0dXJuT25GaXJzdEVycm9yKQ0KCQlyZXR1cm4oZmFsc2UpOw0KCWVsc2UNCgkJcmV0dXJuKHJldHZhbCk7DQp9DQoNCg0KDQoNCkNSTEZJbmplY3Rpb25UZXN0ZXIuZG9UZXN0ID0gZnVuY3Rpb24ob2JqQ2FsbGVyQ2xhc3MpDQp7DQoJdGhpcy5vYmpDYWxsZXJDbGFzcwkJPSBvYmpDYWxsZXJDbGFzczsNCgkNCgkvL2luamVjdGVkIHZhbHVlcwkJCQkgIA0KCXRoaXMuYXJyYXlDUkxGSW5qZWN0aW9uVGVzdFZhbHVlcyA9IG5ldyBBcnJheQ0KCSgNCgkJIiUwYVNvbWVDdXN0b21JbmplY3RlZEhlYWRlciUzQWluamVjdGVkX2J5X3d2cyIsDQoJCSIlMGQlMGFTb21lQ3VzdG9tSW5qZWN0ZWRIZWFkZXIlM0FpbmplY3RlZF9ieV93dnMiDQoJKQ0KCQ0KCQkNCgkvL3JlcXVlc3QgcmVzdWx0IGNvbnRhaW5lcgkNCgl0aGlzLm9ialRhc2tSZXN1bHQgPSB0aGlzLm9iakNhbGxlckNsYXNzLm9ialRhc2tSZXN1bHQ7DQoNCgkNCgkvL3RoZSB0YXNjayBjYWxiYWNrIGNsYXNzIHdpdGggbm90aWZ5IGZ1bmN0aW9uIGZvciBiZSB1c2VkIHdpdGggdGltZXIgY2FsbA0KCXRoaXMuZm5jVGFza0NhbGxCYWNrID0NCgl7DQoJCWludFN0ZXAJCQkJOiAwLA0KCQlib29sUmVxdWVzdFBoYXNlCTogdHJ1ZSwNCgkJc3RyVGVzdFN0cmluZwkJOiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMTM0NTY3MCksDQoJCQkJDQoJCW5vdGlmeSAJOiBmdW5jdGlvbih0aW1lcikNCgkJew0KCQkJdGhpcy5kb1Rlc3QoKTsNCgkJfSwNCgkJDQoJCWRvVGVzdCA6IGZ1bmN0aW9uKCkNCgkJew0KCQkJaWYodGhpcy5wYXJlbnQub2JqQ2FsbGVyQ2xhc3MuYm9vbFRlc3Rlck1hcmtlZFRvRGllKQ0KCQkJew0KCQkJCWxvZ1RvRmlsZSgiPT4gc3FsSW5qZWN0aW9uVGVzdGVyID0+IGRvVGVzdDogdXNlckFib3J0UmVxdWVzdCBkZXRlY3RlZCAoYm9vbEFib3J0U2NhbiA9IHRydWUpIik7DQoJCQkJcmV0dXJuOw0KCQkJfQ0KCQkJDQoJCQlpZih0aGlzLmJvb2xSZXF1ZXN0UGhhc2UpDQoJCQl7DQoJCQkJdGhpcy5ib29sUmVxdWVzdFBoYXNlID0gZmFsc2U7DQoJCQkJdGhpcy5wYXJlbnQuZG9SZXF1ZXN0SnNvbigNCgkJCQkJew0KCQkJCQkJb2JqQ2FsbGVyQ2xhc3MgCQkJCTogdGhpcy5wYXJlbnQsDQoJCQkJCQlzdHJUZXN0U3RyaW5nCQkJCTogdGhpcy5wYXJlbnQuYXJyYXlDUkxGSW5qZWN0aW9uVGVzdFZhbHVlc1t0aGlzLmludFN0ZXBdLA0KCQkJCQkJYXJyYXlBY2NlcHRlZENvbnRlbnRUeXBlcyAJOiBuZXcgQXJyYXkoInRleHQvaHRtbCIsInRleHQveG1sIiwiYXBwbGljYXRpb24veGh0bWwreG1sIiksDQoJCQkJCQlpbnRSZWRpcmVjdGlvbkxpbWl0CQkJOiAwLA0KCQkJCQkJYm9vbERlbGV0ZU9yaWdpbmFsQ29va2llCTogdHJ1ZSwNCgkJCQkJCWJvb2xEZWxldGVPcmlnaW5hbEhlYWRlcnMJOiBmYWxzZSwNCgkJCQkJCWludEVzY2FwZU1ldGhvZAkJCQk6IDANCgkJCQkJfSk7DQoJCQkJcmV0dXJuOw0KCQkJfQ0KCQkJZWxzZQ0KCQkJew0KCQkJCUxvZ0hUVFBUb0ZpbGUodGhpcy5wYXJlbnQub2JqVGFza1Jlc3VsdCwgZmFsc2UpOw0KCQkJCQ0KCQkJCWlmKHRoaXMucGFyZW50Lm9ialRhc2tSZXN1bHQuaW50RXJyb3JDb2RlID09IDApDQoJCQkJew0KCQkJCQlpZihzZWFyY2hGb3JDUkxGSW5qZWN0aW9uKHRoaXMucGFyZW50Lm9ialRhc2tSZXN1bHQuc3RyUmVzcG9uc2VIZWFkZXIsdHJ1ZSkpDQoJCQkJCXsNCgkJCQkJCXRoaXMucGFyZW50LmZuY0V4aXRUZXN0KHRydWUsIHRoaXMucGFyZW50LnN0clhVTE1lbnVUZXh0KTsNCgkJCQkJCXJldHVybjsNCgkJCQkJfQ0KDQoJCQkJfQ0KCQkJCQ0KCQkJCXRoaXMuYm9vbFJlcXVlc3RQaGFzZSA9IHRydWU7DQoJCQkJdGhpcy5pbnRTdGVwICsrOw0KCQkJCWlmKHRoaXMuaW50U3RlcCA+PSB0aGlzLnBhcmVudC5hcnJheUNSTEZJbmplY3Rpb25UZXN0VmFsdWVzLmxlbmd0aCkNCgkJCQl7DQoJCQkJCXRoaXMucGFyZW50LmZuY0V4aXRUZXN0KGZhbHNlKTsNCgkJCQkJcmV0dXJuOw0KCQkJCX0NCgkJCQkvL3JldHJpZ2dlciB0aGUgdGVzdCBwcm9jZWR1cmUNCgkJCQl0aGlzLmRvVGVzdCgpOw0KCQkJCXJldHVybjsNCgkJCX0NCgkJfQ0KCX0NCgkNCgkvL3dlIGhhdmUgdG8gc3BlY2lmeSBmbmNUYXNrQ2FsbEJhY2sgcGFycmVudCBzaW5jZSBpdCB3aWxsIGJlIGNhbGxlZCBmcm9tIG90aGVyIHNjb3BlDQoJdGhpcy5mbmNUYXNrQ2FsbEJhY2sucGFyZW50CT0gdGhpczsNCgkNCgkvL2luaXRpYWxpemUgdGhlIHRlc3QgcHJvY2VkdXJlDQoJdGhpcy5mbmNUYXNrQ2FsbEJhY2suZG9UZXN0KCk7DQoJDQp9DQoNCg0KDQoNCg0KDQovL3JlZ2lzdGVyIHRoZSB0ZXN0ZXIgb2JqZWN0DQpDUkxGSW5qZWN0aW9uVGVzdGVyLnJlZ2lzdGVyKCk7DQo=')); ]]></script>
<script><![CDATA[ eval(atob('LyoNCkF1dGhvcjoJCUJsYWRlDQpQdXJwb3NlOglUaGUgZmlsZSBpbmNsdXNpb24gdGVzdA0KKi8NCg0KdmFyIEZpbGVJbmNsdXNpb25UZXN0ZXIJCQkJCT0gbmV3IGNsYXNzR2VuZXJpY1Rlc3RlcigpOw0KRmlsZUluY2x1c2lvblRlc3Rlci5zdHJYVUxNZW51SWQJCT0gImFjdW5ldGl4X3Rlc3R0eXBlX0ZpbGVJbmNsdXNpb24iOw0KRmlsZUluY2x1c2lvblRlc3Rlci5zdHJYVUxNZW51VGV4dAkJPSAiRmlsZSBJbmNsdXNpb24iOw0KRmlsZUluY2x1c2lvblRlc3Rlci5zdHJYVUxNZW51SGludAkJPSAiU2NhbiBmb3IgRmlsZSBJbmNsdXNpb24gVnVsbmVyYWJpbGl0aWVzIjsNCkZpbGVJbmNsdXNpb25UZXN0ZXIuc3RyWFVMTWVudUFjY2Vzc2tleQk9ICJJIjsNCkZpbGVJbmNsdXNpb25UZXN0ZXIuc3RyVHlwZQkJCQk9ICJGaWxlIEluY2x1c2lvbiI7DQpGaWxlSW5jbHVzaW9uVGVzdGVyLnN0clRlc3ROYW1lCQkJPSAiRmlsZSBJbmNsdXNpb24iOw0KRmlsZUluY2x1c2lvblRlc3Rlci5zZXZlcml0eQkJCT0gIkhpZ2giOw0KRmlsZUluY2x1c2lvblRlc3Rlci5zdHJEZXNjcmlwdGlvbgkJPSAiaHR0cDovL3d3dy5hY3VuZXRpeC5jb20vd2Vic2l0ZXNlY3VyaXR5LyI7DQpGaWxlSW5jbHVzaW9uVGVzdGVyLnd2c0NvcmVsYXRpb25JRAkJPSAiRmlsZV9pbmNsdXNpb24ueG1sIjsNCkZpbGVJbmNsdXNpb25UZXN0ZXIuZW5hYmxlZAkJCQk9IGZhbHNlOw0KLypJTVBMRU1FTlRBVElPTiovDQpGaWxlSW5jbHVzaW9uVGVzdGVyLmVuYWJsZWQJCQkJPSB0cnVlOw0KDQpmdW5jdGlvbiBzZWFyY2hGb3JGaWxlSW5jbHVzaW9uKHN0cklucHV0VGV4dCwgYm9vbEp1c3RSZXR1cm5PbkZpcnN0RXJyb3IpDQp7DQoJaWYgKGJvb2xKdXN0UmV0dXJuT25GaXJzdEVycm9yID09IG51bGwpIGJvb2xKdXN0UmV0dXJuT25GaXJzdEVycm9yID0gZmFsc2U7DQoJdmFyIHJldHZhbCA9IG5ldyBBcnJheSgpOw0KCQ0KCWFycmF5SW5qZWN0aW9uVGVzdENvbmRpdGlvbnMgPSBuZXcgQXJyYXkNCgkoDQoJCW5ldyBBcnJheSh7cmVnZXggOiAvNjNjMTlhNmRhNzk4MTZiMjE0MjllNWJiMjYyZGFlZDg2M2MxOWE2ZGE3OTgxNmIyMTQyOWU1YmIyNjJkYWVkOC9pLCBjb25kaXRpb24gOiB0cnVlfSksDQoJCW5ldyBBcnJheSh7cmVnZXggOiAvKDxiPldhcm5pbmc8XC9iPjogIChmaWxlX2dldF9jb250ZW50c1woLio/XCkoIFxbPGEgaHJlZj0nZnVuY3Rpb24uZmlsZS1nZXQtY29udGVudHMnPmZ1bmN0aW9uLmZpbGUtZ2V0LWNvbnRlbnRzPFwvYT5cXSk/fGZvcGVuXChzb21lX2luZXhpc3RlbnRfZmlsZV93aXRoX2xvbmdfbmFtZVwpKCBcWzxhIGhyZWY9J2Z1bmN0aW9uLmZvcGVuJz5mdW5jdGlvbi5mb3BlbjxcL2E+XF0pPyk6IGZhaWxlZCB0byBvcGVuIHN0cmVhbTogKE5vIHN1Y2ggZmlsZSBvciBkaXJlY3Rvcnl8SW52YWxpZCBhcmd1bWVudHwoSFRUUCByZXF1ZXN0IGZhaWxlZCEgLiopKSBpbiA8Yj4uKj88XC9iPiBvbiBsaW5lIDxiPi4qPzxcL2I+KS9pLCBjb25kaXRpb24gOiB0cnVlfSksCQkNCgkJDQoJCW5ldyBBcnJheSh7cmVnZXggOiAvKDxiPldhcm5pbmc8XC9iPjouKjogRmFpbGVkIG9wZW5pbmcgJy4qc29tZV9pbmV4aXN0ZW50X2ZpbGVfd2l0aF9sb25nX25hbWUuKicpIGZvciBpbmNsdXNpb24uKi9pLCBjb25kaXRpb24gOiB0cnVlfSksDQoJCW5ldyBBcnJheSh7cmVnZXggOiAvKFRoZSByZXF1ZXN0ZWQgcmVzb3VyY2Vcc1woLipzb21lX2luZXhpc3RlbnRfZmlsZV93aXRoX2xvbmdfbmFtZVwpIGlzIG5vdCBhdmFpbGFibGUpL2ksIGNvbmRpdGlvbiA6IHRydWV9KSwJCQ0KCQluZXcgQXJyYXkoe3JlZ2V4IDogLyhvcmcuYXBhY2hlLmphc3Blci5KYXNwZXJFeGNlcHRpb246IC4qPyBGaWxlIC4qPyBub3QgZm91bmQpL2ksIGNvbmRpdGlvbiA6IHRydWV9KQ0KCSk7DQoJCQkJICANCglmb3IoIHZhciBpID0gMDsgaSA8IGFycmF5SW5qZWN0aW9uVGVzdENvbmRpdGlvbnMubGVuZ3RoOyBpKyspDQoJew0KCQl2YXIgYm9vbEJvbmRpdGlvbiA9IHRydWU7DQoJCWZvcih2YXIgaiA9IDA7IGogPCBhcnJheUluamVjdGlvblRlc3RDb25kaXRpb25zW2ldLmxlbmd0aDsgaisrKQ0KCQl7DQoJCQl2YXIgbWF0Y2ggPSAoYXJyYXlJbmplY3Rpb25UZXN0Q29uZGl0aW9uc1tpXVtqXS5yZWdleC5leGVjKHN0cklucHV0VGV4dCkgIT0gbnVsbCk7DQoJCQlpZihtYXRjaCAhPSBhcnJheUluamVjdGlvblRlc3RDb25kaXRpb25zW2ldW2pdLmNvbmRpdGlvbikNCgkJCXsNCgkJCQlib29sQm9uZGl0aW9uID0gZmFsc2U7DQoJCQkJYnJlYWs7DQoJCQl9DQoJCX0NCgkJDQoJCWlmIChib29sQm9uZGl0aW9uKQ0KCQl7DQoJCQlpZiAoYm9vbEp1c3RSZXR1cm5PbkZpcnN0RXJyb3IpDQoJCQkJcmV0dXJuKHRydWUpOw0KCQkJcmV0dmFsLnB1c2goaSk7DQoJCX0NCgl9DQoJaWYgKGJvb2xKdXN0UmV0dXJuT25GaXJzdEVycm9yKQ0KCQlyZXR1cm4oZmFsc2UpOw0KCWVsc2UNCgkJcmV0dXJuKHJldHZhbCk7DQp9DQoNCg0KRmlsZUluY2x1c2lvblRlc3Rlci5kb1Rlc3QgPSBmdW5jdGlvbihvYmpDYWxsZXJDbGFzcykNCnsNCgl0aGlzLm9iakNhbGxlckNsYXNzCQk9IG9iakNhbGxlckNsYXNzOw0KCQ0KCS8vaW5qZWN0ZWQgdmFsdWVzCQkJCSAgDQoJdGhpcy5hcnJheUluamVjdGlvblRlc3RDb25kaXRpb25zID0gbmV3IEFycmF5DQoJKA0KCQkiaHR0cDovL3NvbWUtaW5leGlzdGVudC13ZWJzaXRlLmNvbS9zb21lX2luZXhpc3RlbnRfZmlsZV93aXRoX2xvbmdfbmFtZSIsDQoJCSIvc29tZV9pbmV4aXN0ZW50X2ZpbGVfd2l0aF9sb25nX25hbWUiLA0KCQkiaHR0cDovL3Rlc3RwaHAudnVsbndlYi5jb20vYWN1bmV0aXhfZmlsZV9pbmNsdXNpb25fdGVzdD8iDQoJKQ0KCQ0KCQkNCgkvL3JlcXVlc3QgcmVzdWx0IGNvbnRhaW5lcgkNCgl0aGlzLm9ialRhc2tSZXN1bHQgPSB0aGlzLm9iakNhbGxlckNsYXNzLm9ialRhc2tSZXN1bHQ7DQoJDQoJLy90aGUgdGFzY2sgY2FsYmFjayBjbGFzcyB3aXRoIG5vdGlmeSBmdW5jdGlvbiBmb3IgYmUgdXNlZCB3aXRoIHRpbWVyIGNhbGwNCgl0aGlzLmZuY1Rhc2tDYWxsQmFjayA9DQoJew0KCQlpbnRTdGVwCQkJCTogMCwNCgkJYm9vbFJlcXVlc3RQaGFzZQk6IHRydWUsDQoJCQ0KCQlub3RpZnkgCTogZnVuY3Rpb24odGltZXIpDQoJCXsNCgkJCXRoaXMuZG9UZXN0KCk7DQoJCX0sDQoJCQ0KCQlkb1Rlc3QgOiBmdW5jdGlvbigpDQoJCXsNCgkJCWlmKHRoaXMucGFyZW50Lm9iakNhbGxlckNsYXNzLmJvb2xUZXN0ZXJNYXJrZWRUb0RpZSkNCgkJCXsNCgkJCQlsb2dUb0ZpbGUoIj0+IEZpbGVJbmNsdXNpb25UZXN0ZXIgPT4gZG9UZXN0OiB1c2VyQWJvcnRSZXF1ZXN0IGRldGVjdGVkIChib29sQWJvcnRTY2FuID0gdHJ1ZSkiKTsNCgkJCQlyZXR1cm47DQoJCQl9DQoJCQkNCgkJCWlmKHRoaXMuYm9vbFJlcXVlc3RQaGFzZSkNCgkJCXsNCgkJCQl0aGlzLmJvb2xSZXF1ZXN0UGhhc2UgPSBmYWxzZTsNCgkJCQl0aGlzLnBhcmVudC5kb1JlcXVlc3RKc29uKA0KCQkJCQl7DQoJCQkJCQlvYmpDYWxsZXJDbGFzcyAJCQkJOiB0aGlzLnBhcmVudCwNCgkJCQkJCXN0clRlc3RTdHJpbmcJCQkJOiB0aGlzLnBhcmVudC5hcnJheUluamVjdGlvblRlc3RDb25kaXRpb25zW3RoaXMuaW50U3RlcF0sDQoJCQkJCQkvL2ludFJlZGlyZWN0aW9uTGltaXQJCTogMTAsDQoJCQkJCQlib29sRGVsZXRlT3JpZ2luYWxDb29raWUJOiB0cnVlLA0KCQkJCQkJYm9vbERlbGV0ZU9yaWdpbmFsSGVhZGVycwk6IGZhbHNlLA0KCQkJCQkJaW50RXNjYXBlTWV0aG9kCQkJCTogMA0KCQkJCQl9KTsNCgkJCQlyZXR1cm47DQoJCQl9DQoJCQllbHNlDQoJCQl7DQoJCQkJTG9nSFRUUFRvRmlsZSh0aGlzLnBhcmVudC5vYmpUYXNrUmVzdWx0LCBmYWxzZSk7DQoJCQkJDQoJCQkJaWYodGhpcy5wYXJlbnQub2JqVGFza1Jlc3VsdC5pbnRFcnJvckNvZGUgPT0gMCkNCgkJCQl7DQoJCQkJCWlmKHNlYXJjaEZvckZpbGVJbmNsdXNpb24odGhpcy5wYXJlbnQub2JqVGFza1Jlc3VsdC5zdHJSZXNwb25zZVRleHQsdHJ1ZSkpDQoJCQkJCXsNCgkJCQkJCXRoaXMucGFyZW50LmZuY0V4aXRUZXN0KHRydWUsIHRoaXMucGFyZW50LnN0clhVTE1lbnVUZXh0KTsNCgkJCQkJCXJldHVybjsNCgkJCQkJfQ0KDQoJCQkJfQ0KCQkJCQ0KCQkJCXRoaXMuYm9vbFJlcXVlc3RQaGFzZSA9IHRydWU7DQoJCQkJdGhpcy5pbnRTdGVwICsrOw0KCQkJCWlmKHRoaXMuaW50U3RlcCA+PSB0aGlzLnBhcmVudC5hcnJheUluamVjdGlvblRlc3RDb25kaXRpb25zLmxlbmd0aCkNCgkJCQl7DQoJCQkJCXRoaXMucGFyZW50LmZuY0V4aXRUZXN0KGZhbHNlKTsNCgkJCQkJcmV0dXJuOw0KCQkJCX0NCgkJCQkvL3JldHJpZ2dlciB0aGUgdGVzdCBwcm9jZWR1cmUNCgkJCQl0aGlzLmRvVGVzdCgpOw0KCQkJCXJldHVybjsNCgkJCX0NCgkJfQ0KCX0NCgkNCgkvL3dlIGhhdmUgdG8gc3BlY2lmeSBmbmNUYXNrQ2FsbEJhY2sgcGFycmVudCBzaW5jZSBpdCB3aWxsIGJlIGNhbGxlZCBmcm9tIG90aGVyIHNjb3BlDQoJdGhpcy5mbmNUYXNrQ2FsbEJhY2sucGFyZW50CT0gdGhpczsNCgkNCgkvL2luaXRpYWxpemUgdGhlIHRlc3QgcHJvY2VkdXJlDQoJdGhpcy5mbmNUYXNrQ2FsbEJhY2suZG9UZXN0KCk7DQoJDQp9DQoNCi8vcmVnaXN0ZXIgdGhlIHRlc3RlciBvYmplY3QNCkZpbGVJbmNsdXNpb25UZXN0ZXIucmVnaXN0ZXIoKTsNCg==')); ]]></script>
<script><![CDATA[ eval(atob('LyoNCkF1dGhvcjoJCUJsYWRlDQpQdXJwb3NlOglUaGUgZGlyZWN0b3J5IHRyYXZlcnNhbCB0ZXN0DQoqLw0KDQp2YXIgRGlyZWN0b3J5VHJhdmVyc2FsVGVzdGVyCQkJCQk9IG5ldyBjbGFzc0dlbmVyaWNUZXN0ZXIoKTsNCkRpcmVjdG9yeVRyYXZlcnNhbFRlc3Rlci5zdHJYVUxNZW51SWQJCQk9ICJhY3VuZXRpeF90ZXN0dHlwZV9EaXJlY3RvcnlUcmF2ZXJzYWwiOw0KRGlyZWN0b3J5VHJhdmVyc2FsVGVzdGVyLnN0clhVTE1lbnVUZXh0CQkJPSAiRGlyZWN0b3J5IFRyYXZlcnNhbCI7DQpEaXJlY3RvcnlUcmF2ZXJzYWxUZXN0ZXIuc3RyWFVMTWVudUhpbnQJCQk9ICJTY2FuIGZvciBEaXJlY3RvcnkgVHJhdmVyc2FsIFZ1bG5lcmFiaWxpdGllcyI7DQpEaXJlY3RvcnlUcmF2ZXJzYWxUZXN0ZXIuc3RyWFVMTWVudUFjY2Vzc2tleSAJPSAiVCI7DQpEaXJlY3RvcnlUcmF2ZXJzYWxUZXN0ZXIuc3RyVHlwZQkJCQk9ICJEaXJlY3RvcnkgVHJhdmVyc2FsIjsNCkRpcmVjdG9yeVRyYXZlcnNhbFRlc3Rlci5zdHJUZXN0TmFtZQkJCT0gIkRpcmVjdG9yeSBUcmF2ZXJzYWwiOw0KRGlyZWN0b3J5VHJhdmVyc2FsVGVzdGVyLnNldmVyaXR5CQkJCT0gIkhpZ2giOw0KRGlyZWN0b3J5VHJhdmVyc2FsVGVzdGVyLnN0ckRlc2NyaXB0aW9uCQkJPSAiaHR0cDovL3d3dy5hY3VuZXRpeC5jb20vd2Vic2l0ZXNlY3VyaXR5LyI7DQpEaXJlY3RvcnlUcmF2ZXJzYWxUZXN0ZXIud3ZzQ29yZWxhdGlvbklECQk9ICJEaXJlY3RvcnlfVHJhdmVyc2FsX1VuaXgueG1sIjsNCkRpcmVjdG9yeVRyYXZlcnNhbFRlc3Rlci5lbmFibGVkCQkJCT0gZmFsc2U7DQovKklNUExFTUVOVEFUSU9OKi8NCkRpcmVjdG9yeVRyYXZlcnNhbFRlc3Rlci5lbmFibGVkCQkJCT0gdHJ1ZTsNCg0KZnVuY3Rpb24gc2VhcmNoRm9yRGlyZWN0b3J5VHJhdmVyc2FsKHN0cklucHV0VGV4dCwgYm9vbEp1c3RSZXR1cm5PbkZpcnN0RXJyb3IpDQp7DQoJaWYgKGJvb2xKdXN0UmV0dXJuT25GaXJzdEVycm9yID09IG51bGwpIGJvb2xKdXN0UmV0dXJuT25GaXJzdEVycm9yID0gZmFsc2U7DQoJdmFyIHJldHZhbCA9IG5ldyBBcnJheSgpOw0KCQ0KCWFycmF5SW5qZWN0aW9uVGVzdENvbmRpdGlvbnMgPSBuZXcgQXJyYXkNCgkoDQoJCW5ldyBBcnJheSh7cmVnZXggOiAvKFx3W1x3LV0rXDooIXxcKnxbXjpdKylcOlxkK1w6XGQrOlteOl0qXDpbXjpdKlw6W15ccl5cbl0qKFxyP1xufFxyfCkpKy9pLCBjb25kaXRpb24gOiB0cnVlfSksDQoJCW5ldyBBcnJheSh7cmVnZXggOiAvKChcW2Jvb3Rcc2xvYWRlclxdfFxbb3BlcmF0aW5nXHNzeXN0ZW1zXF0pKFxyP1xufFxyfCkoW149XlxyXlxuXStcPVteXHJeXG5dKyhccj9cbnxccnwpKSspKy9pLCBjb25kaXRpb24gOiB0cnVlfSkNCgkpOw0KCQkJCSAgDQoJZm9yKCB2YXIgaSA9IDA7IGkgPCBhcnJheUluamVjdGlvblRlc3RDb25kaXRpb25zLmxlbmd0aDsgaSsrKQ0KCXsNCgkJdmFyIGJvb2xCb25kaXRpb24gPSB0cnVlOw0KCQlmb3IodmFyIGogPSAwOyBqIDwgYXJyYXlJbmplY3Rpb25UZXN0Q29uZGl0aW9uc1tpXS5sZW5ndGg7IGorKykNCgkJew0KCQkJdmFyIG1hdGNoID0gKGFycmF5SW5qZWN0aW9uVGVzdENvbmRpdGlvbnNbaV1bal0ucmVnZXguZXhlYyhzdHJJbnB1dFRleHQpICE9IG51bGwpOw0KCQkJaWYobWF0Y2ggIT0gYXJyYXlJbmplY3Rpb25UZXN0Q29uZGl0aW9uc1tpXVtqXS5jb25kaXRpb24pDQoJCQl7DQoJCQkJYm9vbEJvbmRpdGlvbiA9IGZhbHNlOw0KCQkJCWJyZWFrOw0KCQkJfQ0KCQl9DQoJCQ0KCQlpZiAoYm9vbEJvbmRpdGlvbikNCgkJew0KCQkJaWYgKGJvb2xKdXN0UmV0dXJuT25GaXJzdEVycm9yKQ0KCQkJCXJldHVybih0cnVlKTsNCgkJCXJldHZhbC5wdXNoKGkpOw0KCQl9DQoJfQ0KCWlmIChib29sSnVzdFJldHVybk9uRmlyc3RFcnJvcikNCgkJcmV0dXJuKGZhbHNlKTsNCgllbHNlDQoJCXJldHVybihyZXR2YWwpOw0KfQ0KDQoNCkRpcmVjdG9yeVRyYXZlcnNhbFRlc3Rlci5kb1Rlc3QgPSBmdW5jdGlvbihvYmpDYWxsZXJDbGFzcykNCnsNCgl0aGlzLm9iakNhbGxlckNsYXNzCT0gb2JqQ2FsbGVyQ2xhc3M7DQoJdGhpcy5vYmpUYXNrUmVzdWx0ID0gb2JqQ2FsbGVyQ2xhc3Mub2JqVGFza1Jlc3VsdDsNCgkNCgkvL2luamVjdGVkIHZhbHVlcwkJCQkgIA0KCXRoaXMuYXJyYXlJbmplY3Rpb25UZXN0Q29uZGl0aW9ucyA9IG5ldyBBcnJheQ0KCSgNCgkJLy8gVW5peA0KCQkiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vZXRjL3Bhc3N3ZCIsCS8vQmFzaWMgdGVzdAkJCQ0KCQkiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vZXRjL3Bhc3N3ZCUwMCIsCS8vRW5kIG51bGwgYnl0ZQkNCgkJIiUwMC4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2V0Yy9wYXNzd2QiLAkvL1N0YXJ0IG51bGwgYnl0ZQkNCgkJIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2V0Yy9wYXNzd2QlMDAuaHRtbCIsCS8vRXh0ZW5zaW9uIGh0bWwNCgkJIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2V0Yy9wYXNzd2QlMDAuanBnIiwJLy9FeHRlbnNpb24ganBnDQoJCSIuXFxcXC4vLlxcXFwuLy5cXFxcLi8uXFxcXC4vLlxcXFwuLy5cXFxcLi9ldGMvcGFzc3dkIiwJLy9CYWNrc2xhc2ggY29tYmluZWQgd2l0aCBzbGFzaA0KCQkiL2V0Yy9wYXNzd2QiLCAvL1NpbXBsZQ0KCQkiLy4vLi8uLy4vLi8uLy4vZXRjL3Bhc3N3ZCIsCS8vU2xhc2hQb2ludA0KCQkiLi5cXFxcLi5cXFxcLi5cXFxcLi5cXFxcLi5cXFxcLi5cXFxcLi5cXFxcLi5cXFxcZXRjL3Bhc3N3ZCIsCS8vQmFja3NsYXNoDQoJCSIuLi8uLi8vLi4vLi4vLy4uLy4uLy8uLi8uLi8vLi4vLi4vLy4uLy4uLy8uLi8uLi8vLi4vLi4vL2V0Yy9wYXNzd2QiLAkvL0F2b2lkIHJlcGxhY2UgLi8NCgkJIi4uLy4uLi8uLi8uLy4uLy4uLi8uLi8uLy4uLy4uLi8uLi8uLy4uLy4uLi8uLi8uLy4uLy4uLi8uLi8uLy4uLy4uLi8uLi8uL2V0Yy9wYXNzd2QiLAkvL0F2b2lkIHJlcGxhY2UgLi4vDQoJCSI8Li4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vZXRjL3Bhc3N3ZCIsCS8vTWlzYzFfdGhpZXJyeQ0KCQkifC4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2V0Yy9wYXNzd2QiLAkvL01pc2MyX3RoaWVycnkNCgkJIi4uJWMwJWFmLi4lYzAlYWYuLiVjMCVhZi4uJWMwJWFmLi4lYzAlYWYuLiVjMCVhZi4uJWMwJWFmLi4lYzAlYWZldGMvcGFzc3dkIiwJLy9VVEYtOCBlbmNvZGluZw0KCQkNCgkJLy8gV2luZG93cw0KCQkiLi4vLi4vLi4vLi4vLi4vLi4vLi4vLi4vYm9vdC5pbmkiLAkvL0Jhc2ljIHRlc3QJCQkNCgkJIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2Jvb3QuaW5pJTAwIiwJLy9FbmQgbnVsbCBieXRlCQ0KCQkiJWMwJWFlJWMwJWFlJWMwJWFmJWMwJWFlJWMwJWFlJWMwJWFmJWMwJWFlJWMwJWFlJWMwJWFmJWMwJWFlJWMwJWFlJWMwJWFmJWMwJWFlJWMwJWFlJWMwJWFmJWMwJWFlJWMwJWFlJWMwJWFmJWMwJWFlJWMwJWFlJWMwJWFmJWMwJWFlJWMwJWFlJWMwJWFmYm9vdC5pbmkiLAkvL1VuaWNvZGUNCgkJIi4uLy4uLy4uLy4uLy4uLy4uLy4uLy4uL2Jvb3QuaW5pJTAwLmh0bWwiLAkvL0V4dGVuc2lvbiBodG1sDQoJCSIuLi8uLi8uLi8uLi8uLi8uLi8uLi8uLi9ib290LmluaSUwMC5qcGciLAkvL0V4dGVuc2lvbiBqcGcNCgkJIi8uXFwuLy5cXC4vLlxcLi8uXFwuLy5cXC4vLlxcLi9ib290LmluaSIsCS8vQmFja3NsYXNoIGNvbWJpbmVkIHdpdGggc2xhc2gNCgkJIkM6XFxib290LmluaSIsIC8vU2ltcGxlDQoJCSIvLi8uLy4vLi8uLy4vLi9ib290LmluaSIsCS8vU2xhc2hQb2ludA0KCQkiLi5cXC4uXFwuLlxcLi5cXC4uXFwuLlxcLi5cXC4uXFxib290LmluaSIsCS8vQmFja3NsYXNoDQoJCSIuLi8uLi8vLi4vLi4vLy4uLy4uLy8uLi8uLi8vLi4vLi4vLy4uLy4uLy8uLi8uLi8vLi4vLi4vL2Jvb3QuaW5pIiwJLy9Bdm9pZCByZXBsYWNlIC4vDQoJCSIuLi8uLi4vLi4vLi8uLi8uLi4vLi4vLi8uLi8uLi4vLi4vLi8uLi8uLi4vLi4vLi8uLi8uLi4vLi4vLi8uLi8uLi4vLi4vLi9ib290LmluaSIsCS8vQXZvaWQgcmVwbGFjZSAuLi8NCgkJIjwuLlxcLi5cXC4uXFwuLlxcLi5cXC4uXFwuLlxcLi5cXGJvb3QuaW5pIiwJLy9NaXNjMV90aGllcnJ5DQoJCSJ8Li5cXC4uXFwuLlxcLi5cXC4uXFwuLlxcLi5cXC4uXFxib290LmluaSIsCS8vTWlzYzJfdGhpZXJyeQ0KCQkiLi4lYzAlYWYuLiVjMCVhZi4uJWMwJWFmLi4lYzAlYWYuLiVjMCVhZi4uJWMwJWFmLi4lYzAlYWYuLiVjMCVhZmJvb3QuaW5pIgkvL1VURi04IGVuY29kaW5nDQoJKTsNCgkNCgkJDQoJDQoJDQoJLy90aGUgdGFzY2sgY2FsYmFjayBjbGFzcyB3aXRoIG5vdGlmeSBmdW5jdGlvbiBmb3IgYmUgdXNlZCB3aXRoIHRpbWVyIGNhbGwNCgl0aGlzLmZuY1Rhc2tDYWxsQmFjayA9DQoJew0KCQlpbnRTdGVwCQkJCTogMCwNCgkJYm9vbFJlcXVlc3RQaGFzZQk6IHRydWUsDQoJCQkNCgkJbm90aWZ5IAk6IGZ1bmN0aW9uKHRpbWVyKQ0KCQl7DQoJCQl0aGlzLmRvVGVzdCgpOw0KCQl9LA0KCQkNCgkJZG9UZXN0IDogZnVuY3Rpb24oKQ0KCQl7DQoJCQlpZih0aGlzLnBhcmVudC5vYmpDYWxsZXJDbGFzcy5ib29sVGVzdGVyTWFya2VkVG9EaWUpDQoJCQl7DQoJCQkJbG9nVG9GaWxlKCI9PiBEaXJlY3RvcnlUcmF2ZXJzYWxUZXN0ZXIgPT4gZG9UZXN0OiB1c2VyQWJvcnRSZXF1ZXN0IGRldGVjdGVkIChib29sQWJvcnRTY2FuID0gdHJ1ZSkiKTsNCgkJCQlyZXR1cm47DQoJCQl9DQoJCQkNCgkJCWlmKHRoaXMuYm9vbFJlcXVlc3RQaGFzZSkNCgkJCXsNCgkJCQl0aGlzLmJvb2xSZXF1ZXN0UGhhc2UgPSBmYWxzZTsNCgkJCQl0aGlzLnBhcmVudC5kb1JlcXVlc3RKc29uKA0KCQkJCQl7DQoJCQkJCQlvYmpDYWxsZXJDbGFzcyAJCQkJOiB0aGlzLnBhcmVudCwNCgkJCQkJCXN0clRlc3RTdHJpbmcJCQkJOiB0aGlzLnBhcmVudC5hcnJheUluamVjdGlvblRlc3RDb25kaXRpb25zW3RoaXMuaW50U3RlcF0sDQoJCQkJCQlpbnRSZWRpcmVjdGlvbkxpbWl0CQkJOiAxMCwNCgkJCQkJCWJvb2xEZWxldGVPcmlnaW5hbENvb2tpZQk6IHRydWUsDQoJCQkJCQlib29sRGVsZXRlT3JpZ2luYWxIZWFkZXJzCTogZmFsc2UsDQoJCQkJCQlpbnRFc2NhcGVNZXRob2QJCQkJOiAwDQoJCQkJCX0pOw0KCQkJCXJldHVybjsNCgkJCX0NCgkJCWVsc2UNCgkJCXsNCgkJCQlMb2dIVFRQVG9GaWxlKHRoaXMucGFyZW50Lm9ialRhc2tSZXN1bHQsIGZhbHNlKTsNCgkJCQkNCgkJCQlpZih0aGlzLnBhcmVudC5vYmpUYXNrUmVzdWx0LmludEVycm9yQ29kZSA9PSAwKQ0KCQkJCXsNCgkJCQkJaWYoc2VhcmNoRm9yRGlyZWN0b3J5VHJhdmVyc2FsKHRoaXMucGFyZW50Lm9ialRhc2tSZXN1bHQuc3RyUmVzcG9uc2VUZXh0LHRydWUpKQ0KCQkJCQl7DQoJCQkJCQl0aGlzLnBhcmVudC5mbmNFeGl0VGVzdCh0cnVlLCB0aGlzLnBhcmVudC5zdHJYVUxNZW51VGV4dCk7DQoJCQkJCQlyZXR1cm47DQoJCQkJCX0NCg0KCQkJCX0NCgkJCQkNCgkJCQl0aGlzLmJvb2xSZXF1ZXN0UGhhc2UgPSB0cnVlOw0KCQkJCXRoaXMuaW50U3RlcCArKzsNCgkJCQlpZih0aGlzLmludFN0ZXAgPj0gdGhpcy5wYXJlbnQuYXJyYXlJbmplY3Rpb25UZXN0Q29uZGl0aW9ucy5sZW5ndGgpDQoJCQkJew0KCQkJCQl0aGlzLnBhcmVudC5mbmNFeGl0VGVzdChmYWxzZSk7DQoJCQkJCXJldHVybjsNCgkJCQl9DQoJCQkJLy9yZXRyaWdnZXIgdGhlIHRlc3QgcHJvY2VkdXJlDQoJCQkJdGhpcy5kb1Rlc3QoKTsNCgkJCQlyZXR1cm47DQoJCQl9DQoJCX0NCgl9DQoJDQoJLy93ZSBoYXZlIHRvIHNwZWNpZnkgZm5jVGFza0NhbGxCYWNrIHBhcnJlbnQgc2luY2UgaXQgd2lsbCBiZSBjYWxsZWQgZnJvbSBvdGhlciBzY29wZQ0KCXRoaXMuZm5jVGFza0NhbGxCYWNrLnBhcmVudAk9IHRoaXM7DQoJDQoJLy9pbml0aWFsaXplIHRoZSB0ZXN0IHByb2NlZHVyZQ0KCXRoaXMuZm5jVGFza0NhbGxCYWNrLmRvVGVzdCgpOw0KCQ0KfQ0KDQovL3JlZ2lzdGVyIHRoZSB0ZXN0ZXIgb2JqZWN0DQpEaXJlY3RvcnlUcmF2ZXJzYWxUZXN0ZXIucmVnaXN0ZXIoKTsNCg==')); ]]></script>
<script><![CDATA[ eval(atob('LyoNCkF1dGhvcjoJCUJsYWRlDQpQdXJwb3NlOglDb2RlIGV4ZWN1dGlvbiB0ZXN0DQoqLw0KDQp2YXIgQ29kZUV4ZWN1dGlvblRlc3RlcgkJCQkJCT0gbmV3IGNsYXNzR2VuZXJpY1Rlc3RlcigpOw0KQ29kZUV4ZWN1dGlvblRlc3Rlci5zdHJYVUxNZW51SWQJCQk9ICJhY3VuZXRpeF90ZXN0dHlwZV9Db2RlRXhlY3V0aW9uIjsNCkNvZGVFeGVjdXRpb25UZXN0ZXIuc3RyWFVMTWVudVRleHQJCQk9ICJDb2RlIEV4ZWN1dGlvbiI7DQpDb2RlRXhlY3V0aW9uVGVzdGVyLnN0clhVTE1lbnVIaW50CQkJPSAiU2NhbiBmb3IgQ29kZSBFeGVjdXRpb24gVnVsbmVyYWJpbGl0aWVzIjsNCkNvZGVFeGVjdXRpb25UZXN0ZXIuc3RyWFVMTWVudUFjY2Vzc2tleSAJPSAiRSI7DQpDb2RlRXhlY3V0aW9uVGVzdGVyLnN0clR5cGUJCQkJCT0gIkNvZGUgRXhlY3V0aW9uIjsNCkNvZGVFeGVjdXRpb25UZXN0ZXIuc3RyVGVzdE5hbWUJCQkJPSAiQ29kZSBFeGVjdXRpb24iOw0KQ29kZUV4ZWN1dGlvblRlc3Rlci5zZXZlcml0eQkJCQk9ICJIaWdoIjsNCkNvZGVFeGVjdXRpb25UZXN0ZXIuc3RyRGVzY3JpcHRpb24JCQk9ICJodHRwOi8vd3d3LmFjdW5ldGl4LmNvbS93ZWJzaXRlc2VjdXJpdHkvIjsNCkNvZGVFeGVjdXRpb25UZXN0ZXIud3ZzQ29yZWxhdGlvbklECQkJPSAiQ29kZV9FeGVjdXRpb25fVW5peC54bWwiOw0KQ29kZUV4ZWN1dGlvblRlc3Rlci5lbmFibGVkCQkJCT0gZmFsc2U7DQovKklNUExFTUVOVEFUSU9OKi8NCkNvZGVFeGVjdXRpb25UZXN0ZXIuZW5hYmxlZAkJCQk9IHRydWU7DQoNCmZ1bmN0aW9uIHNlYXJjaEZvckNvZGVFeGVjdXRpb24oc3RySW5wdXRUZXh0LCBib29sSnVzdFJldHVybk9uRmlyc3RFcnJvcikNCnsNCglpZiAoYm9vbEp1c3RSZXR1cm5PbkZpcnN0RXJyb3IgPT0gbnVsbCkgYm9vbEp1c3RSZXR1cm5PbkZpcnN0RXJyb3IgPSBmYWxzZTsNCgl2YXIgcmV0dmFsID0gbmV3IEFycmF5KCk7DQoJDQoJYXJyYXlJbmplY3Rpb25UZXN0Q29uZGl0aW9ucyA9IG5ldyBBcnJheQ0KCSgNCgkJbmV3IEFycmF5KHtyZWdleCA6IC8oXHdbXHctXStcOighfFwqfFteOl0rKVw6XGQrXDpcZCs6W146XSpcOlteOl0qXDpbXlxyXlxuXSooXHI/XG58XHJ8KSkrL2ksIGNvbmRpdGlvbiA6IHRydWV9KSwNCgkJbmV3IEFycmF5KA0KCQkJe3JlZ2V4IDogLyhWb2x1bWUgaW4gZHJpdmUpLywgY29uZGl0aW9uIDogdHJ1ZX0sDQoJCQl7cmVnZXggOiAvKFZvbHVtZSBTZXJpYWwgTnVtYmVyIGlzKS8sIGNvbmRpdGlvbiA6IHRydWV9LA0KCQkJe3JlZ2V4IDogLyhEaXJlY3Rvcnkgb2YpLywgY29uZGl0aW9uIDogdHJ1ZX0NCgkJCSksDQoJCW5ldyBBcnJheSh7cmVnZXggOiAvNjNjMTlhNmRhNzk4MTZiMjE0MjllNWJiMjYyZGFlZDgvaSwgY29uZGl0aW9uIDogdHJ1ZX0pDQoJCQkJDQoJKTsNCgkJCQkgIA0KCWZvciggdmFyIGkgPSAwOyBpIDwgYXJyYXlJbmplY3Rpb25UZXN0Q29uZGl0aW9ucy5sZW5ndGg7IGkrKykNCgl7DQoJCXZhciBib29sQm9uZGl0aW9uID0gdHJ1ZTsNCgkJZm9yKHZhciBqID0gMDsgaiA8IGFycmF5SW5qZWN0aW9uVGVzdENvbmRpdGlvbnNbaV0ubGVuZ3RoOyBqKyspDQoJCXsNCgkJCXZhciBtYXRjaCA9IChhcnJheUluamVjdGlvblRlc3RDb25kaXRpb25zW2ldW2pdLnJlZ2V4LmV4ZWMoc3RySW5wdXRUZXh0KSAhPSBudWxsKTsNCgkJCWlmKG1hdGNoICE9IGFycmF5SW5qZWN0aW9uVGVzdENvbmRpdGlvbnNbaV1bal0uY29uZGl0aW9uKQ0KCQkJew0KCQkJCWJvb2xCb25kaXRpb24gPSBmYWxzZTsNCgkJCQlicmVhazsNCgkJCX0NCgkJfQ0KCQkNCgkJaWYgKGJvb2xCb25kaXRpb24pDQoJCXsNCgkJCWlmIChib29sSnVzdFJldHVybk9uRmlyc3RFcnJvcikNCgkJCQlyZXR1cm4odHJ1ZSk7DQoJCQlyZXR2YWwucHVzaChpKTsNCgkJfQ0KCX0NCglpZiAoYm9vbEp1c3RSZXR1cm5PbkZpcnN0RXJyb3IpDQoJCXJldHVybihmYWxzZSk7DQoJZWxzZQ0KCQlyZXR1cm4ocmV0dmFsKTsNCn0NCg0KDQpDb2RlRXhlY3V0aW9uVGVzdGVyLmRvVGVzdCA9IGZ1bmN0aW9uKG9iakNhbGxlckNsYXNzKQ0Kew0KCXRoaXMub2JqQ2FsbGVyQ2xhc3MJCT0gb2JqQ2FsbGVyQ2xhc3M7DQoJDQoJLy9pbmplY3RlZCB2YWx1ZXMJCQkJICANCgl0aGlzLmFycmF5SW5qZWN0aW9uVGVzdENvbmRpdGlvbnMgPSBuZXcgQXJyYXkNCgkoDQoJCS8vIFVuaXgNCgkJIislMjZjYXQrL2V0Yy9wYXNzd2QlMjYiLAkvL0FuZCgmKSB0ZXN0CQ0KCQkiKyUwYWNhdCsvZXRjL3Bhc3N3ZCUwYSIsCS8vTmV3IGxpbmUNCgkJIiU2MGNhdCsvZXRjL3Bhc3N3ZCU2MCIsCS8vQmFjaw0KCQkiY2F0Ky9ldGMvcGFzc3dkIiwJCQkvL1NpbXBsZQ0KCQkiJTNCY2F0Ky9ldGMvcGFzc3dkJTNCIiwJLy9TZW1pDQoJCSIlN0NjYXQrL2V0Yy9wYXNzd2QiLAkJLy9QaXBlDQoJCSIlMDBjYXQlMjAvZXRjL3Bhc3N3ZCUwMCIsIAkvL01pc2MxX3RoaWVycnkNCgkJIjxjYXQlMjAvZXRjL3Bhc3N3ZCUwMCIsCS8vTWlzYzJfdGhpZXJyeQ0KCQkNCgkJLy8gV2luZG93cw0KCQkiJTI2ZGlyJTI2IiwJCQkJLy9BbmQoJikgdGVzdA0KCQkiJTdDZGlyIiwJCQkJCS8vUGlwZSB0ZXN0DQoJCSIlM0JkaXIiLAkJCQkJLy9PdGhlciB0ZXN0DQoJCSIlMjZkaXIiLAkJCQkJLy9BbmQoJikgdGVzdCAyDQoJCSJkaXIiLAkJCQkJCS8vQmFzaWMNCgkJIiUwMGRpciUwMCIsIAkJCQkvL01pc2MxX3RoaWVycnkNCgkJIjxkaXIiLAkJCQkJCS8vTWlzYzJfdGhpZXJyeQ0KDQoJCS8vIFBIUCBjb2RlIGV4ZWN1dGlvbg0KCQkicHJpbnRmKG1kNShhY3VuZXRpeF93dnNfc2VjdXJpdHlfdGVzdCkpJTNCZXhpdCUzQi8vIiwJCQkvL3NpbXBsZSBpbmplY3Rpb24NCgkJIiUzQnByaW50ZihtZDUoYWN1bmV0aXhfd3ZzX3NlY3VyaXR5X3Rlc3QpKSUzQmV4aXQlM0IvLyIsCQkvL3Rlc3QyDQoJCSInJTNCcHJpbnRmKG1kNShhY3VuZXRpeF93dnNfc2VjdXJpdHlfdGVzdCkpJTNCZXhpdCUzQi8vIiwJCS8vdGVzdDMNCgkJIiUzQnByaW50ZihtZDUoYWN1bmV0aXhfd3ZzX3NlY3VyaXR5X3Rlc3QpKSUzQmV4aXQlM0IvLyIJCS8vdGVzdDQNCgkpCQ0KCQkNCgkvL3JlcXVlc3QgcmVzdWx0IGNvbnRhaW5lcgkNCgl0aGlzLm9ialRhc2tSZXN1bHQgPSB0aGlzLm9iakNhbGxlckNsYXNzLm9ialRhc2tSZXN1bHQ7DQoJCQ0KCS8vdGhlIHRhc2NrIGNhbGJhY2sgY2xhc3Mgd2l0aCBub3RpZnkgZnVuY3Rpb24gZm9yIGJlIHVzZWQgd2l0aCB0aW1lciBjYWxsDQoJdGhpcy5mbmNUYXNrQ2FsbEJhY2sgPQ0KCXsNCgkJaW50U3RlcAkJCQk6IDAsDQoJCWJvb2xSZXF1ZXN0UGhhc2UJOiB0cnVlLA0KCQkNCgkJbm90aWZ5IAk6IGZ1bmN0aW9uKHRpbWVyKQ0KCQl7DQoJCQl0aGlzLmRvVGVzdCgpOw0KCQl9LA0KCQkNCgkJZG9UZXN0IDogZnVuY3Rpb24oKQ0KCQl7DQoJCQlpZih0aGlzLnBhcmVudC5vYmpDYWxsZXJDbGFzcy5ib29sVGVzdGVyTWFya2VkVG9EaWUpDQoJCQl7DQoJCQkJbG9nVG9GaWxlKCI9PiBDb2RlRXhlY3V0aW9uVGVzdGVyID0+IGRvVGVzdDogdXNlckFib3J0UmVxdWVzdCBkZXRlY3RlZCAoYm9vbEFib3J0U2NhbiA9IHRydWUpIik7DQoJCQkJcmV0dXJuOw0KCQkJfQ0KCQkJaWYodGhpcy5ib29sUmVxdWVzdFBoYXNlKQ0KCQkJew0KCQkJCXRoaXMuYm9vbFJlcXVlc3RQaGFzZSA9IGZhbHNlOw0KCQkJCXRoaXMucGFyZW50LmRvUmVxdWVzdEpzb24oDQoJCQkJCXsNCgkJCQkJCW9iakNhbGxlckNsYXNzIAkJCQk6IHRoaXMucGFyZW50LA0KCQkJCQkJc3RyVGVzdFN0cmluZwkJCQk6IHRoaXMucGFyZW50LmFycmF5SW5qZWN0aW9uVGVzdENvbmRpdGlvbnNbdGhpcy5pbnRTdGVwXSwNCgkJCQkJCWludFJlZGlyZWN0aW9uTGltaXQJCQk6IDEwLA0KCQkJCQkJYm9vbERlbGV0ZU9yaWdpbmFsQ29va2llCTogdHJ1ZSwNCgkJCQkJCWJvb2xEZWxldGVPcmlnaW5hbEhlYWRlcnMJOiBmYWxzZSwNCgkJCQkJCWludEVzY2FwZU1ldGhvZAkJCQk6IDANCgkJCQkJfSk7DQoJCQkJcmV0dXJuOw0KCQkJfQ0KCQkJZWxzZQ0KCQkJew0KCQkJCUxvZ0hUVFBUb0ZpbGUodGhpcy5wYXJlbnQub2JqVGFza1Jlc3VsdCwgZmFsc2UpOw0KCQkJCQ0KCQkJCWlmKHRoaXMucGFyZW50Lm9ialRhc2tSZXN1bHQuaW50RXJyb3JDb2RlID09IDApDQoJCQkJew0KCQkJCQlpZihzZWFyY2hGb3JDb2RlRXhlY3V0aW9uKHRoaXMucGFyZW50Lm9ialRhc2tSZXN1bHQuc3RyUmVzcG9uc2VUZXh0LHRydWUpKQ0KCQkJCQl7DQoJCQkJCQl0aGlzLnBhcmVudC5mbmNFeGl0VGVzdCh0cnVlLCB0aGlzLnBhcmVudC5zdHJYVUxNZW51VGV4dCk7DQoJCQkJCQlyZXR1cm47DQoJCQkJCX0NCg0KCQkJCX0NCgkJCQkNCgkJCQl0aGlzLmJvb2xSZXF1ZXN0UGhhc2UgPSB0cnVlOw0KCQkJCXRoaXMuaW50U3RlcCArKzsNCgkJCQlpZih0aGlzLmludFN0ZXAgPj0gdGhpcy5wYXJlbnQuYXJyYXlJbmplY3Rpb25UZXN0Q29uZGl0aW9ucy5sZW5ndGgpDQoJCQkJew0KCQkJCQl0aGlzLnBhcmVudC5mbmNFeGl0VGVzdChmYWxzZSk7DQoJCQkJCXJldHVybjsNCgkJCQl9DQoJCQkJLy9yZXRyaWdnZXIgdGhlIHRlc3QgcHJvY2VkdXJlDQoJCQkJdGhpcy5kb1Rlc3QoKTsNCgkJCQlyZXR1cm47DQoJCQl9DQoJCX0NCgl9DQoJDQoJLy93ZSBoYXZlIHRvIHNwZWNpZnkgZm5jVGFza0NhbGxCYWNrIHBhcnJlbnQgc2luY2UgaXQgd2lsbCBiZSBjYWxsZWQgZnJvbSBvdGhlciBzY29wZQ0KCXRoaXMuZm5jVGFza0NhbGxCYWNrLnBhcmVudAk9IHRoaXM7DQoJDQoJLy9pbml0aWFsaXplIHRoZSB0ZXN0IHByb2NlZHVyZQ0KCXRoaXMuZm5jVGFza0NhbGxCYWNrLmRvVGVzdCgpOw0KCQ0KfQ0KDQovL3JlZ2lzdGVyIHRoZSB0ZXN0ZXIgb2JqZWN0DQpDb2RlRXhlY3V0aW9uVGVzdGVyLnJlZ2lzdGVyKCk7DQo=')); ]]></script>
<script><![CDATA[ eval(atob('dmFyIFhQYXRoSW5qZWN0aW9uVGVzdGVyCQkJCQk9IG5ldyBjbGFzc0dlbmVyaWNUZXN0ZXIoKTsNClhQYXRoSW5qZWN0aW9uVGVzdGVyLnN0clhVTE1lbnVJZAkJCT0gImFjdW5ldGl4X3Rlc3R0eXBlX1hQYXRoSW5qZWN0aW9uIjsNClhQYXRoSW5qZWN0aW9uVGVzdGVyLnN0clhVTE1lbnVUZXh0CQkJPSAiWFBhdGggSW5qZWN0aW9uIjsNClhQYXRoSW5qZWN0aW9uVGVzdGVyLnN0clhVTE1lbnVIaW50CQkJPSAiU2NhbiBmb3IgWFBhdGggSW5qZWN0aW9uIFZ1bG5lcmFiaWxpdGllcyI7DQpYUGF0aEluamVjdGlvblRlc3Rlci5zdHJYVUxNZW51QWNjZXNza2V5CT0gIlgiOw0KWFBhdGhJbmplY3Rpb25UZXN0ZXIuc3RyVHlwZQkJCQk9ICJYUGF0aCBJbmplY3Rpb24iOw0KWFBhdGhJbmplY3Rpb25UZXN0ZXIuc3RyVGVzdE5hbWUJCQk9ICJYUGF0aCBJbmplY3Rpb24iOw0KWFBhdGhJbmplY3Rpb25UZXN0ZXIuc2V2ZXJpdHkJCQkJPSAiTWVkaXVtIjsNClhQYXRoSW5qZWN0aW9uVGVzdGVyLnN0ckRlc2NyaXB0aW9uCQkJPSAiaHR0cDovL3d3dy5hY3VuZXRpeC5jb20vd2Vic2l0ZXNlY3VyaXR5LyI7DQpYUGF0aEluamVjdGlvblRlc3Rlci53dnNDb3JlbGF0aW9uSUQJCT0gIlhQYXRoX0luamVjdGlvbi54bWwiOw0KWFBhdGhJbmplY3Rpb25UZXN0ZXIuZW5hYmxlZAkJCQk9IGZhbHNlOw0KLypJTVBMRU1FTlRBVElPTiovDQpYUGF0aEluamVjdGlvblRlc3Rlci5lbmFibGVkCQkJCT0gdHJ1ZTsNCg0KZnVuY3Rpb24gc2VhcmNoRm9yWFBhdGhJbmplY3Rpb24oc3RySW5wdXRUZXh0LCBib29sSnVzdFJldHVybk9uRmlyc3RFcnJvcikNCnsNCglpZiAoYm9vbEp1c3RSZXR1cm5PbkZpcnN0RXJyb3IgPT0gbnVsbCkgYm9vbEp1c3RSZXR1cm5PbkZpcnN0RXJyb3IgPSBmYWxzZTsNCgl2YXIgcmV0dmFsID0gbmV3IEFycmF5KCk7DQoJDQoJYXJyYXlJbmplY3Rpb25UZXN0Q29uZGl0aW9ucyA9IG5ldyBBcnJheQ0KCSgNCgkJbmV3IEFycmF5KHtyZWdleCA6IC8oPGI+XHNFeGNlcHRpb25cc0RldGFpbHM6XHM8XC9iPlN5c3RlbVwuWG1sXC5YUGF0aFwuWFBhdGhFeGNlcHRpb246XHMnLionXHNoYXNcc2FuXHNpbnZhbGlkXHN0b2tlblwuPGJyPjxicj4pL2ksIGNvbmRpdGlvbiA6IHRydWV9KSwNCgkJbmV3IEFycmF5KHtyZWdleCA6IC8oPGI+XHNFeGNlcHRpb25cc0RldGFpbHM6XHM8XC9iPlN5c3RlbVwuWG1sXC5YUGF0aFwuWFBhdGhFeGNlcHRpb246XHNUaGlzXHNpc1xzYW5cc3VuY2xvc2VkXHNzdHJpbmdcLjxicj48YnI+KS9pLCBjb25kaXRpb24gOiB0cnVlfSksDQoJCW5ldyBBcnJheSh7cmVnZXggOiAvKFN5c3RlbS5YbWwuWFBhdGguWFBhdGhFeGNlcHRpb25cOlwgKS9pLCBjb25kaXRpb24gOiB0cnVlfSkNCgkJDQoJKTsNCgkJCQkgIA0KCWZvciggdmFyIGkgPSAwOyBpIDwgYXJyYXlJbmplY3Rpb25UZXN0Q29uZGl0aW9ucy5sZW5ndGg7IGkrKykNCgl7DQoJCXZhciBib29sQm9uZGl0aW9uID0gdHJ1ZTsNCgkJZm9yKHZhciBqID0gMDsgaiA8IGFycmF5SW5qZWN0aW9uVGVzdENvbmRpdGlvbnNbaV0ubGVuZ3RoOyBqKyspDQoJCXsNCgkJCXZhciBtYXRjaCA9IChhcnJheUluamVjdGlvblRlc3RDb25kaXRpb25zW2ldW2pdLnJlZ2V4LmV4ZWMoc3RySW5wdXRUZXh0KSAhPSBudWxsKTsNCgkJCWlmKG1hdGNoICE9IGFycmF5SW5qZWN0aW9uVGVzdENvbmRpdGlvbnNbaV1bal0uY29uZGl0aW9uKQ0KCQkJew0KCQkJCWJvb2xCb25kaXRpb24gPSBmYWxzZTsNCgkJCQlicmVhazsNCgkJCX0NCgkJfQ0KCQkNCgkJaWYgKGJvb2xCb25kaXRpb24pDQoJCXsNCgkJCWlmIChib29sSnVzdFJldHVybk9uRmlyc3RFcnJvcikNCgkJCQlyZXR1cm4odHJ1ZSk7DQoJCQlyZXR2YWwucHVzaChpKTsNCgkJfQ0KCX0NCglpZiAoYm9vbEp1c3RSZXR1cm5PbkZpcnN0RXJyb3IpDQoJCXJldHVybihmYWxzZSk7DQoJZWxzZQ0KCQlyZXR1cm4ocmV0dmFsKTsNCn0NCg0KWFBhdGhJbmplY3Rpb25UZXN0ZXIuZG9UZXN0ID0gZnVuY3Rpb24ob2JqQ2FsbGVyQ2xhc3MpDQp7DQoJdGhpcy5vYmpDYWxsZXJDbGFzcwkJPSBvYmpDYWxsZXJDbGFzczsNCgl0aGlzLm9ialRhc2tSZXN1bHQJIAk9IG9iakNhbGxlckNsYXNzLm9ialRhc2tSZXN1bHQ7DQoJDQoJLy9pbmplY3RlZCB2YWx1ZXMJCQkJICANCgl0aGlzLmFycmF5WFBhdGhJbmplY3Rpb25UZXN0VmFsdWVzID0gbmV3IEFycmF5DQoJKA0KCQkiJ1wiIiwJCS8vCVNpbmdsZSBhbmQgZG91YmxlIHF1b3RlDQoJCSIvIgkJCS8vIFZhcmlhbnQxDQoJKQ0KCQkNCgkvL3RoZSB0YXNjayBjYWxiYWNrIGNsYXNzIHdpdGggbm90aWZ5IGZ1bmN0aW9uIGZvciBiZSB1c2VkIHdpdGggdGltZXIgY2FsbA0KCXRoaXMuZm5jVGFza0NhbGxCYWNrID0NCgl7DQoJCWludFN0ZXAJCQkJOiAwLA0KCQlib29sUmVxdWVzdFBoYXNlCTogdHJ1ZSwNCgkJc3RyVGVzdFN0cmluZwkJOiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqMTM0NTY3MCksDQoJCQ0KCQlub3RpZnkgCTogZnVuY3Rpb24odGltZXIpDQoJCXsNCgkJCXRoaXMuZG9UZXN0KCk7DQoJCX0sDQoJCQ0KCQlkb1Rlc3QgOiBmdW5jdGlvbigpDQoJCXsNCgkJCWlmKHRoaXMucGFyZW50Lm9iakNhbGxlckNsYXNzLmJvb2xUZXN0ZXJNYXJrZWRUb0RpZSkNCgkJCXsNCgkJCQlsb2dUb0ZpbGUoIj0+IFhQYXRoSW5qZWN0aW9uVGVzdGVyID0+IGRvVGVzdDogdXNlckFib3J0UmVxdWVzdCBkZXRlY3RlZCAoYm9vbEFib3J0U2NhbiA9IHRydWUpIik7DQoJCQkJcmV0dXJuOw0KCQkJfQ0KCQkJDQoJCQlpZih0aGlzLmJvb2xSZXF1ZXN0UGhhc2UpDQoJCQl7DQoJCQkJdGhpcy5ib29sUmVxdWVzdFBoYXNlID0gZmFsc2U7DQoJCQkJdGhpcy5wYXJlbnQuZG9SZXF1ZXN0SnNvbigNCgkJCQkJew0KCQkJCQkJb2JqQ2FsbGVyQ2xhc3MgCQkJCTogdGhpcy5wYXJlbnQsDQoJCQkJCQlzdHJUZXN0U3RyaW5nCQkJCTogdGhpcy5wYXJlbnQuYXJyYXlYUGF0aEluamVjdGlvblRlc3RWYWx1ZXNbdGhpcy5pbnRTdGVwXSwNCgkJCQkJCWFycmF5QWNjZXB0ZWRDb250ZW50VHlwZXMgCTogbmV3IEFycmF5KCksDQoJCQkJCQlpbnRSZWRpcmVjdGlvbkxpbWl0CQkJOiAxMCwNCgkJCQkJCWJvb2xEZWxldGVPcmlnaW5hbENvb2tpZQk6IHRydWUsDQoJCQkJCQlib29sRGVsZXRlT3JpZ2luYWxIZWFkZXJzCTogZmFsc2UsDQoJCQkJCQlpbnRFc2NhcGVNZXRob2QJCQkJOiAwDQoJCQkJCX0pOw0KCQkJCXJldHVybjsNCgkJCX0NCgkJCWVsc2UNCgkJCXsNCgkJCQlMb2dIVFRQVG9GaWxlKHRoaXMucGFyZW50Lm9ialRhc2tSZXN1bHQsIGZhbHNlKTsNCgkJCQkNCgkJCQlpZih0aGlzLnBhcmVudC5vYmpUYXNrUmVzdWx0LmludEVycm9yQ29kZSA9PSAwKQ0KCQkJCXsNCgkJCQkJaWYoc2VhcmNoRm9yWFBhdGhJbmplY3Rpb24odGhpcy5wYXJlbnQub2JqVGFza1Jlc3VsdC5zdHJSZXNwb25zZVRleHQsdHJ1ZSkpDQoJCQkJCXsNCgkJCQkJCXRoaXMucGFyZW50LmZuY0V4aXRUZXN0KHRydWUsIHRoaXMucGFyZW50LnN0clhVTE1lbnVUZXh0KTsNCgkJCQkJCXJldHVybjsNCgkJCQkJfQ0KDQoJCQkJfQ0KCQkJCQ0KCQkJCXRoaXMuYm9vbFJlcXVlc3RQaGFzZSA9IHRydWU7DQoJCQkJdGhpcy5pbnRTdGVwICsrOw0KCQkJCWlmKHRoaXMuaW50U3RlcCA+PSB0aGlzLnBhcmVudC5hcnJheVhQYXRoSW5qZWN0aW9uVGVzdFZhbHVlcy5sZW5ndGgpDQoJCQkJew0KCQkJCQl0aGlzLnBhcmVudC5mbmNFeGl0VGVzdChmYWxzZSk7DQoJCQkJCXJldHVybjsNCgkJCQl9DQoJCQkJLy9yZXRyaWdnZXIgdGhlIHRlc3QgcHJvY2VkdXJlDQoJCQkJdGhpcy5kb1Rlc3QoKTsNCgkJCQlyZXR1cm47DQoJCQl9DQoJCX0NCgl9DQoJDQoJLy93ZSBoYXZlIHRvIHNwZWNpZnkgZm5jVGFza0NhbGxCYWNrIHBhcnJlbnQgc2luY2UgaXQgd2lsbCBiZSBjYWxsZWQgZnJvbSBvdGhlciBzY29wZQ0KCXRoaXMuZm5jVGFza0NhbGxCYWNrLnBhcmVudAk9IHRoaXM7DQoJDQoJLy9pbml0aWFsaXplIHRoZSB0ZXN0IHByb2NlZHVyZQ0KCXRoaXMuZm5jVGFza0NhbGxCYWNrLmRvVGVzdCgpOw0KCQ0KfQ0KDQoNCi8vcmVnaXN0ZXIgdGhlIHRlc3RlciBvYmplY3QNClhQYXRoSW5qZWN0aW9uVGVzdGVyLnJlZ2lzdGVyKCk7DQo=')); ]]></script>
<script><![CDATA[ eval(atob('LyoNCkF1dGhvcjoJCUJsYWRlDQpQdXJwb3NlOglUaGUgTERBUCBpbmplY3Rpb24gdGVzdA0KKi8NCg0KdmFyIExEQVBJbmplY3Rpb25UZXN0ZXIJCQkJCQk9IG5ldyBjbGFzc0dlbmVyaWNUZXN0ZXIoKTsNCkxEQVBJbmplY3Rpb25UZXN0ZXIuc3RyWFVMTWVudUlkCQkJPSAiYWN1bmV0aXhfdGVzdHR5cGVfTERBUEluamVjdGlvbiI7DQpMREFQSW5qZWN0aW9uVGVzdGVyLnN0clhVTE1lbnVUZXh0CQkJPSAiTERBUCBJbmplY3Rpb24iOw0KTERBUEluamVjdGlvblRlc3Rlci5zdHJYVUxNZW51SGludAkJCT0gIlNjYW4gZm9yIExEQVAgSW5qZWN0aW9uIFZ1bG5lcmFiaWxpdGllcyI7DQpMREFQSW5qZWN0aW9uVGVzdGVyLnN0clhVTE1lbnVBY2Nlc3NrZXkJCT0gIkwiOw0KTERBUEluamVjdGlvblRlc3Rlci5zdHJUeXBlCQkJCQk9ICJMREFQIEluamVjdGlvbiI7DQpMREFQSW5qZWN0aW9uVGVzdGVyLnN0clRlc3ROYW1lCQkJCT0gIkxEQVAgSW5qZWN0aW9uIjsNCkxEQVBJbmplY3Rpb25UZXN0ZXIuc2V2ZXJpdHkJCQkJPSAiTWVkaXVtIjsNCkxEQVBJbmplY3Rpb25UZXN0ZXIuc3RyRGVzY3JpcHRpb24JCQk9ICJodHRwOi8vd3d3LmFjdW5ldGl4LmNvbS93ZWJzaXRlc2VjdXJpdHkvIjsNCkxEQVBJbmplY3Rpb25UZXN0ZXIud3ZzQ29yZWxhdGlvbklECQkJPSAiTERBUF9pbmplY3Rpb24ueG1sIjsNCkxEQVBJbmplY3Rpb25UZXN0ZXIuZW5hYmxlZAkJCQk9IGZhbHNlOw0KLypJTVBMRU1FTlRBVElPTiovDQpMREFQSW5qZWN0aW9uVGVzdGVyLmVuYWJsZWQJCQkJPSB0cnVlOw0KDQpmdW5jdGlvbiBzZWFyY2hGb3JMREFQSW5qZWN0aW9uKHN0cklucHV0VGV4dCwgYm9vbEp1c3RSZXR1cm5PbkZpcnN0RXJyb3IpDQp7DQoJaWYgKGJvb2xKdXN0UmV0dXJuT25GaXJzdEVycm9yID09IG51bGwpIGJvb2xKdXN0UmV0dXJuT25GaXJzdEVycm9yID0gZmFsc2U7DQoJdmFyIHJldHZhbCA9IG5ldyBBcnJheSgpOw0KCQ0KCWFycmF5SW5qZWN0aW9uVGVzdENvbmRpdGlvbnMgPSBuZXcgQXJyYXkNCgkoDQoJCW5ldyBBcnJheSh7cmVnZXggOiAvKElQV29ya3NBU1BcLkxEQVAuKjgwMGE0ZjcwLipcWzMzNVxdXHNcKG5vIGRlc2NyaXB0aW9uXHNhdmFpbGFibGVcKSkvaSwgY29uZGl0aW9uIDogdHJ1ZX0pLA0KCQluZXcgQXJyYXkoe3JlZ2V4IDogLyg8c3Bhbj48SDE+U2VydmVyIEVycm9yIGluICcuKj8nIEFwcGxpY2F0aW9uLio8aDI+XHM8aT5UaGUuKnNlYXJjaCBmaWx0ZXIgaXMgaW52YWxpZFwuPFwvaT4pL2ksIGNvbmRpdGlvbiA6IHRydWV9KQkNCgkpOw0KCQkJCSAgDQoJZm9yKCB2YXIgaSA9IDA7IGkgPCBhcnJheUluamVjdGlvblRlc3RDb25kaXRpb25zLmxlbmd0aDsgaSsrKQ0KCXsNCgkJdmFyIGJvb2xCb25kaXRpb24gPSB0cnVlOw0KCQlmb3IodmFyIGogPSAwOyBqIDwgYXJyYXlJbmplY3Rpb25UZXN0Q29uZGl0aW9uc1tpXS5sZW5ndGg7IGorKykNCgkJew0KCQkJdmFyIG1hdGNoID0gKGFycmF5SW5qZWN0aW9uVGVzdENvbmRpdGlvbnNbaV1bal0ucmVnZXguZXhlYyhzdHJJbnB1dFRleHQpICE9IG51bGwpOw0KCQkJaWYobWF0Y2ggIT0gYXJyYXlJbmplY3Rpb25UZXN0Q29uZGl0aW9uc1tpXVtqXS5jb25kaXRpb24pDQoJCQl7DQoJCQkJYm9vbEJvbmRpdGlvbiA9IGZhbHNlOw0KCQkJCWJyZWFrOw0KCQkJfQ0KCQl9DQoJCQ0KCQlpZiAoYm9vbEJvbmRpdGlvbikNCgkJew0KCQkJaWYgKGJvb2xKdXN0UmV0dXJuT25GaXJzdEVycm9yKQ0KCQkJCXJldHVybih0cnVlKTsNCgkJCXJldHZhbC5wdXNoKGkpOw0KCQl9DQoJfQ0KCWlmIChib29sSnVzdFJldHVybk9uRmlyc3RFcnJvcikNCgkJcmV0dXJuKGZhbHNlKTsNCgllbHNlDQoJCXJldHVybihyZXR2YWwpOw0KfQ0KDQpMREFQSW5qZWN0aW9uVGVzdGVyLmRvVGVzdCA9IGZ1bmN0aW9uKG9iakNhbGxlckNsYXNzKQ0Kew0KCXRoaXMub2JqQ2FsbGVyQ2xhc3MJCT0gb2JqQ2FsbGVyQ2xhc3M7DQoJDQoJLy9pbmplY3RlZCB2YWx1ZXMJCQkJICANCgl0aGlzLmFycmF5TERBUEluamVjdGlvblRlc3RWYWx1ZXMgPSBuZXcgQXJyYXkNCgkoDQoJCSIpIiwJCQkJCQkJCQkvLwlTaW1wbGUNCgkJIiEoJTI4JTI5JiUyNiUyMSU3Qyp8JTJBJTdDIgkJCS8vIFZhcmlhbnQxDQoJKQ0KCQ0KCQkNCgkvL3JlcXVlc3QgcmVzdWx0IGNvbnRhaW5lcgkNCgl0aGlzLm9ialRhc2tSZXN1bHQgPSB0aGlzLm9iakNhbGxlckNsYXNzLm9ialRhc2tSZXN1bHQ7DQoJDQoJLy90aGUgdGFzY2sgY2FsYmFjayBjbGFzcyB3aXRoIG5vdGlmeSBmdW5jdGlvbiBmb3IgYmUgdXNlZCB3aXRoIHRpbWVyIGNhbGwNCgl0aGlzLmZuY1Rhc2tDYWxsQmFjayA9DQoJew0KCQlpbnRTdGVwCQkJCTogMCwNCgkJYm9vbFJlcXVlc3RQaGFzZQk6IHRydWUsDQoJCXN0clRlc3RTdHJpbmcJCTogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjEzNDU2NzApLA0KCQkNCgkJbm90aWZ5IAk6IGZ1bmN0aW9uKHRpbWVyKQ0KCQl7DQoJCQl0aGlzLmRvVGVzdCgpOw0KCQl9LA0KCQkNCgkJZG9UZXN0IDogZnVuY3Rpb24oKQ0KCQl7DQoJCQlpZih0aGlzLnBhcmVudC5vYmpDYWxsZXJDbGFzcy5ib29sVGVzdGVyTWFya2VkVG9EaWUpDQoJCQl7DQoJCQkJbG9nVG9GaWxlKCI9PiBMREFQSW5qZWN0aW9uVGVzdGVyID0+IGRvVGVzdDogdXNlckFib3J0UmVxdWVzdCBkZXRlY3RlZCAoYm9vbEFib3J0U2NhbiA9IHRydWUpIik7DQoJCQkJcmV0dXJuOw0KCQkJfQ0KCQkJDQoJCQlpZih0aGlzLmJvb2xSZXF1ZXN0UGhhc2UpDQoJCQl7DQoJCQkJdGhpcy5ib29sUmVxdWVzdFBoYXNlID0gZmFsc2U7DQoJCQkJdGhpcy5wYXJlbnQuZG9SZXF1ZXN0SnNvbigNCgkJCQkJew0KCQkJCQkJb2JqQ2FsbGVyQ2xhc3MgCQkJCTogdGhpcy5wYXJlbnQsDQoJCQkJCQlzdHJUZXN0U3RyaW5nCQkJCTogdGhpcy5wYXJlbnQuYXJyYXlMREFQSW5qZWN0aW9uVGVzdFZhbHVlc1t0aGlzLmludFN0ZXBdLA0KCQkJCQkJYXJyYXlBY2NlcHRlZENvbnRlbnRUeXBlcyAJOiBuZXcgQXJyYXkoKSwNCgkJCQkJCWludFJlZGlyZWN0aW9uTGltaXQJCQk6IDEwLA0KCQkJCQkJYm9vbERlbGV0ZU9yaWdpbmFsQ29va2llCTogdHJ1ZSwNCgkJCQkJCWJvb2xEZWxldGVPcmlnaW5hbEhlYWRlcnMJOiBmYWxzZSwNCgkJCQkJCWludEVzY2FwZU1ldGhvZAkJCQk6IDANCgkJCQkJfSk7DQoJCQkJcmV0dXJuOw0KCQkJfQ0KCQkJZWxzZQ0KCQkJew0KCQkJCUxvZ0hUVFBUb0ZpbGUodGhpcy5wYXJlbnQub2JqVGFza1Jlc3VsdCwgZmFsc2UpOw0KCQkJCQ0KCQkJCWlmKHRoaXMucGFyZW50Lm9ialRhc2tSZXN1bHQuaW50RXJyb3JDb2RlID09IDApDQoJCQkJew0KCQkJCQlpZihzZWFyY2hGb3JMREFQSW5qZWN0aW9uKHRoaXMucGFyZW50Lm9ialRhc2tSZXN1bHQuc3RyUmVzcG9uc2VUZXh0LHRydWUpKQ0KCQkJCQl7DQoJCQkJCQl0aGlzLnBhcmVudC5mbmNFeGl0VGVzdCh0cnVlLCB0aGlzLnBhcmVudC5zdHJYVUxNZW51VGV4dCk7DQoJCQkJCQlyZXR1cm47DQoJCQkJCX0NCg0KCQkJCX0NCgkJCQkNCgkJCQl0aGlzLmJvb2xSZXF1ZXN0UGhhc2UgPSB0cnVlOw0KCQkJCXRoaXMuaW50U3RlcCArKzsNCgkJCQlpZih0aGlzLmludFN0ZXAgPj0gdGhpcy5wYXJlbnQuYXJyYXlMREFQSW5qZWN0aW9uVGVzdFZhbHVlcy5sZW5ndGgpDQoJCQkJew0KCQkJCQl0aGlzLnBhcmVudC5mbmNFeGl0VGVzdChmYWxzZSk7DQoJCQkJCXJldHVybjsNCgkJCQl9DQoJCQkJLy9yZXRyaWdnZXIgdGhlIHRlc3QgcHJvY2VkdXJlDQoJCQkJdGhpcy5kb1Rlc3QoKTsNCgkJCQlyZXR1cm47DQoJCQl9DQoJCX0NCgl9DQoJDQoJLy93ZSBoYXZlIHRvIHNwZWNpZnkgZm5jVGFza0NhbGxCYWNrIHBhcnJlbnQgc2luY2UgaXQgd2lsbCBiZSBjYWxsZWQgZnJvbSBvdGhlciBzY29wZQ0KCXRoaXMuZm5jVGFza0NhbGxCYWNrLnBhcmVudAk9IHRoaXM7DQoJDQoJLy9pbml0aWFsaXplIHRoZSB0ZXN0IHByb2NlZHVyZQ0KCXRoaXMuZm5jVGFza0NhbGxCYWNrLmRvVGVzdCgpOw0KCQ0KfQ0KDQoNCi8vcmVnaXN0ZXIgdGhlIHRlc3RlciBvYmplY3QNCkxEQVBJbmplY3Rpb25UZXN0ZXIucmVnaXN0ZXIoKTsNCg==')); ]]></script>
<script><![CDATA[ eval(atob('LyoNCkF1dGhvcjoJCUJsYWRlDQpQdXJwb3NlOglVUkwgcmVkaXJlY3Rpb24gdGVzdA0KKi8NCg0KdmFyIFVSTFJlZGlyZWN0aW9uVGVzdGVyCQkJCQkJPSBuZXcgY2xhc3NHZW5lcmljVGVzdGVyKCk7DQpVUkxSZWRpcmVjdGlvblRlc3Rlci5zdHJYVUxNZW51SWQJCQkJPSAiYWN1bmV0aXhfdGVzdHR5cGVfVVJMUmVkaXJlY3Rpb24iOw0KVVJMUmVkaXJlY3Rpb25UZXN0ZXIuc3RyWFVMTWVudVRleHQJCQkJPSAiVVJMIFJlZGlyZWN0aW9uIjsNClVSTFJlZGlyZWN0aW9uVGVzdGVyLnN0clhVTE1lbnVIaW50CQkJCT0gIlNjYW4gZm9yIFVSTCBSZWRpcmVjdGlvbiI7DQpVUkxSZWRpcmVjdGlvblRlc3Rlci5zdHJYVUxNZW51QWNjZXNza2V5CQk9ICJSIjsNClVSTFJlZGlyZWN0aW9uVGVzdGVyLnN0clR5cGUJCQkJCT0gIlVSTCBSZWRpcmVjdGlvbiI7DQpVUkxSZWRpcmVjdGlvblRlc3Rlci5zdHJUZXN0TmFtZQkJCQk9ICJVUkwgUmVkaXJlY3Rpb24iOw0KVVJMUmVkaXJlY3Rpb25UZXN0ZXIuc2V2ZXJpdHkJCQkJCT0gIkluZm8iOw0KVVJMUmVkaXJlY3Rpb25UZXN0ZXIuc3RyRGVzY3JpcHRpb24JCQkJPSAiaHR0cDovL3d3dy5hY3VuZXRpeC5jb20vd2Vic2l0ZXNlY3VyaXR5LyI7DQpVUkxSZWRpcmVjdGlvblRlc3Rlci53dnNDb3JlbGF0aW9uSUQJCQk9ICJVUkxfcmVkaXJlY3Rpb24ueG1sIjsNClVSTFJlZGlyZWN0aW9uVGVzdGVyLmVuYWJsZWQJCQkJPSBmYWxzZTsNCi8qSU1QTEVNRU5UQVRJT04qLw0KVVJMUmVkaXJlY3Rpb25UZXN0ZXIuZW5hYmxlZAkJCQk9IHRydWU7DQoNCmZ1bmN0aW9uIHNlYXJjaEZvclVSTFJlZGlyZWN0aW9uKG9ialRhc2tSZXN1bHQsIG9ialRlc3RDbGFzcykNCnsNCgkNCglpZiAJKG9ialRhc2tSZXN1bHQuaW50UmVwb25zZVN0YXR1cyA9PSAyMDApDQoJew0KCQl2YXIgc3RyRmlsdGVyZWRSZXNwb25zZVRleHQgPSBvYmpUYXNrUmVzdWx0LnN0clJlc3BvbnNlVGV4dDsNCgkJDQoJCW9ialRlc3RDbGFzcy5sb2FkU3RyaW5nSW5Ub1RoZUhUTUxQYXJzZXIoc3RyRmlsdGVyZWRSZXNwb25zZVRleHQsWyJmaWx0ZXJSZWRpcmVjdCIsICJmaWx0ZXJTY3JpcHQiLCAic2lsZW50QWxlcnQiXSk7DQoJCQ0KCQl2YXIgYm9vbFJldHZhbCA9IG9ialRlc3RDbGFzcy5odG1sUGFyc2VyVGVzdEZvclRhZygibWV0YXgiLEFycmF5KCJodHRwLWVxdWl2PXJlZnJlc2giLCJjb250ZW50PnVybD1odHRwOi8vd3d3LmFjdW5ldGl4LmNvbSIpKTsNCgkJcmV0dXJuKGJvb2xSZXR2YWwpOw0KCX0NCglpZiAJKChvYmpUYXNrUmVzdWx0LmludFJlcG9uc2VTdGF0dXMgPT0gMzAxKSB8fCAob2JqVGFza1Jlc3VsdC5pbnRSZXBvbnNlU3RhdHVzID09IDMwMikpIHsNCgkJCS8vIHRlc3QgdGhlIGxvY2F0aW9uDQoJCQl2YXIgc3RyTG9jYXRpb24gPSAvTG9jYXRpb25ccyo6XHMqaHR0cDpcL1wvKHd3dy5hY3VuZXRpeC5jb20pL2kuZXhlYyhvYmpUYXNrUmVzdWx0LnN0clJlc3BvbnNlSGVhZGVyKTsJCQkNCgkJCS8vIGNoZWNrIGZvciBtYXRjaA0KCQkJaWYgKChzdHJMb2NhdGlvbiA9PSBudWxsKSB8fCAoc3RyTG9jYXRpb24ubGVuZ3RoIDw9MSApKSByZXR1cm4oZmFsc2UpOw0KCQ0KCQkJaWYgKHN0ckxvY2F0aW9uWzFdID09ICJ3d3cuYWN1bmV0aXguY29tIikgew0KCQkJCXJldHVybih0cnVlKTsJDQoJCQl9DQoJfQ0KCQ0KCXJldHVybihmYWxzZSk7DQp9DQoNClVSTFJlZGlyZWN0aW9uVGVzdGVyLmRvVGVzdCA9IGZ1bmN0aW9uKG9iakNhbGxlckNsYXNzKQ0Kew0KCXRoaXMub2JqQ2FsbGVyQ2xhc3MJCT0gb2JqQ2FsbGVyQ2xhc3M7DQoJDQoJLy9pbmplY3RlZCB2YWx1ZXMJCQkJICANCgl0aGlzLmFycmF5VVJMUmVkaXJlY3Rpb25UZXN0VmFsdWVzID0gbmV3IEFycmF5DQoJKA0KCQkiaHR0cDovL3d3dy5hY3VuZXRpeC5jb20iCQkJCQkvLwlTaW1wbGUNCgkpDQoJDQoJCQ0KCS8vcmVxdWVzdCByZXN1bHQgY29udGFpbmVyCQ0KCXRoaXMub2JqVGFza1Jlc3VsdCA9IG9iakNhbGxlckNsYXNzLm9ialRhc2tSZXN1bHQ7DQoJCQ0KCS8vdGhlIHRhc2NrIGNhbGJhY2sgY2xhc3Mgd2l0aCBub3RpZnkgZnVuY3Rpb24gZm9yIGJlIHVzZWQgd2l0aCB0aW1lciBjYWxsDQoJdGhpcy5mbmNUYXNrQ2FsbEJhY2sgPQ0KCXsNCgkJaW50U3RlcAkJCQk6IDAsDQoJCWJvb2xSZXF1ZXN0UGhhc2UJOiB0cnVlLA0KCQlzdHJUZXN0U3RyaW5nCQk6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxMzQ1NjcwKSwNCgkJCQkNCgkJbm90aWZ5IAk6IGZ1bmN0aW9uKHRpbWVyKQ0KCQl7DQoJCQl0aGlzLmRvVGVzdCgpOw0KCQl9LA0KCQkNCgkJZG9UZXN0IDogZnVuY3Rpb24oKQ0KCQl7DQoJCQlpZih0aGlzLnBhcmVudC5vYmpDYWxsZXJDbGFzcy5ib29sVGVzdGVyTWFya2VkVG9EaWUpDQoJCQl7DQoJCQkJbG9nVG9GaWxlKCI9PiBVUkxSZWRpcmVjdGlvblRlc3RlciA9PiBkb1Rlc3Q6IHVzZXJBYm9ydFJlcXVlc3QgZGV0ZWN0ZWQgKGJvb2xBYm9ydFNjYW4gPSB0cnVlKSIpOw0KCQkJCXJldHVybjsNCgkJCX0NCgkJCQ0KCQkJaWYodGhpcy5ib29sUmVxdWVzdFBoYXNlKQ0KCQkJew0KCQkJCXRoaXMuYm9vbFJlcXVlc3RQaGFzZSA9IGZhbHNlOw0KCQkJCXRoaXMucGFyZW50LmRvUmVxdWVzdEpzb24oDQoJCQkJCXsNCgkJCQkJCW9iakNhbGxlckNsYXNzIAkJCQk6IHRoaXMucGFyZW50LA0KCQkJCQkJc3RyVGVzdFN0cmluZwkJCQk6IHRoaXMucGFyZW50LmFycmF5VVJMUmVkaXJlY3Rpb25UZXN0VmFsdWVzW3RoaXMuaW50U3RlcF0sDQoJCQkJCQlhcnJheUFjY2VwdGVkQ29udGVudFR5cGVzIAk6IG5ldyBBcnJheSgpLA0KCQkJCQkJaW50UmVkaXJlY3Rpb25MaW1pdAkJCTogMCwNCgkJCQkJCWJvb2xEZWxldGVPcmlnaW5hbENvb2tpZQk6IHRydWUsDQoJCQkJCQlib29sRGVsZXRlT3JpZ2luYWxIZWFkZXJzCTogZmFsc2UsDQoJCQkJCQlpbnRFc2NhcGVNZXRob2QJCQkJOiAwDQoJCQkJCX0pOw0KCQkJCXJldHVybjsNCgkJCX0NCgkJCWVsc2UNCgkJCXsNCgkJCQlMb2dIVFRQVG9GaWxlKHRoaXMucGFyZW50Lm9ialRhc2tSZXN1bHQsIGZhbHNlKTsNCgkJCQkNCgkJCQlpZih0aGlzLnBhcmVudC5vYmpUYXNrUmVzdWx0LmludEVycm9yQ29kZSA9PSAwKQ0KCQkJCXsNCgkJCQkJaWYoc2VhcmNoRm9yVVJMUmVkaXJlY3Rpb24odGhpcy5wYXJlbnQub2JqVGFza1Jlc3VsdCwgdGhpcy5wYXJlbnQpKQ0KCQkJCQl7DQoJCQkJCQl0aGlzLnBhcmVudC5mbmNFeGl0VGVzdCh0cnVlLCB0aGlzLnBhcmVudC5zdHJYVUxNZW51VGV4dCk7DQoJCQkJCQlyZXR1cm47DQoJCQkJCX0NCgkJCQl9DQoJCQkJDQoJCQkJdGhpcy5ib29sUmVxdWVzdFBoYXNlID0gdHJ1ZTsNCgkJCQl0aGlzLmludFN0ZXAgKys7DQoJCQkJaWYodGhpcy5pbnRTdGVwID49IHRoaXMucGFyZW50LmFycmF5VVJMUmVkaXJlY3Rpb25UZXN0VmFsdWVzLmxlbmd0aCkNCgkJCQl7DQoJCQkJCXRoaXMucGFyZW50LmZuY0V4aXRUZXN0KGZhbHNlKTsNCgkJCQkJcmV0dXJuOw0KCQkJCX0NCgkJCQkvL3JldHJpZ2dlciB0aGUgdGVzdCBwcm9jZWR1cmUNCgkJCQl0aGlzLmRvVGVzdCgpOw0KCQkJCXJldHVybjsNCgkJCX0NCgkJfQ0KCX0NCgkNCgkvL3dlIGhhdmUgdG8gc3BlY2lmeSBmbmNUYXNrQ2FsbEJhY2sgcGFycmVudCBzaW5jZSBpdCB3aWxsIGJlIGNhbGxlZCBmcm9tIG90aGVyIHNjb3BlDQoJdGhpcy5mbmNUYXNrQ2FsbEJhY2sucGFyZW50CT0gdGhpczsNCgkNCgkvL2luaXRpYWxpemUgdGhlIHRlc3QgcHJvY2VkdXJlDQoJdGhpcy5mbmNUYXNrQ2FsbEJhY2suZG9UZXN0KCk7DQoJDQp9DQoNCg0KLy9yZWdpc3RlciB0aGUgdGVzdGVyIG9iamVjdA0KVVJMUmVkaXJlY3Rpb25UZXN0ZXIucmVnaXN0ZXIoKTsNCg==')); ]]></script>
<script><![CDATA[ eval(atob('LyoNCkF1dGhvcjoJCUJsYWRlDQpQdXJwb3NlOglUaGUgY3Jvc3MgZnJhbWUgc2NyaXB0aW5nIHRlc3QNCiovDQoNCnZhciBDcm9zc0ZyYW1lU2NyaXB0aW5nVGVzdGVyCQkJCQkJPSBuZXcgY2xhc3NHZW5lcmljVGVzdGVyKCk7DQpDcm9zc0ZyYW1lU2NyaXB0aW5nVGVzdGVyLnN0clhVTE1lbnVJZAkJCQk9ICJhY3VuZXRpeF90ZXN0dHlwZV9Dcm9zc0ZyYW1lU2NyaXB0aW5nIjsNCkNyb3NzRnJhbWVTY3JpcHRpbmdUZXN0ZXIuc3RyWFVMTWVudVRleHQJCQk9ICJDcm9zcyBGcmFtZSBTY3JpcHRpbmciOw0KQ3Jvc3NGcmFtZVNjcmlwdGluZ1Rlc3Rlci5zdHJYVUxNZW51SGludAkJCT0gIlNjYW4gZm9yIENyb3NzIEZyYW1lIFNjcmlwdGluZyI7DQpDcm9zc0ZyYW1lU2NyaXB0aW5nVGVzdGVyLnN0clhVTE1lbnVBY2Nlc3NrZXkJCT0gIkYiOw0KQ3Jvc3NGcmFtZVNjcmlwdGluZ1Rlc3Rlci5zdHJUeXBlCQkJCQk9ICJDcm9zcyBGcmFtZSBTY3JpcHRpbmciOw0KQ3Jvc3NGcmFtZVNjcmlwdGluZ1Rlc3Rlci5zdHJUZXN0TmFtZQkJCQk9ICJDcm9zcyBGcmFtZSBTY3JpcHRpbmciOw0KQ3Jvc3NGcmFtZVNjcmlwdGluZ1Rlc3Rlci5zZXZlcml0eQkJCQkJPSAiTWVkaXVtIjsNCkNyb3NzRnJhbWVTY3JpcHRpbmdUZXN0ZXIuc3RyRGVzY3JpcHRpb24JCQk9ICJodHRwOi8vd3d3LmFjdW5ldGl4LmNvbS93ZWJzaXRlc2VjdXJpdHkvIjsNCkNyb3NzRnJhbWVTY3JpcHRpbmdUZXN0ZXIud3ZzQ29yZWxhdGlvbklECQkJPSAiQ3Jvc3NfRnJhbWVfU2NyaXB0aW5nLnhtbCI7DQpDcm9zc0ZyYW1lU2NyaXB0aW5nVGVzdGVyLmVuYWJsZWQJCQkJCT0gZmFsc2U7DQovKklNUExFTUVOVEFUSU9OKi8NCkNyb3NzRnJhbWVTY3JpcHRpbmdUZXN0ZXIuZW5hYmxlZAkJCQkJPSB0cnVlOw0KDQpmdW5jdGlvbiBzZWFyY2hGb3JDcm9zc0ZyYW1lU2NyaXB0aW5nKG9ialRhc2tSZXN1bHQsIG9ialRlc3RDbGFzcykNCnsNCglpZiAJKG9ialRhc2tSZXN1bHQuaW50UmVwb25zZVN0YXR1cyA9PSAyMDApDQoJew0KCQlvYmpUZXN0Q2xhc3MubG9hZFN0cmluZ0luVG9UaGVIVE1MUGFyc2VyKG9ialRhc2tSZXN1bHQuc3RyUmVzcG9uc2VUZXh0LCBbImZpbHRlclJlZGlyZWN0IiwgInNpbGVudEFsZXJ0Il0pOw0KCQkNCgkJLy8gY2hlY2sgZm9yIGZyYW1lIA0KCQlpZiAob2JqVGVzdENsYXNzLmh0bWxQYXJzZXJUZXN0Rm9yVGFnKCJmcmFtZSIsQXJyYXkoInNyYz1odHRwOi8vd3d3LmFjdW5ldGl4LWxvbmctbmFtZS13aXRoLXNvbWUtaW5leGlzdGVudC1ob3N0LmFjdW5ldGl4LmNvbS8iKSkpIA0KCQlyZXR1cm4odHJ1ZSk7CQ0KCQkNCgkJLy8gY2hlY2sgZm9yIGlmcmFtZSAJCQ0KCQlpZiAob2JqVGVzdENsYXNzLmh0bWxQYXJzZXJUZXN0Rm9yVGFnKCJpZnJhbWUiLEFycmF5KCJzcmM9aHR0cDovL3d3dy5hY3VuZXRpeC1sb25nLW5hbWUtd2l0aC1zb21lLWluZXhpc3RlbnQtaG9zdC5hY3VuZXRpeC5jb20vIikpKSANCgkJcmV0dXJuKHRydWUpOwkNCgl9DQoJDQoJcmV0dXJuKGZhbHNlKTsNCn0NCg0KQ3Jvc3NGcmFtZVNjcmlwdGluZ1Rlc3Rlci5kb1Rlc3QgPSBmdW5jdGlvbihvYmpDYWxsZXJDbGFzcykNCnsNCgl0aGlzLm9iakNhbGxlckNsYXNzCQk9IG9iakNhbGxlckNsYXNzOw0KCQ0KCS8vaW5qZWN0ZWQgdmFsdWVzCQkJCSAgDQoJdGhpcy5hcnJheUNyb3NzRnJhbWVTY3JpcHRpbmdUZXN0VmFsdWVzID0gbmV3IEFycmF5DQoJKA0KCQkiaHR0cDovL3d3dy5hY3VuZXRpeC1sb25nLW5hbWUtd2l0aC1zb21lLWluZXhpc3RlbnQtaG9zdC5hY3VuZXRpeC5jb20vIgkJCQkJLy8JU2ltcGxlDQoJKQ0KCQ0KCQkNCgkvL3JlcXVlc3QgcmVzdWx0IGNvbnRhaW5lcgkNCgl0aGlzLm9ialRhc2tSZXN1bHQgPSB0aGlzLm9iakNhbGxlckNsYXNzLm9ialRhc2tSZXN1bHQ7DQoJCQ0KCS8vdGhlIHRhc2NrIGNhbGJhY2sgY2xhc3Mgd2l0aCBub3RpZnkgZnVuY3Rpb24gZm9yIGJlIHVzZWQgd2l0aCB0aW1lciBjYWxsDQoJdGhpcy5mbmNUYXNrQ2FsbEJhY2sgPQ0KCXsNCgkJaW50U3RlcAkJCQk6IDAsDQoJCWJvb2xSZXF1ZXN0UGhhc2UJOiB0cnVlLA0KCQlzdHJUZXN0U3RyaW5nCQk6IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSoxMzQ1NjcwKSwNCgkJDQoJCW5vdGlmeSAJOiBmdW5jdGlvbih0aW1lcikNCgkJew0KCQkJdGhpcy5kb1Rlc3QoKTsNCgkJfSwNCgkJDQoJCWRvVGVzdCA6IGZ1bmN0aW9uKCkNCgkJew0KCQkJaWYodGhpcy5wYXJlbnQub2JqQ2FsbGVyQ2xhc3MuYm9vbFRlc3Rlck1hcmtlZFRvRGllKQ0KCQkJew0KCQkJCWxvZ1RvRmlsZSgiPT4gQ3Jvc3NGcmFtZVNjcmlwdGluZ1Rlc3RlciA9PiBkb1Rlc3Q6IHVzZXJBYm9ydFJlcXVlc3QgZGV0ZWN0ZWQgKGJvb2xBYm9ydFNjYW4gPSB0cnVlKSIpOw0KCQkJCXJldHVybjsNCgkJCX0NCgkJCQ0KCQkJaWYodGhpcy5ib29sUmVxdWVzdFBoYXNlKQ0KCQkJew0KCQkJCXRoaXMuYm9vbFJlcXVlc3RQaGFzZSA9IGZhbHNlOw0KCQkJCXRoaXMucGFyZW50LmRvUmVxdWVzdEpzb24oDQoJCQkJCXsNCgkJCQkJCW9iakNhbGxlckNsYXNzIAkJCQk6IHRoaXMucGFyZW50LA0KCQkJCQkJc3RyVGVzdFN0cmluZwkJCQk6IHRoaXMucGFyZW50LmFycmF5Q3Jvc3NGcmFtZVNjcmlwdGluZ1Rlc3RWYWx1ZXNbdGhpcy5pbnRTdGVwXSwNCgkJCQkJCWFycmF5QWNjZXB0ZWRDb250ZW50VHlwZXMgCTogbmV3IEFycmF5KCksDQoJCQkJCQlpbnRSZWRpcmVjdGlvbkxpbWl0CQkJOiAwLA0KCQkJCQkJYm9vbERlbGV0ZU9yaWdpbmFsQ29va2llCTogdHJ1ZSwNCgkJCQkJCWJvb2xEZWxldGVPcmlnaW5hbEhlYWRlcnMJOiBmYWxzZSwNCgkJCQkJCWludEVzY2FwZU1ldGhvZAkJCQk6IDANCgkJCQkJfSk7DQoJCQkJcmV0dXJuOw0KCQkJfQ0KCQkJZWxzZQ0KCQkJew0KCQkJCUxvZ0hUVFBUb0ZpbGUodGhpcy5wYXJlbnQub2JqVGFza1Jlc3VsdCwgZmFsc2UpOw0KCQkJCQ0KCQkJCWlmKHRoaXMucGFyZW50Lm9ialRhc2tSZXN1bHQuaW50RXJyb3JDb2RlID09IDApDQoJCQkJew0KCQkJCQlpZihzZWFyY2hGb3JDcm9zc0ZyYW1lU2NyaXB0aW5nKHRoaXMucGFyZW50Lm9ialRhc2tSZXN1bHQsIHRoaXMucGFyZW50KSkNCgkJCQkJew0KCQkJCQkJdGhpcy5wYXJlbnQuZm5jRXhpdFRlc3QodHJ1ZSwgdGhpcy5wYXJlbnQuc3RyWFVMTWVudVRleHQpOw0KCQkJCQkJcmV0dXJuOw0KCQkJCQl9DQoJCQkJfQ0KCQkJCQ0KCQkJCXRoaXMuYm9vbFJlcXVlc3RQaGFzZSA9IHRydWU7DQoJCQkJdGhpcy5pbnRTdGVwICsrOw0KCQkJCWlmKHRoaXMuaW50U3RlcCA+PSB0aGlzLnBhcmVudC5hcnJheUNyb3NzRnJhbWVTY3JpcHRpbmdUZXN0VmFsdWVzLmxlbmd0aCkNCgkJCQl7DQoJCQkJCXRoaXMucGFyZW50LmZuY0V4aXRUZXN0KGZhbHNlKTsNCgkJCQkJcmV0dXJuOw0KCQkJCX0NCgkJCQkvL3JldHJpZ2dlciB0aGUgdGVzdCBwcm9jZWR1cmUNCgkJCQl0aGlzLmRvVGVzdCgpOw0KCQkJCXJldHVybjsNCgkJCX0NCgkJfQ0KCX0NCgkNCgkvL3dlIGhhdmUgdG8gc3BlY2lmeSBmbmNUYXNrQ2FsbEJhY2sgcGFycmVudCBzaW5jZSBpdCB3aWxsIGJlIGNhbGxlZCBmcm9tIG90aGVyIHNjb3BlDQoJdGhpcy5mbmNUYXNrQ2FsbEJhY2sucGFyZW50CT0gdGhpczsNCgkNCgkvL2luaXRpYWxpemUgdGhlIHRlc3QgcHJvY2VkdXJlDQoJdGhpcy5mbmNUYXNrQ2FsbEJhY2suZG9UZXN0KCk7DQoJDQp9DQoNCg0KLy9yZWdpc3RlciB0aGUgdGVzdGVyIG9iamVjdA0KQ3Jvc3NGcmFtZVNjcmlwdGluZ1Rlc3Rlci5yZWdpc3RlcigpOw0K')); ]]></script>
<script><![CDATA[ eval(atob('LyoNCkF1dGhvcjoJCUJsYWRlDQpQdXJwb3NlOglBcHBsaWNhdGlvbiBlcnJvciB0ZXN0DQoqLw0KDQp2YXIgQXBwbGljYXRpb25FcnJvclRlc3RlcgkJCQkJPSBuZXcgY2xhc3NHZW5lcmljVGVzdGVyKCk7DQpBcHBsaWNhdGlvbkVycm9yVGVzdGVyLnN0clhVTE1lbnVJZAkJCT0gImFjdW5ldGl4X3Rlc3R0eXBlX0FwcGxpY2F0aW9uRXJyb3IiOw0KQXBwbGljYXRpb25FcnJvclRlc3Rlci5zdHJYVUxNZW51VGV4dAkJPSAiQXBwbGljYXRpb24gRXJyb3IgTWVzc2FnZSI7DQpBcHBsaWNhdGlvbkVycm9yVGVzdGVyLnN0clhVTE1lbnVIaW50CQk9ICJTY2FuIGZvciBBcHBsaWNhdGlvbiBFcnJvciBNZXNzYWdlcyI7DQpBcHBsaWNhdGlvbkVycm9yVGVzdGVyLnN0clhVTE1lbnVBY2Nlc3NrZXkJPSAiQSI7DQpBcHBsaWNhdGlvbkVycm9yVGVzdGVyLnN0clR5cGUJCQkJPSAiQXBwbGljYXRpb24gRXJyb3IgTWVzc2FnZSI7DQpBcHBsaWNhdGlvbkVycm9yVGVzdGVyLnN0clRlc3ROYW1lCQkJPSAiQXBwbGljYXRpb24gRXJyb3IgTWVzc2FnZSI7DQpBcHBsaWNhdGlvbkVycm9yVGVzdGVyLnNldmVyaXR5CQkJCT0gIkxvdyI7DQpBcHBsaWNhdGlvbkVycm9yVGVzdGVyLnN0ckRlc2NyaXB0aW9uCQk9ICJodHRwOi8vd3d3LmFjdW5ldGl4LmNvbS93ZWJzaXRlc2VjdXJpdHkvIjsNCkFwcGxpY2F0aW9uRXJyb3JUZXN0ZXIud3ZzQ29yZWxhdGlvbklECQk9ICJBcHBsaWNhdGlvbl9lcnJvci54bWwiOw0KQXBwbGljYXRpb25FcnJvclRlc3Rlci5lbmFibGVkCQkJCT0gZmFsc2U7DQovKklNUExFTUVOVEFUSU9OKi8NCkFwcGxpY2F0aW9uRXJyb3JUZXN0ZXIuZW5hYmxlZAkJCQk9IHRydWU7DQoNCmZ1bmN0aW9uIHNlYXJjaEZvckFwcGxpY2F0aW9uRXJyb3Ioc3RySW5wdXRUZXh0LCBib29sSnVzdFJldHVybk9uRmlyc3RFcnJvcikNCnsNCglpZiAoYm9vbEp1c3RSZXR1cm5PbkZpcnN0RXJyb3IgPT0gbnVsbCkgYm9vbEp1c3RSZXR1cm5PbkZpcnN0RXJyb3IgPSBmYWxzZTsNCgl2YXIgcmV0dmFsID0gbmV3IEFycmF5KCk7DQoJDQoJYXJyYXlJbmplY3Rpb25UZXN0Q29uZGl0aW9ucyA9IG5ldyBBcnJheQ0KCSgNCgkJbmV3IEFycmF5KHtyZWdleCA6IC8oTGluZVxzXGQrOlxzSW5jb3JyZWN0XHNzeW50YXhcc25lYXJccydbXiddKicpL2ksIGNvbmRpdGlvbiA6IHRydWV9KSwNCgkJbmV3IEFycmF5KHtyZWdleCA6IC8ocGdfcXVlcnlcKFwpWzpdKlxzcXVlcnlcc2ZhaWxlZDpcc2Vycm9yOlxzKS9pLCBjb25kaXRpb24gOiB0cnVlfSksDQoJCW5ldyBBcnJheSh7cmVnZXggOiAvKCdbXiddKidcc2lzXHNudWxsXHNvclxzbm90XHNhblxzb2JqZWN0KS9pLCBjb25kaXRpb24gOiB0cnVlfSksDQoJCW5ldyBBcnJheSh7cmVnZXggOiAvKE9SQS1cZHs0LDV9OlxzKS9pLCBjb25kaXRpb24gOiB0cnVlfSksDQoJCW5ldyBBcnJheSh7cmVnZXggOiAvKE1pY3Jvc29mdFxzSkVUXHNEYXRhYmFzZVxzRW5naW5lXHNcKFteXCldKlwpPGJyPlN5bnRheFxzZXJyb3IoLiopXHNpblxzcXVlcnlcc2V4cHJlc3Npb25ccycuKlwuPGJyPjxiPi4qLFxzbGluZVxzXGQrPFwvYj48YnI+KS9pLCBjb25kaXRpb24gOiB0cnVlfSksDQoJCW5ldyBBcnJheSh7cmVnZXggOiAvKDxoMj5cczxpPlN5bnRheFxzZXJyb3JccyhcKFteXCldKlwpKT8oaW5cc3N0cmluZyk/XHNpblxzcXVlcnlcc2V4cHJlc3Npb25ccydbXlwuXSpcLjxcL2k+XHM8XC9oMj48XC9zcGFuPikvaSwgY29uZGl0aW9uIDogdHJ1ZX0pLA0KCQluZXcgQXJyYXkoe3JlZ2V4IDogLyg8Zm9udFxzZmFjZT1cIkFyaWFsXCJcc3NpemU9Mj5TeW50YXhcc2Vycm9yXHMoLiopP2luXHNxdWVyeVxzZXhwcmVzc2lvblxzJyguKilcLjxcL2ZvbnQ+KS9pLCBjb25kaXRpb24gOiB0cnVlfSksDQoJCW5ldyBBcnJheSh7cmVnZXggOiAvKDxiPldhcm5pbmc8XC9iPjpcc1xzcGdfZXhlY1woXClcc1xbXDxhXHNocmVmPSdmdW5jdGlvbi5wZ1wtZXhlY1wnXD5mdW5jdGlvblwucGctZXhlY1w8XC9hPlxdXDpcc1F1ZXJ5IGZhaWxlZDpcc0VSUk9SOlxzXHNzeW50YXggZXJyb3IgYXQgb3IgbmVhciBcJnF1b3RcO1xcXCZxdW90OyBhdCBjaGFyYWN0ZXIgXGQrIGluXHM8Yj4uKjxcL2I+KS9pLCBjb25kaXRpb24gOiB0cnVlfSksDQoJCW5ldyBBcnJheSh7cmVnZXggOiAvKFN5c3RlbVwuRGF0YVwuT2xlRGJcLk9sZURiRXhjZXB0aW9uXDpcc1N5bnRheFxzZXJyb3Jcc1woW14pXSo/XClcc2luXHNxdWVyeVxzZXhwcmVzc2lvblxzLiopL2ksIGNvbmRpdGlvbiA6IHRydWV9KSwNCgkJbmV3IEFycmF5KHtyZWdleCA6IC8oU3lzdGVtXC5EYXRhXC5PbGVEYlwuT2xlRGJFeGNlcHRpb25cOlxzU3ludGF4XHNlcnJvclxzaW5cc3N0cmluZ1xzaW5cc3F1ZXJ5XHNleHByZXNzaW9uXHMpL2ksIGNvbmRpdGlvbiA6IHRydWV9KSwNCgkJbmV3IEFycmF5KHtyZWdleCA6IC8oPGZvbnQgc3R5bGU9IkNPTE9SOiBibGFjazsgRk9OVDogOHB0XC8xMXB0IHZlcmRhbmEiPlxzKyhcW01hY3JvbWVkaWFcXVxbU1FMU2VydmVyXHNKREJDXHNEcml2ZXJcXVxbU1FMU2VydmVyXF18U3ludGF4XHNlcnJvclxzaW5cc3N0cmluZ1xzaW5cc3F1ZXJ5XHNleHByZXNzaW9uXHMpKS9pLCBjb25kaXRpb24gOiB0cnVlfSksDQoJCW5ldyBBcnJheSh7cmVnZXggOiAvKFRoZSBFcnJvciBPY2N1cnJlZCBpbiA8Yj4oLiopOiBsaW5lLio8XFxcL2I+PGJyPikvaSwgY29uZGl0aW9uIDogdHJ1ZX0pLA0KCQluZXcgQXJyYXkoe3JlZ2V4IDogLyhUaGUgZXJyb3Igb2NjdXJyZWQgd2hpbGUgcHJvY2Vzc2luZy4qVGVtcGxhdGU6ICguKikgPGJyPi4pL2ksIGNvbmRpdGlvbiA6IHRydWV9KSwNCgkJbmV3IEFycmF5KHtyZWdleCA6IC8oVGhlIGVycm9yIG9jY3VycmVkIHdoaWxlIHByb2Nlc3NpbmcuKmluIHRoZSB0ZW1wbGF0ZSBmaWxlICguKilcLjxcXFwvcD48YnI+KS9pLCBjb25kaXRpb24gOiB0cnVlfSksDQoJCW5ldyBBcnJheSh7cmVnZXggOiAvKDxzcGFuPjxIMT5TZXJ2ZXJcc0Vycm9yXHNpblxzJ1teJ10qJ1xzQXBwbGljYXRpb25cLjxoclxzd2lkdGg9MTAwJVxzc2l6ZT0xXHNjb2xvcj1zaWx2ZXI+PFwvSDE+KS9pLCBjb25kaXRpb24gOiB0cnVlfSksDQoJCW5ldyBBcnJheSh7cmVnZXggOiAvKDx0aXRsZT5JbnZhbGlkXHNmaWxlXHNuYW1lXHNmb3Jcc21vbml0b3Jpbmc6XHMnKFteJ10qKSdcLlxzRmlsZVxzbmFtZXNcc2ZvclxzbW9uaXRvcmluZ1xzbXVzdFxzaGF2ZVxzYWJzb2x1dGVcc3BhdGhzXCxcc2FuZFxzbm9cc3dpbGRjYXJkc1wuPFwvdGl0bGU+KS9pLCBjb25kaXRpb24gOiB0cnVlfSksDQoJCW5ldyBBcnJheSh7cmVnZXggOiAvKDxiPihXYXJuaW5nfFBhcnNlXHNlcnJvcnxGYXRhbFxzZXJyb3IpPFwvYj46Lio8Yj4oW148XSopPFwvYj5cc29uXHNsaW5lXHM8Yj5bMC05XSo8XC9iPjxicikvaSwgY29uZGl0aW9uIDogdHJ1ZX0pLA0KCQluZXcgQXJyYXkoe3JlZ2V4IDogLyg8Yj5XYXJuaW5nPFwvYj46KD86KD86XHMqP21haW5cKFwpKXwoPzpccyo/aW5jbHVkZVwoXCkgXFs8YSBocmVmPSdmdW5jdGlvbi5pbmNsdWRlJz5mdW5jdGlvbi5pbmNsdWRlPFwvYT5cXSkpOiBGYWlsZWQgb3BlbmluZyAnLio/JyBmb3IgaW5jbHVzaW9uIFwoaW5jbHVkZV9wYXRoPScuKj8nXCkgaW4gPGI+Lio/PFwvYj4gIG9uIGxpbmUgPGI+Lio/PFwvYj4pL2ksIGNvbmRpdGlvbiA6IHRydWV9KSwNCgkJbmV3IEFycmF5KHtyZWdleCA6IC8oPGI+V2FybmluZzxcL2I+Oig/Oig/OlxzKj9tYWluXChcKSl8KD86XHMqP2luY2x1ZGVfb25jZVwoXCkgXFs8YSBocmVmPSdmdW5jdGlvbi5pbmNsdWRlJz5mdW5jdGlvbi5pbmNsdWRlPFwvYT5cXSkpOiBGYWlsZWQgb3BlbmluZyAnLio/JyBmb3IgaW5jbHVzaW9uIFwoaW5jbHVkZV9wYXRoPScuKj8nXCkgaW4gPGI+Lio/PFwvYj4gIG9uIGxpbmUgPGI+Lio/PFwvYj4pL2ksIGNvbmRpdGlvbiA6IHRydWV9KSwNCgkJbmV3IEFycmF5KHtyZWdleCA6IC8oPGI+RmF0YWwgZXJyb3I8XC9iPjooPzooPzpccyo/bWFpblwoXCkpfCg/OlxzKj9yZXF1aXJlXChcKSBcWzxhIGhyZWY9J2Z1bmN0aW9uLnJlcXVpcmUnPmZ1bmN0aW9uLnJlcXVpcmU8XC9hPlxdKSk6IEZhaWxlZCBvcGVuaW5nIHJlcXVpcmVkICcuKj8nIFwoaW5jbHVkZV9wYXRoPScuKj8nXCkgaW4gPGI+Lio/PFwvYj4gb24gbGluZSA8Yj4uKj88XC9iPikvaSwgY29uZGl0aW9uIDogdHJ1ZX0pLA0KCQluZXcgQXJyYXkoe3JlZ2V4IDogLyg8Yj5GYXRhbCBlcnJvcjxcL2I+Oig/Oig/OlxzKj9tYWluXChcKSl8KD86XHMqP3JlcXVpcmVfb25jZVwoXCkgXFs8YSBocmVmPSdmdW5jdGlvbi5yZXF1aXJlJz5mdW5jdGlvbi5yZXF1aXJlPFwvYT5cXSkpOiBGYWlsZWQgb3BlbmluZyByZXF1aXJlZCAnLio/JyBcKGluY2x1ZGVfcGF0aD0nLio/J1wpIGluIDxiPi4qPzxcL2I+IG9uIGxpbmUgPGI+Lio/PFwvYj4pL2ksIGNvbmRpdGlvbiA6IHRydWV9KSwNCgkJbmV3IEFycmF5KHtyZWdleCA6IC8oPGI+V2FybmluZzxcL2I+OiAgKGZpbGVfZ2V0X2NvbnRlbnRzXCguKj9cKSggXFs8YSBocmVmPSdmdW5jdGlvbi5maWxlLWdldC1jb250ZW50cyc+ZnVuY3Rpb24uZmlsZS1nZXQtY29udGVudHM8XC9hPlxdKT98Zm9wZW5cKC4qP1wpKCBcWzxhIGhyZWY9J2Z1bmN0aW9uLmZvcGVuJz5mdW5jdGlvbi5mb3BlbjxcL2E+XF0pPyk6IGZhaWxlZCB0byBvcGVuIHN0cmVhbTogKE5vIHN1Y2ggZmlsZSBvciBkaXJlY3Rvcnl8SW52YWxpZCBhcmd1bWVudCkgaW4gPGI+Lio/PFwvYj4gIG9uIGxpbmUgPGI+Lio/PFwvYj4pL2ksIGNvbmRpdGlvbiA6IHRydWV9KSwNCgkJbmV3IEFycmF5KHtyZWdleCA6IC8oPGI+RmF0YWwgZXJyb3I8XC9iPjogIENhbGwgdG8gdW5kZWZpbmVkIGZ1bmN0aW9uLio/XChcKSBpbiA8Yj4uKj88XC9iPiBvbiBsaW5lIDxiPi4qPzxcL2I+KS9pLCBjb25kaXRpb24gOiB0cnVlfSksDQoJCW5ldyBBcnJheSh7cmVnZXggOiAvKDxiPkZhdGFsIGVycm9yPFwvYj46ICBDYWxsIHRvIGEgbWVtYmVyIGZ1bmN0aW9uLio/KFwoXCkgKT9vbiBhIG5vbi1vYmplY3QgaW4gPGI+Lio/PFwvYj4gb24gbGluZSA8Yj4uKj88XC9iPikvaSwgY29uZGl0aW9uIDogdHJ1ZX0pLA0KCQluZXcgQXJyYXkoe3JlZ2V4IDogLyg8Yj5GYXRhbCBlcnJvcjxcL2I+OiAgQ2FsbCB0byB1bmRlZmluZWQoPzooPzogbWV0aG9kKXwoPzogZnVuY3Rpb246KSkuKj9cKFwpIGluIDxiPi4qPzxcL2I+IG9uIGxpbmUgPGI+Lio/PFwvYj4pL2ksIGNvbmRpdGlvbiA6IHRydWV9KSwNCgkJbmV3IEFycmF5KHtyZWdleCA6IC8oPGI+UGFyc2UgZXJyb3I8XC9iPjogIHBhcnNlIGVycm9yLCB1bmV4cGVjdGVkIC4qPyBpbiA8Yj4uKj88XC9iPiAgb24gbGluZSA8Yj4uKj88XC9iPikvaSwgY29uZGl0aW9uIDogdHJ1ZX0pLA0KCQluZXcgQXJyYXkoe3JlZ2V4IDogLyg8Yj5GYXRhbCBlcnJvcjxcL2I+OiAgQ2xhc3MgKD86KD86Jy4qPycgbm90IGZvdW5kKXwoPzouKj86ICBDYW5ub3QgaW5oZXJpdCBmcm9tIHVuZGVmaW5lZCBjbGFzcyAuKj8pKSBpbiA8Yj4uKj88XC9iPiBvbiBsaW5lIDxiPi4qPzxcL2I+KS9pLCBjb25kaXRpb24gOiB0cnVlfSksDQoJCW5ldyBBcnJheSh7cmVnZXggOiAvKDxiPldhcm5pbmc8XC9iPjogIHZpcnR1YWxcKFwpKD86KD86IFxbPGEgaHJlZj0nZnVuY3Rpb24udmlydHVhbCc+ZnVuY3Rpb24udmlydHVhbDxcL2E+XF06IFVuYWJsZSB0byBpbmNsdWRlICcuKj8nIC0gcmVxdWVzdCBleGVjdXRpb24gZmFpbGVkKXwoPzo6IEZhaWxlZCBvcGVuaW5nICcuKj8nIGZvciBpbmNsdXNpb24gXChpbmNsdWRlX3BhdGg9Jy4qPydcKSkpIGluIDxiPi4qPzxcL2I+IG9uIGxpbmUgPGI+Lio/PFwvYj4pL2ksIGNvbmRpdGlvbiA6IHRydWV9KSwNCgkJbmV3IEFycmF5KHtyZWdleCA6IC8oPGI+V2FybmluZzxcL2I+OiAgbXlzcWxfY29ubmVjdFwoXCkoIFxbPGEgaHJlZj0nZnVuY3Rpb24ubXlzcWwtY29ubmVjdCc+ZnVuY3Rpb24ubXlzcWwtY29ubmVjdDxcL2E+XF0pPzogVW5rbm93biBNeVNRTCBzZXJ2ZXIgaG9zdCAnLio/JyAoPzooPzpcKDExMDAxXCkpfCg/OlwoMVwpKSkgaW4gPGI+Lio/PFwvYj4gIG9uIGxpbmUgPGI+Lio/PFwvYj4pL2ksIGNvbmRpdGlvbiA6IHRydWV9KSwNCgkJbmV3IEFycmF5KHtyZWdleCA6IC8oPGI+V2FybmluZzxcL2I+OiAgbXlzcWxfY29ubmVjdFwoXCkoPzooPzopfCg/OiBcWzxhIGhyZWY9J2Z1bmN0aW9uLm15c3FsLWNvbm5lY3QnPmZ1bmN0aW9uLm15c3FsLWNvbm5lY3Q8XC9hPlxdKSk6IEFjY2VzcyBkZW5pZWQgZm9yIHVzZXIgJy4qPycgXCh1c2luZyBwYXNzd29yZDogKD86WUVTfE5PKVwpIGluIDxiPi4qPzxcL2I+ICBvbiBsaW5lIDxiPi4qPzxcL2I+KS9pLCBjb25kaXRpb24gOiB0cnVlfSksDQoJCW5ldyBBcnJheSh7cmVnZXggOiAvKDxiPldhcm5pbmc8XC9iPjpccysoPzpteXNxbF9mZXRjaF9hcnJheXxteXNxbF9mZXRjaF9yb3d8bXlzcWxfZmV0Y2hfb2JqZWN0fG15c3FsX2ZldGNoX2ZpZWxkfG15c3FsX2ZldGNoX2xlbmd0aHN8bXlzcWxfbnVtX3Jvd3MpXChcKTogc3VwcGxpZWQgYXJndW1lbnQgaXMgbm90IGEgdmFsaWQgTXlTUUwgcmVzdWx0IHJlc291cmNlIGluIDxiPi4qPzxcL2I+IG9uIGxpbmUgPGI+Lio/PFwvYj4pL2ksIGNvbmRpdGlvbiA6IHRydWV9KSwNCgkJbmV3IEFycmF5KHtyZWdleCA6IC8oPGI+V2FybmluZzxcL2I+OiAgV3JvbmcgcGFyYW1ldGVyIGNvdW50IGZvciAuKj9cKFwpIGluIDxiPi4qPzxcL2I+IG9uIGxpbmUgPGI+Lio/PFwvYj4pL2ksIGNvbmRpdGlvbiA6IHRydWV9KSwNCgkJbmV3IEFycmF5KHtyZWdleCA6IC8oKD86VW5rbm93biBkYXRhYmFzZSAnLio/Jyl8KD86Tm8gZGF0YWJhc2Ugc2VsZWN0ZWQpfCg/OlRhYmxlICcuKj8nIGRvZXNuJ3QgZXhpc3QpfCg/OllvdSBoYXZlIGFuIGVycm9yIGluIHlvdXIgU1FMIHN5bnRheDsgY2hlY2sgdGhlIG1hbnVhbCB0aGF0IGNvcnJlc3BvbmRzIHRvIHlvdXIgTXlTUUwgc2VydmVyIHZlcnNpb24gZm9yIHRoZSByaWdodCBzeW50YXggdG8gdXNlIG5lYXIgJy4qPycgYXQgbGluZSAuKj8pKS9pLCBjb25kaXRpb24gOiB0cnVlfSkJCQ0KCSk7DQoJCQkJICANCglmb3IoIHZhciBpID0gMDsgaSA8IGFycmF5SW5qZWN0aW9uVGVzdENvbmRpdGlvbnMubGVuZ3RoOyBpKyspDQoJew0KCQl2YXIgYm9vbEJvbmRpdGlvbiA9IHRydWU7DQoJCWZvcih2YXIgaiA9IDA7IGogPCBhcnJheUluamVjdGlvblRlc3RDb25kaXRpb25zW2ldLmxlbmd0aDsgaisrKQ0KCQl7DQoJCQl2YXIgbWF0Y2ggPSAoYXJyYXlJbmplY3Rpb25UZXN0Q29uZGl0aW9uc1tpXVtqXS5yZWdleC5leGVjKHN0cklucHV0VGV4dCkgIT0gbnVsbCk7DQoJCQlpZihtYXRjaCAhPSBhcnJheUluamVjdGlvblRlc3RDb25kaXRpb25zW2ldW2pdLmNvbmRpdGlvbikNCgkJCXsNCgkJCQlib29sQm9uZGl0aW9uID0gZmFsc2U7DQoJCQkJYnJlYWs7DQoJCQl9DQoJCX0NCgkJDQoJCWlmIChib29sQm9uZGl0aW9uKQ0KCQl7DQoJCQlpZiAoYm9vbEp1c3RSZXR1cm5PbkZpcnN0RXJyb3IpDQoJCQkJcmV0dXJuKHRydWUpOw0KCQkJcmV0dmFsLnB1c2goaSk7DQoJCX0NCgl9DQoJaWYgKGJvb2xKdXN0UmV0dXJuT25GaXJzdEVycm9yKQ0KCQlyZXR1cm4oZmFsc2UpOw0KCWVsc2UNCgkJcmV0dXJuKHJldHZhbCk7DQp9DQoNCkFwcGxpY2F0aW9uRXJyb3JUZXN0ZXIuZG9UZXN0ID0gZnVuY3Rpb24ob2JqQ2FsbGVyQ2xhc3MpDQp7DQoJdGhpcy5vYmpDYWxsZXJDbGFzcwkJPSBvYmpDYWxsZXJDbGFzczsNCgl0aGlzLm9ialRhc2tSZXN1bHQgCQk9IG9iakNhbGxlckNsYXNzLm9ialRhc2tSZXN1bHQ7DQoJDQoJLy9pbmplY3RlZCB2YWx1ZXMJCQkJICANCgl0aGlzLmFycmF5QXBwbGljYXRpb25FcnJvclRlc3RWYWx1ZXMgPSBuZXcgQXJyYXkNCgkoDQoJCSIgIiwJCQkJCQkJLy8gRW1wdHkNCgkJIjI2ODQzNTQ1NSIsCQkJCQkvLyBCaWcgbnVtYmVyDQoJCSItMjY4NDM1NDU1IiwJCQkJCS8vIE5lZ2F0aXZlDQoJCSJcJ1wiKTt8XSp7JTBkJTBhPCUwMCIsCQkJLy8gQmFkIGNoYXJzDQoJCSIwIiwJCQkJCQkJLy8gWmVybw0KCQkiTlVMTCIsCQkJCQkJCS8vIE5VTEwNCgkJIjB4M2ZmZmZmZmYiLAkJCQkJLy8gSGV4QmlnMQ0KCQkiMHg4MDAwMDAwMCIsCQkJCQkvLyBIZXhCaWcyDQoJCSIweDdmZmZmZmZmIiwJCQkJCS8vIEhleEJpZzMNCgkJIjB4ZmZmZmZmZmYiLAkJCQkJLy8gSGV4QmlnNA0KCQkiLTEuMCIsCQkJCQkJCS8vIE5lZ2F0aXZlMg0KCQkiNjU1MzYiIAkJCQkJCS8vIE1pc2MxDQoJKQkNCgkJDQoJDQoJLy90aGUgdGFzY2sgY2FsYmFjayBjbGFzcyB3aXRoIG5vdGlmeSBmdW5jdGlvbiBmb3IgYmUgdXNlZCB3aXRoIHRpbWVyIGNhbGwNCgl0aGlzLmZuY1Rhc2tDYWxsQmFjayA9DQoJew0KCQlpbnRTdGVwCQkJCTogMCwNCgkJYm9vbFJlcXVlc3RQaGFzZQk6IHRydWUsDQoJCXN0clRlc3RTdHJpbmcJCTogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKjEzNDU2NzApLA0KCQkJCQ0KCQlub3RpZnkgCTogZnVuY3Rpb24odGltZXIpDQoJCXsNCgkJCXRoaXMuZG9UZXN0KCk7DQoJCX0sDQoJCQ0KCQlkb1Rlc3QgOiBmdW5jdGlvbigpDQoJCXsNCgkJCWlmKHRoaXMucGFyZW50Lm9iakNhbGxlckNsYXNzLmJvb2xUZXN0ZXJNYXJrZWRUb0RpZSkNCgkJCXsNCgkJCQlsb2dUb0ZpbGUoIj0+IEFwcGxpY2F0aW9uRXJyb3JUZXN0ZXIgPT4gZG9UZXN0OiB1c2VyQWJvcnRSZXF1ZXN0IGRldGVjdGVkIChib29sQWJvcnRTY2FuID0gdHJ1ZSkiKTsNCgkJCQlyZXR1cm47DQoJCQl9DQoJCQkNCgkJCWlmKHRoaXMuYm9vbFJlcXVlc3RQaGFzZSkNCgkJCXsNCgkJCQl0aGlzLmJvb2xSZXF1ZXN0UGhhc2UgPSBmYWxzZTsNCgkJCQl0aGlzLnBhcmVudC5kb1JlcXVlc3RKc29uKA0KCQkJCQl7DQoJCQkJCQlvYmpDYWxsZXJDbGFzcyAJCQkJOiB0aGlzLnBhcmVudCwNCgkJCQkJCXN0clRlc3RTdHJpbmcJCQkJOiB0aGlzLnBhcmVudC5hcnJheUFwcGxpY2F0aW9uRXJyb3JUZXN0VmFsdWVzW3RoaXMuaW50U3RlcF0sDQoJCQkJCQlhcnJheUFjY2VwdGVkQ29udGVudFR5cGVzIAk6IG5ldyBBcnJheSgpLA0KCQkJCQkJaW50UmVkaXJlY3Rpb25MaW1pdAkJCTogMTAsDQoJCQkJCQlib29sRGVsZXRlT3JpZ2luYWxDb29raWUJOiB0cnVlLA0KCQkJCQkJYm9vbERlbGV0ZU9yaWdpbmFsSGVhZGVycwk6IGZhbHNlLA0KCQkJCQkJaW50RXNjYXBlTWV0aG9kCQkJCTogMA0KCQkJCQl9KTsNCgkJCQlyZXR1cm47DQoJCQl9DQoJCQllbHNlDQoJCQl7DQoJCQkJTG9nSFRUUFRvRmlsZSh0aGlzLnBhcmVudC5vYmpUYXNrUmVzdWx0LCBmYWxzZSk7DQoJCQkJDQoJCQkJaWYodGhpcy5wYXJlbnQub2JqVGFza1Jlc3VsdC5pbnRFcnJvckNvZGUgPT0gMCkNCgkJCQl7DQoJCQkJCWlmKHNlYXJjaEZvckFwcGxpY2F0aW9uRXJyb3IodGhpcy5wYXJlbnQub2JqVGFza1Jlc3VsdC5zdHJSZXNwb25zZVRleHQsdHJ1ZSkpDQoJCQkJCXsNCgkJCQkJCXRoaXMucGFyZW50LmZuY0V4aXRUZXN0KHRydWUsIHRoaXMucGFyZW50LnN0clhVTE1lbnVUZXh0KTsNCgkJCQkJCXJldHVybjsNCgkJCQkJfQ0KDQoJCQkJfQ0KCQkJCQ0KCQkJCXRoaXMuYm9vbFJlcXVlc3RQaGFzZSA9IHRydWU7DQoJCQkJdGhpcy5pbnRTdGVwICsrOw0KCQkJCWlmKHRoaXMuaW50U3RlcCA+PSB0aGlzLnBhcmVudC5hcnJheUFwcGxpY2F0aW9uRXJyb3JUZXN0VmFsdWVzLmxlbmd0aCkNCgkJCQl7DQoJCQkJCXRoaXMucGFyZW50LmZuY0V4aXRUZXN0KGZhbHNlKTsNCgkJCQkJcmV0dXJuOw0KCQkJCX0NCgkJCQkvL3JldHJpZ2dlciB0aGUgdGVzdCBwcm9jZWR1cmUNCgkJCQl0aGlzLmRvVGVzdCgpOw0KCQkJCXJldHVybjsNCgkJCX0NCgkJfQ0KCX0NCgkNCgkvL3dlIGhhdmUgdG8gc3BlY2lmeSBmbmNUYXNrQ2FsbEJhY2sgcGFycmVudCBzaW5jZSBpdCB3aWxsIGJlIGNhbGxlZCBmcm9tIG90aGVyIHNjb3BlDQoJdGhpcy5mbmNUYXNrQ2FsbEJhY2sucGFyZW50CT0gdGhpczsNCgkNCgkvL2luaXRpYWxpemUgdGhlIHRlc3QgcHJvY2VkdXJlDQoJdGhpcy5mbmNUYXNrQ2FsbEJhY2suZG9UZXN0KCk7DQoJDQp9DQoNCg0KLy9yZWdpc3RlciB0aGUgdGVzdGVyIG9iamVjdA0KQXBwbGljYXRpb25FcnJvclRlc3Rlci5yZWdpc3RlcigpOw0K')); ]]></script>

	<stringbundleset id="stringbundleset">
		<stringbundle id="acunetixwebscanner-strings" src="chrome://acunetixwebscanner/locale/acunetixwebscanner.properties"/>
	</stringbundleset>

	<toolbox id="navigator-toolbox">
		<toolbar id="acunetix_toolbar" toolbarname="&toolbar.name;" class="chromeclass-toolbar" context="toolbar-context-menu" hidden="false" persist="hidden">
			<toolbarbutton id="acunetix_menu_gotoHome" label="&toolbar.visibleTitle;" tooltiptext="&toolbar.visibleTitle;" oncommand="acunetixwebscanner.goHome()" class="gohome-button"/>	
			<toolbarseparator/>
			<toolbarbutton id="acunetix_menu_selectTest" type="menu" label="&toolbar.startscan.label; " tooltiptext="&toolbar.startscan.tooltip;" class="start-button">
				<menupopup id="acunetix_menu_selectTest_selector">
					<menuitem id="acunetix_menu_testStandardSet" oncommand="acunetixwebscanner.quickTest(this)" label="&toolbar.startscan.selectedTest.label;" tooltiptext="&toolbar.startscan.selectedTest.tooltip;" />
					<menuseparator />
					<menuitem id="acunetix_menu_testAll" oncommand="acunetixwebscanner.quickTest(this)" label="&toolbar.startscan.AllTest.label;" tooltiptext="&toolbar.startscan.AllTest.tooltip;" />
					<menuseparator />
				</menupopup>
			</toolbarbutton>
			<toolbarbutton id="acunetix_menu_abortScan" label="&toolbar.abortScan.label;" tooltiptext="&toolbar.abortScan.tooltip;" oncommand="acunetixwebscanner.abortScan();" disabled="true" class="stop-button"/>
			<toolbarseparator/>
			<toolbarbutton id="acunetix_menu_settings" label="&toolbar.settings.label;"  tooltiptext="&toolbar.settings.tooltip;" oncommand="acunetixwebscanner.openSettingsDialog();" class = "setup-button" />
			<toolbarseparator/>
			<toolbarbutton id="acunetix_menu_advanced" type="menu" label="&toolbar.advanced.label; " tooltiptext="&toolbar.advanced.tooltip;" class="advanced-button">
				<menupopup id="acunetix_menu_advanced_selector">
					<menuitem  type = "checkbox" id="acunetix_menu_showAdvancedPannel" label="&toolbar.showcapture.label;" tooltiptext="&toolbar.showcapture.tooltip;" oncommand="acunetixwebscanner.showHideRequestPannel('toggle');" />
					<menuitem id="acunetix_menu_captureContent" label="&toolbar.startcapture.label;" tooltiptext="&toolbar.startcapture.tooltip;" oncommand="acunetixwebscanner.capturePageRequests();" />
					<menuseparator />
					<menuitem id="acunetix_menu_openAppLog" label="&toolbar.openFlog.label;" tooltiptext="&toolbar.openFlog.tooltip;" oncommand="acunetixwebscanner.openLogFileInNewTab(1);" />
					<menuitem id="acunetix_menu_openHTTPLog" label="&toolbar.openHTTPLog.label;" tooltiptext="&toolbar.openHTTPLog.tooltip;" oncommand="acunetixwebscanner.openLogFileInNewTab(0);" />
					<menuitem id="acunetix_menu_delAppLog" label="&toolbar.resetFlog.label;" tooltiptext="&toolbar.resetFlog.tooltip;" oncommand="acunetixwebscanner.resetLogFile(1);" />
					<menuitem id="acunetix_menu_delHTTPLog" label="&toolbar.resetHTTPLog.label;" tooltiptext="&toolbar.resetHTTPLog.tooltip;" oncommand="acunetixwebscanner.resetLogFile(0);" />
				</menupopup>
			</toolbarbutton>
			<toolbarseparator/>
			<tooltip id="acunetix_tooltip_onScanning">
				<vbox>
					<label id="acunetix_tooltip_onScanning_1" value = "Idle..."/>
					<label id="acunetix_tooltip_onScanning_2" value = "" collapsed = "true"/>
					<label id="acunetix_tooltip_onScanning_3" value = "" collapsed = "true"/>
					<label id="acunetix_tooltip_onScanning_4" value = "" collapsed = "true"/>
					<label id="acunetix_tooltip_onScanning_5" value = "" collapsed = "true"/>
					<label id="acunetix_tooltip_onScanning_6" value = "" collapsed = "true"/>
				</vbox>
			</tooltip>
			<tooltip id="acunetix_tooltip_onVulnerable">
				<hbox>
					<vbox id = "acunetix_tooltip_onVulnerableLabel"></vbox>
					<vbox id = "acunetix_tooltip_onVulnerableValue"></vbox>
				</hbox>
			</tooltip>
			<hbox align="center" >
				<label id="acunetix_scannerStatus" value = "&toolbar.advanced.status.idle;" tooltip="acunetix_tooltip_onScanning"/>
				<progressmeter id="acunetix_scanning_progress"  mode="determined" value="0" collapsed = "true" tooltip="acunetix_tooltip_onScanning"/>
				<label id="acunetix_scannerStatus2" value = "" collapsed = "true" tooltip="acunetix_tooltip_onVulnerable" />
			</hbox>
		</toolbar>
	</toolbox>
	
	<vbox id="appcontent">
		<splitter id="acunetix_appcontent_bottomContainerBoxSplitter" class="acunetixSplitter" collapsed= "false"/>	
		<vbox id = "acunetix_appcontent_bottomContainerBox" collapsed = "false" persist="height">
			<vbox flex="1" id="acunetix_appcontent_pageRequestListBox"  height="100" style="min-height:200px; overflow:-moz-scrollbars-vertical" />
			<browser id="acunetix_appcontent_browserContainer"  src="" collapsed = "true" />
		</vbox>
	</vbox>

</overlay>


